(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{474:function(e,n,t){"use strict";t.d(n,{A:function(){return X}});var r,o=t(52322),i=t(75125),c=t(34020),a=t(21351),s=t(2784),l=t(48975),u=t(82066),f=t(64033),d=t(41410),m=t(90711),p=t(39067),x=t(46355),h=t(47363),v=t(85248),y=t(4611),b=t(30918);!function(e){e[e.ORDER_SELECT=0]="ORDER_SELECT",e[e.PRICE_ADJUSTMENT=1]="PRICE_ADJUSTMENT",e[e.TRANSACTION=2]="TRANSACTION",e[e.CONFIRMATION=3]="CONFIRMATION"}(r||(r={}));var g=t(66170),w=t(10528),j=t(63677),k=t(6697),O=t(88358),C=t(35361);function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var P=w.O$.from(g.To),S=function(e){var n,t=e.currentPrice,r=e.newPrice,a=e.newEndTimeMs,l=e.collectionFloor,u=e.points,d=e.onNewPriceChange,p=e.onNewEndtimeChange,x=e.onConfirmNewPrice,h=e.onClose,v=e.osListingPriceInWei,b=(0,i.$G)().t,g=(0,k.Go)(l),S=g.globalFloor,I=g.floorPrice,E=(0,s.useMemo)((function(){return w.O$.from(t)}),[t]),A=(0,s.useMemo)((function(){return r?(0,y.t1)(r):m._Y}),[r]),N=!E.eq(A),R=(0,k.Wi)(I,r&&(0,y.t1)(r)),D=R.floorDiffPercentString,M=R.hasLowThresholdReached,F=(0,j.h)(r,{max:E,min:P,errorMessages:(n={},T(n,j.p.BELOW_MIN,b("You must list for a minimum of {{amount}} {{token}}",{amount:(0,y.As)(P,6),token:"ETH"})),T(n,j.p.ABOVE_MAX,b("Cancel your listing first if you want to increase price")),T(n,j.p.INVALID_INPUT,b("Please enter a valid number")),n)});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.fe,{children:[(0,o.jsxs)(f.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(c.xv,{textStyle:"detail",color:"text-02",children:b("Current Price")}),(0,o.jsx)(f.xu,{children:(0,o.jsxs)(f.kC,{alignItems:"center",children:[(0,o.jsx)(c.u,{}),(0,o.jsx)(c.xv,{bold:!0,textStyle:"detail",verticalAlign:"bottom",children:(0,y.As)(t,4)})]})})]}),I&&(0,o.jsxs)(f.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(c.xv,{textStyle:"detail",color:"text-02",children:b("Floor Price")}),(0,o.jsx)(f.xu,{children:(0,o.jsxs)(f.kC,{alignItems:"center",children:[(0,o.jsx)(c.u,{}),(0,o.jsx)(c.xv,{bold:!0,textStyle:"detail",verticalAlign:"bottom",children:(0,y.As)(I,4)})]})})]}),(0,o.jsx)(O.jH,{priceInWei:v,my:4}),(0,o.jsxs)(f.kC,{alignItems:"center",justifyContent:"space-between",mb:2,mt:4,children:[(0,o.jsx)(c.xv,{textStyle:"detail",color:"text-02",children:b("New Price")}),(0,o.jsx)(O.UK,{points:u,globalFloor:S,priceInEth:r})]}),(0,o.jsx)(O.LH,{price:r,setPrice:d,currency:"ETH",warning:F&&F.message?F.message:M?b("{{floorDiff}}% lower than floor price",{floorDiff:null===D||void 0===D?void 0:D.replace("-","")}):void 0,wrapperProps:{mb:4}}),(0,o.jsx)(f.iz,{my:4}),(0,o.jsxs)(f.kC,{alignItems:"center",mb:6,children:[(0,o.jsx)(c.xv,{textStyle:"helper",color:"text-02",flex:1,children:b("Validity")}),(0,o.jsx)(C.M,{initialDate:new Date(a),onDateUpdate:p})]})]}),(0,o.jsxs)(c.zD,{children:[(0,o.jsx)(c.zx,{variant:"tall",colorScheme:"gray",isFullWidth:!0,onClick:h,children:b("Cancel")}),(0,o.jsx)(c.zx,{variant:"tall",isFullWidth:!0,disabled:!!F||!N,onClick:x,children:b("Lower Price")})]})]})},I=t(94776),E=t.n(I),A=t(52829),N=t(59656),R=t(96459),D=t(80764);function M(e,n,t,r,o,i,c){try{var a=e[i](c),s=a.value}catch(l){return void t(l)}a.done?n(s):Promise.resolve(s).then(r,o)}function F(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){M(i,r,o,c,a,"next",e)}function a(e){M(i,r,o,c,a,"throw",e)}c(void 0)}))}}var L=function(e){var n=e.order,t=e.newPrice,r=e.newEndTimeMs,i=e.collectionType,a=e.protocolFees,u=e.creatorFees,d=e.tokenName,p=e.tokenImage,x=e.collectionName,h=e.isVerified,v=e.onClose,b=e.onBack,j=e.onConfirm,k=(0,l.Ge)(),C=k.library,T=k.account,P=(0,A.$)().t,S=(0,s.useState)(!1),I=S[0],M=S[1],L=(0,s.useState)(O.G7.APPROVAL),_=L[0],U=L[1],z=(0,s.useState)(),V=z[0],$=z[1],B=N.parseEther(t),G=n.collection,W=(0,s.useCallback)(F(E().mark((function e(){var n,t,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=21;break}return n=g.Yu[i],e.next=4,(0,D._J)(C,n.abi,G,T,n.transferManagerAddress);case 4:if(!e.sent){e.next=9;break}U(O.G7.TRADE),e.next=21;break;case 9:return e.next=11,(0,D.ub)(C,n.abi,G,T,n.transferManagerAddress);case 11:return t=e.sent,$(t.hash),e.next=15,t.wait();case 15:if(!(r=e.sent).status){e.next=20;break}$(void 0),U(O.G7.TRADE),e.next=21;break;case 20:throw new Error("".concat(r.transactionHash," failed"));case 21:case"end":return e.stop()}}),e)}))),[T,C,G,i]),H=(0,s.useCallback)(F(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=5;break}return M(!0),e.next=4,(0,R.KU)(C,g.TL,!0,n.collection,n.strategy,m.fh,(0,y.t1)(t),w.O$.from(n.nonce),a,u,g.UB.WETH,{tokenId:n.tokenId.toString(),endTime:r});case 4:j();case 5:case"end":return e.stop()}}),e)}))),[T,C,n,t,r,a,u,j]),J=function(){return M(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(f.xu,{p:4,bg:"ui-bg",children:[(0,o.jsx)(O.BO,{tokenName:d,tokenImage:p,collectionName:x,isVerified:h}),(0,o.jsx)(O.vM,{endTime:r,ethBalanceUsed:B,priceText:P("Listing for")})]}),(0,o.jsxs)(c.fe,{children:[(0,o.jsx)(O.Xf,{onSendRequest:W,title:P("Approve Collection"),message:P("Confirm the transaction in your wallet. This lets you sell any item in this collection."),status:(0,c.rw)(O.G7.APPROVAL,_),collapse:_!==O.G7.APPROVAL,transaction:V,mb:6}),(0,o.jsx)(O.Xf,{onSendRequest:H,onSuccess:J,onError:J,title:P("Complete Listing"),message:P("Sign the message in your wallet to complete the listing."),status:(0,c.rw)(O.G7.TRADE,_),collapse:_!==O.G7.TRADE})]}),(0,o.jsxs)(c.zD,{children:[(0,o.jsx)(c.zx,{tabIndex:1,variant:"tall",colorScheme:"gray",onClick:b,disabled:I,children:P("Edit Price")}),(0,o.jsx)(c.zx,{"data-test-id":"transaction-view-cancel-button",tabIndex:2,variant:"tall",colorScheme:"gray",onClick:v,disabled:I,children:P("Cancel")})]})]})},_=t(26106),U=t(10004);function z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function V(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var $=function(e){var n=e.makerOrder,t=e.onSelectOrder,r=e.collectionFloorOrderPrice,a=V(e,["makerOrder","onSelectOrder","collectionFloorOrderPrice"]),s=(0,i.$G)().t,l=(0,b.Oy)(n.startTime),u=(0,b.Oy)(n.endTime),d=r&&(0,k.Wi)(r,n.price)||{},m=d.floorDiffPercentString,p=d.floorDiffPercentBn,x=(0,k.NJ)(m,p);return(0,o.jsxs)(f.kC,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){z(e,n,t[n])}))}return e}({alignItems:"center",cursor:"pointer",userSelect:"none",onClick:function(){return t(n)},px:4,py:6,borderBottom:"1px solid",borderBottomColor:"gray.700"},a,{children:[(0,o.jsxs)(f.xu,{flex:1,children:[(0,o.jsxs)(f.kC,{mb:3,children:[(0,o.jsx)(c.u,{boxSize:14,width:"10px",height:"20px",mr:1}),(0,o.jsx)(c.xv,{bold:!0,textStyle:"detail",children:(0,y.As)(n.price,4)}),x&&(0,o.jsx)(c.xv,{color:"gray.400",textStyle:"detail",children:x})]}),(0,o.jsxs)(f.kC,{alignItems:"center",children:[(0,o.jsx)(c.xv,{textStyle:"detail",color:"gray.400",mr:2,children:(0,U.Z)(l,{addSuffix:!0})}),(0,o.jsx)(c.xv,{textStyle:"detail",color:"gray.400",children:s("Expiring {{timeUntilExpiry}}",{timeUntilExpiry:(0,U.Z)(u,{addSuffix:!0})})})]})]}),(0,o.jsx)(_.hU,{"aria-label":"select order",variant:"ghost",colorScheme:"gray",children:(0,o.jsx)(c.LZ,{})})]}))},B=t(39097),G=t(19637),W=t(24651),H=t(96319),J=t(16147),Q=function(e){var n=e.tokenId,t=e.tokenName,r=e.tokenImage,i=e.collectionName,a=e.collectionAddress,s=e.isVerified,l=e.price,u=e.endTime,f=e.onClose,d=(0,A.$)().t;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.fe,{bg:"ui-bg",children:[(0,o.jsx)(H.Z,{tokenName:t,tokenImage:r,collectionName:i,isVerified:s}),(0,o.jsx)(J.Z,{endTime:u,ethBalanceUsed:N.parseEther(l),priceText:d("Listed for")})]}),(0,o.jsxs)(c.fe,{pb:12,children:[(0,o.jsx)(c.n6,{color:"interactive-01",boxSize:14,mb:4}),(0,o.jsx)(c.xv,{textStyle:"heading-04",bold:!0,mb:4,children:d("Listing Updated")}),(0,o.jsx)(G.c,{i18nKey:"translateListForSaleModalConfirmWeth",children:(0,o.jsxs)(c.xv,{color:"text-02",textStyle:"detail",children:["You\u2019ll receive your payment in"," ",(0,o.jsx)(c.xv,{bold:!0,as:"span",color:"text-error",children:"WETH"}),", not ETH if someone buys your item."]})}),(0,o.jsx)(W.Hv,{my:6})]}),(0,o.jsxs)(c.zD,{children:[(0,o.jsx)(c.zx,{tabIndex:1,variant:"tall",colorScheme:"gray",onClick:f,children:d("Close")}),(0,o.jsx)(B.default,{href:"/collections/".concat(a,"/").concat(n),passHref:!0,children:(0,o.jsx)(c.zx,{tabIndex:2,variant:"tall",onClick:f,children:d("View Item")})})]})]})};function Z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Z(e,n,t[n])}))}return e}var Y=function(e){var n=e.orders,t=e.collectionType,i=e.tokenName,c=e.tokenImage,a=e.collectionName,g=e.isVerified,w=e.collectionFloor,j=e.points,O=e.onClose,C=1===n.length,T=(0,l.Ge)().account,P=(0,s.useState)((function(){return{view:C?r.PRICE_ADJUSTMENT:r.ORDER_SELECT,selectedOrder:C?n[0]:null,newPrice:C?(0,y.wE)(n[0].price):"0",newEndTimeMs:C?(0,d.Z)(Number(n[0].endTime)).getTime():(new Date).getTime()}})),I=P[0],E=P[1],A=I.view,N=I.newPrice,R=I.newEndTimeMs,D=I.selectedOrder,M=null!==D&&void 0!==D?D:{},F=M.tokenId,_=M.collection,U=M.strategy,z=null===F||void 0===F?void 0:F.toString(),V=(0,u.useQueryClient)(),B=(0,x.qP)(U,{enabled:!!D}),G=(0,p.AW)(_,z,{enabled:!!D}),W=(0,v.O)(_,z,T,{enabled:!!D&&!!T}),H=G.isSuccess?G.data:0,J=B.isSuccess?B.data:m._Y,Z=H?(0,y.t1)(H.toFixed(2),2):m._Y,Y=(0,k.Go)(w).floorPrice,X=function(e){E((function(n){return q({},n,{selectedOrder:e,view:r.PRICE_ADJUSTMENT,newPrice:(0,y.wE)(e.price),newEndTimeMs:(0,d.Z)(Number(e.endTime.toString())).getTime()})}))};return A===r.PRICE_ADJUSTMENT&&D?(0,o.jsx)(S,{currentPrice:D.price,newPrice:N,newEndTimeMs:R,collectionFloor:w,points:j,onNewPriceChange:function(e){return E((function(n){return q({},n,{newPrice:e})}))},onNewEndtimeChange:function(e){return E((function(n){return q({},n,{newEndTimeMs:new Date(e).getTime()})}))},onConfirmNewPrice:function(){E((function(e){return q({},e,{view:r.TRANSACTION})}))},onClose:O,osListingPriceInWei:W.isSuccess?W.data.price:null}):A===r.TRANSACTION&&D?(0,o.jsx)(L,{order:D,newPrice:N,newEndTimeMs:R,collectionType:t,protocolFees:J,creatorFees:Z,tokenImage:c,tokenName:i,collectionName:a,isVerified:g,onClose:O,onBack:function(){return E((function(e){return q({},e,{view:C?r.PRICE_ADJUSTMENT:r.ORDER_SELECT})}))},onConfirm:function(){E((function(e){return q({},e,{view:r.CONFIRMATION})})),D&&V.invalidateQueries(h.pT.token(D.collection,D.tokenId.toString()))}}):A===r.CONFIRMATION&&D?(0,o.jsx)(Q,{tokenId:D.tokenId.toString(),tokenName:i,tokenImage:c,collectionName:a,collectionAddress:D.collection,isVerified:g,price:N,endTime:(0,b.Oy)(D.endTime),onClose:O}):(0,o.jsx)(f.xu,{children:n.map((function(e){return(0,o.jsx)($,{makerOrder:e,onSelectOrder:X,collectionFloorOrderPrice:Y},e.tokenId.toString())}))})},X=function(e){var n=e.orders,t=e.collectionType,r=e.tokenName,s=e.tokenImage,l=e.collectionName,u=e.collectionFloor,f=e.points,d=e.isVerified,m=e.isOpen,p=e.onClose,x=(0,i.$G)().t;return(0,o.jsx)(c.CO,{isOpen:m,onClose:p,size:"sm",title:x("Adjust Listing"),closeOnOverlayClick:!1,children:(0,o.jsx)(a.w,{children:(0,o.jsx)(Y,{orders:n,collectionType:t,tokenName:r,collectionName:l,collectionFloor:u,points:f,isVerified:d,tokenImage:s,onClose:p})})})}},95619:function(e,n,t){"use strict";t.d(n,{y:function(){return i}});var r=t(14827),o=t(2784),i=function(){var e=(0,o.useContext)(r.FJ);if(void 0===e)throw new Error("Eager connect context is undefined");return e}},4409:function(e,n,t){"use strict";t.d(n,{UX:function(){return y},rT:function(){return g}});var r=t(94776),o=t.n(r),i=t(2784),c=t(82066),a=t(19126),s=t.n(a);function l(e,n,t,r,o,i,c){try{var a=e[i](c),s=a.value}catch(l){return void t(l)}a.done?n(s):Promise.resolve(s).then(r,o)}var u=new Map,f=function(){var e,n=(e=o().mark((function e(n){var t,r,i,c,a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.address,r=n.limit,i=n.page,c=n.tokenIds,e.prev=1,e.next=4,fetch("/api/rarity/assets/".concat(t,"?").concat(s().stringify({limit:r,page:i,tokenIds:c},{indices:!1})));case 4:if((a=e.sent).ok){e.next=8;break}return u.set(t,!0),e.abrupt("return",null);case 8:return e.next=10,a.json();case 10:return l=e.sent,e.abrupt("return",l);case 14:return e.prev=14,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){l(i,r,o,c,a,"next",e)}function a(e){l(i,r,o,c,a,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}();function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function m(e,n,t,r,o,i,c){try{var a=e[i](c),s=a.value}catch(l){return void t(l)}a.done?n(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){m(i,r,o,c,a,"next",e)}function a(e){m(i,r,o,c,a,"throw",e)}c(void 0)}))}}function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],c=!0,a=!1;try{for(t=t.call(e);!(c=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);c=!0);}catch(s){a=!0,o=s}finally{try{c||null==t.return||t.return()}finally{if(a)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(e,n){return["rarity-item",e.toLowerCase(),n]},y=function(e,n,t){return(0,c.useQuery)(v(e,n),p(o().mark((function t(){var r,i,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({address:e,tokenIds:[n],limit:1,page:1});case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return i=h(r.items,1),c=i[0],t.abrupt("return",null!==c&&void 0!==c?c:null);case 7:case"end":return t.stop()}}),t)}))),function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}({refetchOnWindowFocus:!1,staleTime:1/0,cacheTime:1/0},t))},b=function(e,n){var t=e.filter((function(e){return!u.has(e.collection.address)})).reduce((function(e,t){return n.getQueryData(v(t.collection.address,t.tokenId))||(e[t.collection.address]||(e[t.collection.address]=[]),e[t.collection.address].push(t.tokenId)),e}),{}),r=function(){var e=p(o().mark((function e(t,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({address:t,tokenIds:r,limit:25,page:1});case 2:(i=e.sent)&&i.items.forEach((function(e){n.setQueryData(v(e.contractAddress,e.tokenId),e)}));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Promise.all(Object.entries(t).map(function(){var e=p(o().mark((function e(n){var t,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h(n,2),i=t[0],c=t[1],e.abrupt("return",r(i,c));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))},g=function(){var e=(0,c.useQueryClient)();return(0,i.useCallback)(function(){var n=p(o().mark((function n(t){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.slice(),i=function(){var n=p(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=4;break}return n.next=3,b(t,e);case 3:r.length>0&&i(r.shift());case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),i(r.shift());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e])}},27508:function(e,n,t){"use strict";t.d(n,{D:function(){return f}});var r=t(94776),o=t.n(r),i=t(2784),c=t(82066),a=t(36687),s=t(47363),l=t(16986);function u(e,n,t,r,o,i,c){try{var a=e[i](c),s=a.value}catch(l){return void t(l)}a.done?n(s):Promise.resolve(s).then(r,o)}var f=function(){var e=(0,l.p)(),n=(0,c.useQueryClient)();return(0,i.useCallback)(function(){var t,r=(t=o().mark((function t(r,i){var c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.r)(r,i);case 2:(c=t.sent).success?(e({title:"Refreshing",description:"Metadata refreshing. Check back in a few moments."}),n.invalidateQueries(s.pT.token(r,i))):e({title:"Can't refresh",description:c.message,status:"error"});case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(e){u(i,r,o,c,a,"next",e)}function a(e){u(i,r,o,c,a,"throw",e)}c(void 0)}))});return function(e,n){return r.apply(this,arguments)}}(),[e,n])}},36687:function(e,n,t){"use strict";t.d(n,{r:function(){return m},e:function(){return p}});var r=t(94776),o=t.n(r),i=t(6647),c=t(79126),a=t(66842);function s(e,n,t,r,o,i,c){try{var a=e[i](c),s=a.value}catch(l){return void t(l)}a.done?n(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function c(e){s(i,r,o,c,a,"next",e)}function a(e){s(i,r,o,c,a,"throw",e)}c(void 0)}))}}function u(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function f(){var e=u(["\n    mutation RefreshTokenMutation($tokenId: String!, $collection: Address!) {\n      refreshToken(tokenId: $tokenId, collection: $collection) {\n        success\n        message\n      }\n    }\n  "]);return f=function(){return e},e}function d(){var e=u(["\n    mutation RefreshCollectionMutation($collection: Address!) {\n      refreshCollection(collection: $collection) {\n        success\n        message\n      }\n    }\n  "]);return d=function(){return e},e}var m=function(){var e=l(o().mark((function e(n,t){var r,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,i.gql)(f()),c={tokenId:t,collection:n},e.next=4,(0,a.B)(r,c);case 4:return s=e.sent,e.abrupt("return",s.refreshToken);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=l(o().mark((function e(n,t){var r,s,l,u,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,i.gql)(d()),s={collection:t},l=(0,c.w5)(n),u={Authorization:"Bearer ".concat(l)},e.next=6,(0,a.B)(r,s,u);case 6:return f=e.sent,e.abrupt("return",f.refreshCollection);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},53260:function(){}}]);
//# sourceMappingURL=133-4e46da04b0765644.js.map