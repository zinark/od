(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{75367:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rewards",function(){return n(69554)}])},83289:function(e,t,n){"use strict";n.d(t,{X:function(){return p},l:function(){return m}});var r=n(52322),i=n(2784),s=n(34756),a=n(64033),o=n(32538),l=n(34291),c=n.n(l),u=n(34020);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=function(e){var t=e.header,n=e.defaultIsOpen,l=e.collapseProps,d=e.children,f=e.headerProps,p=e.isOpenCallback,b=void 0===p?c():p,j=h(e,["header","defaultIsOpen","collapseProps","children","headerProps","isOpenCallback"]),v=(0,s.qY)({defaultIsOpen:n}),m=v.isOpen,O=v.onToggle;return(0,i.useEffect)((function(){m&&b()}),[m]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.kC,x({p:4,alignItems:"center",justifyContent:"space-between",cursor:"pointer",onClick:O},j,{children:[(0,r.jsx)(a.kC,x({},f,{alignItems:"center",flex:1,children:t})),(0,r.jsx)(a.xu,{children:m?(0,r.jsx)(u.Kh,{}):(0,r.jsx)(u._M,{})})]})),(0,r.jsx)(o.UO,x({},l,{in:m,children:d}))]})};f.defaultProps={defaultIsOpen:!1,bg:"ui-02"};var p=f,b=n(65818);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}var m=function(e){var t=e.isSuccess,n=e.countItems,i=e.countMax,s=e.countProps,o=e.flexProps,l=e.children;return(0,r.jsxs)(a.kC,v({},o,{children:[(0,r.jsx)(u.xv,{bold:!0,mr:1,children:l}),t?(0,r.jsxs)(u.xv,v({color:"interactive-01",bold:!0},s,{children:["(",n&&(n>=i?"".concat(i,"+"):n),")"]})):(0,r.jsx)(b.Od,{width:"22px",height:"24px"})]}))}},69554:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return et},default:function(){return tt}});var r=n(52322),i=n(75125),s=n(66170),a=n(55351),o=n(32747),l=n(64033),c=n(88803),u=n(65818),d=n(52829),x=n(19637),h=n(34020),f=n(23257),p=n(1395),b=n(4611),j=n(85326),v=n(63501),m=n(64264),O=n(39132),g=function(){var e=(0,O.r)();return e.isSuccess?(0,b.t1)(e.data.looks.toString()):void 0},y=n(92065);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var k=function(e){var t=e.leftIcon,n=e.children,i=w(e,["leftIcon","children"]);return(0,r.jsxs)(l.kC,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({},i,{children:[(0,r.jsx)(l.xu,{flexShrink:0,order:{base:2,lg:1},mr:{base:0,lg:8},ml:{base:8,lg:0},children:t}),(0,r.jsx)(l.xu,{flex:1,order:{base:1,lg:2},children:n})]}))};function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){return(0,r.jsxs)(h.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}({width:"48",height:"48",viewBox:"0 0 48 48"},e,{children:[(0,r.jsx)("circle",{cx:"20",cy:"20",r:"20",fill:"#878D96"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.6666 15H12.3166C14.5301 11.5983 18.7169 10.057 22.6077 11.2115C26.4984 12.366 29.1669 15.9415 29.1666 20H30.8333C30.838 15.4338 27.979 11.3549 23.6851 9.80157C19.3912 8.24829 14.5843 9.55419 11.6666 13.0667V10H9.99998V16.6667H16.6666V15ZM23.3333 25H27.6833C25.4698 28.4017 21.283 29.943 17.3923 28.7885C13.5015 27.634 10.833 24.0585 10.8333 20H9.16663C9.16193 24.5662 12.0209 28.6451 16.3148 30.1984C20.6087 31.7517 25.4156 30.4458 28.3333 26.9333V30H29.9999V23.3333H23.3333V25Z",fill:"currentColor"}),(0,r.jsx)("circle",{cx:"38",cy:"38",r:"10",fill:"#0CE466"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38 39.0811C36.8561 39.0811 35.928 38.1538 35.928 37.009C35.928 35.8642 36.8561 34.9369 38 34.9369C39.1439 34.9369 40.0721 35.8642 40.0721 37.009C40.0721 38.1538 39.1439 39.0811 38 39.0811ZM37.0991 37.009C37.0991 37.5068 37.5027 37.9099 38 37.9099C38.4974 37.9099 38.9009 37.5068 38.9009 37.009C38.9009 36.5112 38.4974 36.1081 38 36.1081C37.5027 36.1081 37.0991 36.5112 37.0991 37.009Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.3334 37.0117L35.2973 33.045H40.7027L44.6667 37.0117L38 43.6757L31.3334 37.0117ZM41.0631 35.5675C39.3788 33.8759 36.6212 33.8759 34.937 35.5676L33.4955 37.009L34.937 38.4505C36.6212 40.1421 39.3788 40.1421 41.0631 38.4505L42.5045 37.009L41.0631 35.5675Z",fill:"currentColor"})]}))},L=n(2784),A=n(48975),T=n(59645),E=n(82066),I=n(94776),K=n.n(I),R=n(6647),D=n(66842);function V(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,i)}function W(){var e,t,n=(e=["\n    query GetRewardsSubgraph($where: User_filter) {\n      users(first: 1, where: $where) {\n        feeSharingAdjustedDepositAmount\n        feeSharingTotalCollectedWETH\n        feeSharingTotalCollectedLOOKS\n        feeSharingLastHarvestDate\n        feeSharingLastDepositDate\n        stakingPoolUniswapV2LastHarvestDate\n        stakingPoolUniswapV2TotalCollectedLOOKS\n        tradingRewardsAmount\n        tradingRewardsLastClaimDate\n        aggregatorAdjustedDepositAmount\n        aggregatorTotalCollectedLOOKS\n      }\n    }\n  "],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return W=function(){return n},n}var U=function(){var e,t=(e=K().mark((function e(t){var n,r;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,R.gql)(W()),e.next=3,(0,D.B)(n,{where:{id:t}},void 0,s.de.rewardsSubgraphUrl);case 3:return r=e.sent,e.abrupt("return",r.users[0]);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){V(s,r,i,a,o,"next",e)}function o(e){V(s,r,i,a,o,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $="looks-distribution-subgraph",H=function(e,t){var n=e.toLowerCase();return(0,E.useQuery)([$,n],(function(){return U(n)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}({refetchInterval:s.O$},t))},G=n(24651),M=n(83289),Y=function(){return(0,r.jsxs)(l.kC,{p:4,alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(u.Od,{height:"24px",width:"128px"}),(0,r.jsx)(u.Od,{height:"24px",width:"64px"})]})},z=n(79505),F=function(){var e=(0,i.$G)().t;return(0,r.jsx)(l.xu,{bg:"ui-01",py:6,px:4,children:(0,r.jsxs)(l.MI,{width:"100%",columns:2,children:[(0,r.jsx)(l.kC,{alignItems:"center",children:(0,r.jsx)(h.xv,{bold:!0,children:e("Connect Wallet to View")})}),(0,r.jsx)(G.pB,{width:"100%"})]})})},Q=n(34756),B=n(16986),X=n(90711),q=n(63677);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z,J=X.Ce,ee=function(e){var t,n=e.inputValue,r=e.max,s=e.min,a=void 0===s?J:s,o=(0,i.$G)().t;return(0,q.h)(n,{max:r,min:a,errorMessages:(t={},N(t,q.p.BELOW_MIN,o("When staking, the amount must be at least {{amount}} {{token}}",{amount:"1",token:"LOOKS"})),N(t,q.p.ABOVE_MAX,o("Insufficient {{token}} balance",{token:"LOOKS"})),N(t,q.p.INVALID_INPUT,o("Please enter a valid number")),t)})},te=function(e){var t,n=e.inputValue,r=e.max,s=e.min,a=(0,i.$G)().t;return(0,q.h)(n,{max:r,min:s,errorMessages:(t={},N(t,q.p.ABOVE_MAX,a("Insufficient staked balance")),N(t,q.p.BELOW_MIN,a("Minimum withdrawal amount is {{amount}} {{token}}",{amount:(0,b.wE)(s),token:"LOOKS"})),N(t,q.p.INVALID_INPUT,a("Please enter a valid number")),t)})},ne=n(57399),re=n(83782),ie=n(88796);function se(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,i)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){se(s,r,i,a,o,"next",e)}function o(e){se(s,r,i,a,o,"throw",e)}a(void 0)}))}}!function(e){e[e.APPROVAL=0]="APPROVAL",e[e.STAKE=1]="STAKE"}(Z||(Z={}));var oe=function(e){var t=e.onConfirm,n=e.stakingAmount,i=(0,A.Ge)(),a=i.library,o=i.account,l=(0,d.$)().t,c=(0,L.useState)(Z.APPROVAL),u=c[0],x=c[1],f=(0,L.useState)(),p=f[0],j=f[1],v=(0,L.useMemo)((function(){return n?(0,b.t1)(n):X._Y}),[n]);(0,L.useEffect)((function(){x(Z.APPROVAL)}),[o]);var m=(0,L.useCallback)(ae(K().mark((function e(){var t,n;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=20;break}return e.next=3,(0,ne.RC)(a,s.UB.LOOKS,o,s.UB.AGGREGATOR_UNISWAP_V3);case 3:if(!e.sent.gte(v)){e.next=8;break}x(Z.STAKE),e.next=20;break;case 8:return e.next=10,(0,ne.dE)(a,s.UB.LOOKS,o,s.UB.AGGREGATOR_UNISWAP_V3);case 10:return t=e.sent,j(t.hash),e.next=14,t.wait();case 14:if(!(n=e.sent).status){e.next=19;break}j(void 0),x(Z.STAKE),e.next=20;break;case 19:throw new Error("".concat(n.transactionHash," failed"));case 20:case"end":return e.stop()}}),e)}))),[o,a,v]),O=(0,L.useCallback)(ae(K().mark((function e(){var n,r;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=13;break}return e.next=3,(0,re._6)(a,o,v);case 3:return n=e.sent,j(n.hash),e.next=7,n.wait();case 7:if(!(r=e.sent).status){e.next=12;break}t(r.transactionHash),e.next=13;break;case 12:throw new Error("".concat(r.transactionHash," failed"));case 13:case"end":return e.stop()}}),e)}))),[o,a,v,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ie.X,{onSendRequest:m,title:l("Enable LOOKS staking"),message:l("Confirm the transaction in your wallet. This lets you stake your LOOKS in the smart contract."),status:(0,h.rw)(Z.APPROVAL,u),collapse:u!==Z.APPROVAL,transaction:p,mb:6}),(0,r.jsx)(ie.X,{onSendRequest:O,title:l("Confirm Stake"),message:l("Confirm the transaction in your wallet."),status:(0,h.rw)(Z.STAKE,u),collapse:u!==Z.STAKE,transaction:p})]})},le=function(e){var t=e.onConfirm,n=e.onClose,i=e.isOpen,s=e.stakingAmount,a=(0,d.$)().t;return(0,r.jsx)(h.CO,{isOpen:i,onClose:n,title:a("Confirmation"),closeOnOverlayClick:!0,children:(0,r.jsx)(h.fe,{children:(0,r.jsx)(oe,{stakingAmount:s,onConfirm:t})})})},ce=n(80038),ue=n(85561);function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){de(e,t,n[t])}))}return e}function he(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fe=function(e){var t=e.onMaxValue,n=e.onSubmit,i=e.buttonText,s=e.isLoading,a=e.isInvalid,o=e.disabled,c=e.wrapperProps,u=e.buttonProps,x=e.onTextChange,f=he(e,["onMaxValue","onSubmit","buttonText","isLoading","isInvalid","disabled","wrapperProps","buttonProps","onTextChange"]),p=(0,d.$)().t;return(0,r.jsxs)(l.kC,xe({},c,{children:[(0,r.jsxs)(ce.BZ,{children:[(0,r.jsx)(h.Y2,xe({pr:16,isInvalid:a,onTextChange:function(e){return x((0,ue.Xt)(e))}},f)),(0,r.jsx)(ce.xH,{mr:4,children:(0,r.jsx)(h.zx,{size:"xs",variant:"ghost",colorScheme:"gray",disabled:o,onClick:t,children:p("Max")})})]}),(0,r.jsx)(h.zx,xe({isLoading:s,disabled:o||!f.value||a,square:!0},u,{onClick:n,children:i||p("Stake")}))]}))},pe=function(){var e=(0,A.Ge)().account,t=(0,i.$G)().t,n=(0,B.p)(),s=(0,E.useQueryClient)(),a=(0,Q.qY)(),o=a.isOpen,c=a.onOpen,u=a.onClose,d=(0,L.useState)(""),x=d[0],f=d[1],p=(0,T.$5)(null!==e&&void 0!==e?e:"",{enabled:!!e}).data,j=(0,v.Xr)({enabled:!!e}),m=ee({inputValue:x,max:p}),O=(0,b.wE)(p||"0"),g=(0,L.useCallback)((function(){u(),f(""),n({title:t("Staked!"),description:t("Your LOOKS has been successfully staked."),status:"success"}),s.invalidateQueries(T.R3),s.invalidateQueries(v.Il),s.invalidateQueries($)}),[u,n,s,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(le,{isOpen:o,onClose:u,onConfirm:g,stakingAmount:x}),(0,r.jsxs)(l.xu,{mb:8,children:[(0,r.jsx)(fe,{onMaxValue:function(){return f(O)},onSubmit:c,onTextChange:function(e){return f(e)},value:x,isInvalid:!!m,disabled:j.isLoading||j.data||!e||(null===p||void 0===p?void 0:p.isZero())}),m&&(0,r.jsx)(h.xv,{bold:!0,color:"text-error",textStyle:"detail",mt:2,children:m.message})]})]})},be=n(47884),je=n(45255),ve=function(e,t){return t.mul((0,b.t1)("1")).div(e)},me=n(40786);function Oe(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,i)}var ge,ye=(0,b.t1)("0.001"),Se=function(){var e,t=(0,A.Ge)(),n=t.account,i=t.library,s=(0,d.$)().t,a=(0,B.p)(),o=(0,E.useQueryClient)(),c=(0,Q.qY)(),u=c.isOpen,x=c.onOpen,f=c.onClose,p=(0,L.useState)(""),j=p[0],m=p[1],O=(0,v.J0)(null!==n&&void 0!==n?n:"",{enabled:!!n}).data,g=(0,v.qO)(),y=g.data,S=g.refetch,w=(0,v.mw)(null!==n&&void 0!==n?n:"",{enabled:!!n}).data,k=te({inputValue:j,max:w,min:ye}),C=(0,L.useCallback)((e=K().mark((function e(){var t,r,s;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:if(t=(0,b.t1)(j||"0"),r=ve(y,t),!O||!O.shares.sub(r).lt(ye)){e.next=11;break}return e.next=8,(0,re.BL)(i,n);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,(0,re.XW)(i,n,r);case 13:e.t0=e.sent;case 14:return s=e.t0,e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){Oe(s,r,i,a,o,"next",e)}function o(e){Oe(s,r,i,a,o,"throw",e)}a(void 0)}))}),[n,j,i,S,y,O]),P=(0,L.useCallback)((function(){a({title:s("Unstaked!"),description:s("Your LOOKS is now in your wallet."),status:"success"}),m(""),f(),o.invalidateQueries(v.Il),o.invalidateQueries(T.R3),o.invalidateQueries($)}),[o,f,s,a]),I=(0,L.useCallback)((function(e){a({title:"Error",description:(0,be.e)(e),status:"error"})}),[a]),R=(0,je.l)({onSend:C,onSuccess:P,onError:I}),D=R.submitTransaction,V=R.isTxConfirmed,W=R.isTxSending,U=R.isTxWaiting,_=R.isTxError;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(me.j,{isOpen:u,onClose:f,isTxConfirmed:V,isTxSending:W,isTxWaiting:U,isTxError:_}),(0,r.jsxs)(l.xu,{mb:8,children:[(0,r.jsx)(fe,{onSubmit:function(){D(),x()},onMaxValue:function(){return m((0,b.As)(w||"0",18,{commify:!1}))},onTextChange:function(e){return m(e)},value:j,disabled:!n||!y||(null===w||void 0===w?void 0:w.isZero()),isInvalid:!!k,buttonText:s("Unstake")}),k&&(0,r.jsx)(h.xv,{bold:!0,color:"text-error",textStyle:"detail",mt:2,children:k.message})]})]})};!function(e){e[e.stake=0]="stake",e[e.unstake=1]="unstake"}(ge||(ge={}));var we=function(){var e,t,n=(0,d.$)().t,i=(0,A.Ge)().account,s=(0,L.useState)(ge.stake),a=s[0],o=s[1],c=(0,O.r)({enabled:!!i}),x=(0,T.$5)(null!==i&&void 0!==i?i:"",{enabled:!!i}),f=(0,v.mw)(null!==i&&void 0!==i?i:"",{enabled:!!i}),p=H(null!==i&&void 0!==i?i:"",{enabled:!!i}),j=c.isSuccess&&(0,b.t1)(c.data.looks.toString()),m=f.isSuccess&&j&&(0,b.As)(f.data.mul(j).div((0,b.t1)("1")),2),g=(null===(e=p.data)||void 0===e?void 0:e.aggregatorAdjustedDepositAmount)?(0,b.t1)(p.data.aggregatorAdjustedDepositAmount):void 0,y=(null===(t=p.data)||void 0===t?void 0:t.aggregatorTotalCollectedLOOKS)?(0,b.t1)(p.data.aggregatorTotalCollectedLOOKS):void 0,S=f.isSuccess&&g&&f.data.sub(g),w=y&&S&&S.add(y),k=w&&j&&(0,b.As)(w.mul(j).div((0,b.t1)("1")),2),C=(0,b.As)(f.data||"0",4),P=(0,b.As)(f.data||"0",4),E=(0,b.As)(x.data||"0",4),I=(0,b.As)(w||"0",4);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.xu,{children:[!i&&(0,r.jsx)(M.X,{headerProps:{width:"100%"},bg:"transparent",header:(0,r.jsx)(h.xv,{bold:!0,children:n("Your Stake")}),children:(0,r.jsx)(F,{})}),i&&(f.isSuccess?(0,r.jsx)(M.X,{bg:"transparent",defaultIsOpen:!0,headerProps:{width:"100%"},header:(0,r.jsxs)(l.kC,{width:"100%",justifyContent:"space-between",children:[(0,r.jsx)(h.xv,{bold:!0,children:n("Your Stake")}),(0,r.jsxs)(h.xv,{bold:!0,mr:3,children:[P," LOOKS"]})]}),children:(0,r.jsxs)(l.xu,{bg:"ui-01",py:6,px:4,children:[(0,r.jsxs)(l.kC,{display:"inline-flex",width:"50%",mb:8,children:[(0,r.jsx)(G.U3,{size:"xs",onClick:function(){return o(ge.stake)},isActive:a===ge.stake,children:n("Stake")}),(0,r.jsx)(G.U3,{size:"xs",onClick:function(){return o(ge.unstake)},isActive:a===ge.unstake,children:n("Unstake")})]}),a===ge.stake?(0,r.jsx)(pe,{}):(0,r.jsx)(Se,{}),(0,r.jsxs)(l.gC,{spacing:2,alignItems:"flex-start",children:[(0,r.jsxs)(z.L,{label:n("LOOKS in wallet"),children:[x.isLoading&&(0,r.jsx)(u.Od,{width:"60px",height:"20px"}),x.isSuccess&&E]}),(0,r.jsxs)(z.L,{label:n("Your Stake (Compounding)"),children:[c.isLoading&&(0,r.jsx)(u.Od,{width:"48px",height:"20px"}),c.isSuccess&&(0,r.jsxs)(l.kC,{alignItems:"baseline",children:[C,(0,r.jsxs)(h.xv,{ml:1,color:"text-03",textStyle:"helper",children:["($",m,")"]})]})]}),(0,r.jsxs)(z.L,{label:n("Earned to date"),children:[(p.isLoading||f.isLoading)&&(0,r.jsx)(u.Od,{width:"48px",height:"20px"}),p.isSuccess&&f.isSuccess&&(0,r.jsxs)(l.kC,{alignItems:"baseline",children:[I,(0,r.jsxs)(h.xv,{ml:1,color:"text-03",textStyle:"helper",children:["($",k,")"]})]})]})]}),(0,r.jsx)(l.iz,{my:6}),(0,r.jsx)(h.xv,{color:"text-03",textStyle:"helper",children:n("WETH you earn is automatically converted to LOOKS, which is received over time.")}),(0,r.jsx)(h.xv,{color:"text-03",textStyle:"helper",children:n("LOOKS rewards are automatically compounded - no need to collect!")})]})}):(0,r.jsx)(Y,{}))]})})},ke=function(){var e=(0,d.$)().t,t=(0,p.J)().apr,n=(0,f.p)(),i=n.apr,a=n.apy,o=n.dailyCompounds,c=function(){var e=(0,v.qO)(),t=(0,v.fK)(),n=g(),r=e.isSuccess&&t.isSuccess?e.data.mul(t.data).div((0,b.t1)("1")):void 0,i=r&&n?r.mul(n).div((0,b.t1)("1")):void 0;return{tvlInLOOKS:r,tvlInUSD:i}}(),m=c.tvlInLOOKS,O=c.tvlInUSD,S=t&&a?(0,b.DW)((0,j.TD)(a,t)):void 0,w=t?(0,b.DW)(t):void 0,C=i?(0,b.DW)(i):void 0,L=a?(0,b.DW)(a):void 0;return(0,r.jsxs)(l.rj,{gridTemplateColumns:{base:"1fr",lg:"repeat(2, 1fr)"},gridGap:4,children:[(0,r.jsx)(l.P4,{children:(0,r.jsxs)(k,{leftIcon:(0,r.jsx)(P,{boxSize:12,color:"black"}),mb:8,children:[(0,r.jsx)(h.xv,{as:"h4",bold:!0,children:e("LOOKS Compounder")}),(0,r.jsxs)(l.xu,{mb:4,children:[(0,r.jsxs)(x.c,{i18nKey:"transStakeLink",children:[(0,r.jsx)(h.xv,{as:"span",textStyle:"helper",color:"text-02",mr:1,children:e("Stake")}),(0,r.jsx)(h.rU,{isExternal:!0,fontSize:"xs",color:"link-01",href:"".concat(s.zF,"?outputCurrency=").concat(s.UB.LOOKS),rel:"nofollow noreferrer",fontWeight:"bold",children:"LOOKS"})]}),(0,r.jsx)(h.xv,{as:"span",mx:2,textStyle:"helper",color:"text-02",children:"|"}),(0,r.jsx)(h.xv,{as:"span",textStyle:"helper",color:"text-02",children:e("Earn LOOKS")}),(0,r.jsx)(h.xv,{textStyle:"helper",color:"text-02",children:e("WETH rewards auto compound into more LOOKS!")}),(0,r.jsxs)(l.xu,{display:"inline",children:[(0,r.jsx)(h.xv,{textStyle:"helper",color:"text-03",display:"inline",children:e("Total LOOKS staked: ")}),m&&O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.xv,{textStyle:"helper",color:"text-03",display:"inline",children:[(0,b.As)(m,0)," "]}),(0,r.jsxs)(h.xv,{textStyle:"helper",color:"text-03",display:"inline",children:["($",(0,b.As)(O,0),")"]})]}):(0,r.jsxs)(l.kC,{display:"inline-flex",children:[(0,r.jsx)(u.Od,{width:"64px",height:"15px",mr:2})," ",(0,r.jsx)(u.Od,{width:"72px",height:"15px"})]})]})]}),S?(0,r.jsx)(y.h,{looksApr:w,wethApr:C,wethApy:L,dailyCompounds:o,children:(0,r.jsxs)(l.kC,{alignItems:"center",display:"inline-flex",children:[(0,r.jsx)(h.xv,{as:"h3",textStyle:"heading-04",bold:!0,mr:2,children:"".concat(S,"% APY")}),(0,r.jsx)(l.kC,{display:"inline-flex",children:(0,r.jsx)(h.by,{color:"text-03"})})]})}):(0,r.jsx)(u.Od,{height:"32px",width:"124px"})]})}),(0,r.jsx)(l.P4,{children:(0,r.jsx)(we,{})})]})},Ce=n(38040);function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Pe(e,t,n[t])}))}return e}function Ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Te=function(e){var t=e.leftIcon,n=e.onCollect,i=e.isLoading,s=void 0!==i&&i,a=e.isDisabled,o=void 0!==a&&a,c=e.children,u=e.buttonProps,x=e.collectText,f=Ae(e,["leftIcon","onCollect","isLoading","isDisabled","children","buttonProps","collectText"]),p=(0,d.$)().t;return(0,r.jsxs)(l.kC,Le({border:"1px solid",borderColor:"border-01",alignItems:"center",flexDirection:{base:"column",sm:"row"}},f,{children:[(0,r.jsxs)(l.kC,{alignItems:"center",px:2,py:{base:4,sm:0},flex:1,width:"100%",children:[(0,r.jsx)(l.xu,{flexShrink:0,mr:2,children:t}),c]}),(0,r.jsx)(h.zx,Le({},u,{width:{base:"100%",sm:"auto"},isLoading:s,onClick:n,disabled:o,square:!0,children:x||p("Collect")}))]}))};function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ee(e,t,n[t])}))}return e}function Ke(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Re,De=function(e){var t=e.amount,n=e.symbol,i=e.price,s=e.isLoadingPrice,a=void 0!==s&&s,o=e.displayDecimals,c=void 0===o?9:o,d=Ke(e,["amount","symbol","price","isLoadingPrice","displayDecimals"]),x=(0,b.As)(t,c),f=parseFloat((0,b.wE)(t));return(0,r.jsxs)(l.kC,Ie({alignItems:"center",flexWrap:"wrap"},d,{children:[(0,r.jsx)(h.xv,{bold:!0,mr:2,children:"".concat(x," ").concat(n)}),a?(0,r.jsx)(u.Od,{height:"24px",width:"70px"}):(0,r.jsx)(h.xv,{color:"text-02",textStyle:"helper",children:"(".concat((0,b.gC)(f*i),")")})]}))},Ve=function(e){var t=e.amount,n=Ke(e,["amount"]),i=(0,O.r)();return(0,r.jsx)(De,Ie({amount:t,price:i.isSuccess?i.data.eth:0,isLoadingPrice:i.isFetching,symbol:"WETH"},n))},We=function(){var e,t,n,i,s,a,o=(0,E.useQueryClient)(),c=(0,A.Ge)(),x=c.account,f=c.library,p=(0,d.$)().t,j=(0,B.p)(),v=(0,O.r)(),g=(0,m.FL)(null!==x&&void 0!==x?x:"",{enabled:!!x}),y=H(null!==x&&void 0!==x?x:"",{enabled:!!x}),S=(0,m.ro)(null!==x&&void 0!==x?x:"",{enabled:!!x}),w=S.isSuccess&&y.isSuccess,k=(null===(e=y.data)||void 0===e?void 0:e.feeSharingLastHarvestDate)&&"0"!==(null===(t=y.data)||void 0===t?void 0:t.feeSharingLastHarvestDate)?(0,b.Of)(1e3*parseInt(y.data.feeSharingLastHarvestDate,10)):"-",C=parseFloat((null===(n=y.data)||void 0===n?void 0:n.feeSharingTotalCollectedWETH)||"0"),P=v.isSuccess&&(0,b.gC)(C*v.data.eth),L=(0,b.t1)((null===(i=y.data)||void 0===i?void 0:i.feeSharingAdjustedDepositAmount)||"0"),I=(0,b.t1)((null===(s=y.data)||void 0===s?void 0:s.feeSharingTotalCollectedLOOKS)||"0"),K=null===(a=S.data)||void 0===a?void 0:a.sub(L),R=K&&I.add(K),D=v.isSuccess&&(0,b.t1)(v.data.looks.toString()),V=R&&D&&(0,b.As)(R.mul(D).div((0,b.t1)("1")),2),W=(0,Q.qY)(),U=W.isOpen,_=W.onOpen,G=W.onClose,X=(0,je.l)({onSend:function(){return(0,Ce.gL)(f,x)},onSuccess:function(){j({title:"Collected!",description:"Your WETH is now in your wallet.",status:"success"}),o.invalidateQueries(m.zm),o.invalidateQueries(T.R3),o.invalidateQueries([$]),G()},onError:function(e){j({title:"Error",description:(0,be.e)(e),status:"error"})}}),q=X.submitTransaction,N=X.isTxConfirmed,Z=X.isTxSending,J=X.isTxWaiting,ee=X.isTxError;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(me.j,{isOpen:U,onClose:G,isTxConfirmed:N,isTxSending:Z,isTxWaiting:J,isTxError:ee}),(0,r.jsxs)(l.xu,{children:[!x&&(0,r.jsx)(M.X,{headerProps:{width:"100%"},bg:"transparent",header:(0,r.jsx)(h.xv,{bold:!0,children:p("Rewards to Collect")}),children:(0,r.jsx)(F,{})}),x&&(g.isSuccess?(0,r.jsx)(M.X,{headerProps:{width:"100%"},defaultIsOpen:g.data.gt(0),bg:"transparent",header:(0,r.jsxs)(l.kC,{width:"100%",justifyContent:"space-between",children:[(0,r.jsx)(h.xv,{bold:!0,children:p("Rewards to Collect")}),(0,r.jsx)(h.xv,{bold:!0,mr:3,children:(0,b.As)(g.data||0,4)})]}),children:(0,r.jsxs)(l.xu,{bg:"ui-01",py:6,px:4,children:[(0,r.jsxs)(l.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(h.xv,{color:"text-03",textStyle:"helper",mb:6,children:p("WETH rewards from the pool are distributed every block.")}),(0,r.jsx)(h.J2,{label:(0,r.jsx)(h.k5,{children:p("Trading fees collected by the protocol are distributed to LOOKS stakers as rewards. Reward rates are adjusted roughly every 24 hours, based on the past 24 hours\u2019 trading activity.")}),children:(0,r.jsxs)(l.kC,{display:"inline-flex",mb:6,children:[(0,r.jsx)(h.xv,{color:"text-disabled",mr:2,bold:!0,children:p("What's this")}),(0,r.jsx)(h.by,{color:"text-03"})]})})]}),(0,r.jsx)(Te,{onCollect:function(){q(),_()},leftIcon:(0,r.jsx)(h.ib,{}),isDisabled:!x||g.data.isZero(),isLoading:U,children:(0,r.jsx)(Ve,{amount:g.data})}),(0,r.jsx)(z.L,{label:p("Last collected"),mt:6,mb:2,children:w?k:(0,r.jsx)(u.Od,{width:"60px",height:"20px"})}),(0,r.jsx)(z.L,{label:p("Collected to date"),children:w?(0,r.jsxs)(l.kC,{alignItems:"baseline",children:[(0,b.DW)(C,1,4),(0,r.jsxs)(h.xv,{ml:1,color:"text-03",textStyle:"helper",children:["(",P,")"]})]}):(0,r.jsx)(u.Od,{width:"60px",height:"20px"})}),(0,r.jsx)(l.iz,{my:6,bg:"ui-02"}),(0,r.jsx)(h.xv,{color:"text-03",textStyle:"helper",mb:6,children:p("LOOKS rewards are automatically compounded - no need to collect!")}),(0,r.jsxs)(l.kC,{justifyContent:"space-between",mb:6,children:[(0,r.jsxs)(l.kC,{children:[(0,r.jsx)(h.L$,{mr:2}),(0,r.jsx)(h.xv,{color:"text-01",bold:!0,children:"LOOKS"})]}),(0,r.jsx)(h.J2,{label:(0,r.jsx)(h.k5,{children:p("When you stake LOOKS, you also earn extra LOOKS as a bonus reward.")}),children:(0,r.jsxs)(l.kC,{display:"inline-flex",children:[(0,r.jsx)(h.xv,{color:"text-disabled",bold:!0,mr:2,children:p("Compounding")}),(0,r.jsx)(h.by,{color:"text-03"})]})})]}),(0,r.jsx)(z.L,{label:p("Earned to date"),children:w?R?(0,r.jsxs)(l.kC,{alignItems:"baseline",children:[(0,b.As)(R,4),(0,r.jsxs)(h.xv,{ml:1,color:"text-03",textStyle:"helper",children:["($",V,")"]})]}):"0.0":(0,r.jsx)(u.Od,{width:"60px",height:"20px"})})]})}):(0,r.jsx)(Y,{}))]})]})};function Ue(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,i)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){Ue(s,r,i,a,o,"next",e)}function o(e){Ue(s,r,i,a,o,"throw",e)}a(void 0)}))}}!function(e){e[e.APPROVAL=0]="APPROVAL",e[e.STAKE=1]="STAKE"}(Re||(Re={}));var $e=function(e){var t=e.onConfirm,n=e.stakingAmount,i=e.shouldClaimRewardToken,a=(0,A.Ge)(),o=a.library,l=a.account,c=(0,d.$)().t,u=(0,L.useState)(Re.APPROVAL),x=u[0],f=u[1],p=(0,L.useState)(),j=p[0],v=p[1],m=(0,L.useMemo)((function(){return n?(0,b.t1)(n):X._Y}),[n]);(0,L.useEffect)((function(){f(Re.APPROVAL)}),[l]);var O=(0,L.useCallback)(_e(K().mark((function e(){var t,n;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=20;break}return e.next=3,(0,ne.RC)(o,s.UB.LOOKS,l,s.UB.FEE_SHARING_SYSTEM);case 3:if(!e.sent.gte(m)){e.next=8;break}f(Re.STAKE),e.next=20;break;case 8:return e.next=10,(0,ne.dE)(o,s.UB.LOOKS,l,s.UB.FEE_SHARING_SYSTEM);case 10:return t=e.sent,v(t.hash),e.next=14,t.wait();case 14:if(!(n=e.sent).status){e.next=19;break}v(void 0),f(Re.STAKE),e.next=20;break;case 19:throw new Error("".concat(n.transactionHash," failed"));case 20:case"end":return e.stop()}}),e)}))),[l,o,m]),g=(0,L.useCallback)(_e(K().mark((function e(){var n,r;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=13;break}return e.next=3,(0,Ce._6)(o,l,m,i);case 3:return n=e.sent,v(n.hash),e.next=7,n.wait();case 7:if(!(r=e.sent).status){e.next=12;break}t(r.transactionHash),e.next=13;break;case 12:throw new Error("".concat(r.transactionHash," failed"));case 13:case"end":return e.stop()}}),e)}))),[l,o,m,t,i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ie.X,{onSendRequest:O,title:c("Enable LOOKS staking"),message:c("Confirm the transaction in your wallet. This lets you stake your LOOKS in the smart contract."),status:(0,h.rw)(Re.APPROVAL,x),collapse:x!==Re.APPROVAL,transaction:j,mb:6}),(0,r.jsx)(ie.X,{onSendRequest:g,title:c("Confirm Stake"),message:c("Confirm the transaction in your wallet."),status:(0,h.rw)(Re.STAKE,x),collapse:x!==Re.STAKE,transaction:j})]})},He=function(e){var t=e.onConfirm,n=e.onClose,i=e.isOpen,s=e.stakingAmount,a=e.shouldClaimRewardToken,o=(0,d.$)().t;return(0,r.jsx)(h.CO,{isOpen:i,onClose:n,title:o("Confirmation"),closeOnOverlayClick:!0,children:(0,r.jsx)(h.fe,{children:(0,r.jsx)($e,{stakingAmount:s,shouldClaimRewardToken:a,onConfirm:t})})})},Ge=function(e){var t=e.shouldClaimRewardToken,n=(0,A.Ge)().account,i=(0,d.$)().t,s=(0,B.p)(),a=(0,E.useQueryClient)(),o=(0,Q.qY)(),c=o.isOpen,u=o.onOpen,x=o.onClose,f=(0,L.useState)(""),p=f[0],j=f[1],v=(0,T.$5)(null!==n&&void 0!==n?n:"",{enabled:!!n}).data,O=ee({inputValue:p,max:v}),g=(0,b.wE)(v||"0"),y=(0,L.useCallback)((function(){a.invalidateQueries(T.R3),a.invalidateQueries(m.zm),a.invalidateQueries([$]),x(),j(""),s({title:i("Staked!"),description:i("Your LOOKS has been successfully staked."),status:"success"})}),[a,s,x,i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(He,{isOpen:c,onClose:x,onConfirm:y,shouldClaimRewardToken:t,stakingAmount:p}),(0,r.jsxs)(l.xu,{mb:8,children:[(0,r.jsx)(fe,{onMaxValue:function(){return j(g)},onSubmit:u,onTextChange:function(e){return j(e)},value:p,isInvalid:!!O,disabled:!n||(null===v||void 0===v?void 0:v.isZero())}),O&&(0,r.jsx)(h.xv,{bold:!0,color:"text-error",textStyle:"detail",mt:2,children:O.message})]})]})},Me=function(e){var t=e.onChange,n=(0,A.Ge)().account,i=(0,d.$)().t,s=(0,m.FL)(null!==n&&void 0!==n?n:"",{enabled:!!n}),a=s.data,o=s.isLoading,c=s.isSuccess,x=(0,b.As)(a||"0",9),f=!a||a.isZero();return(0,r.jsxs)(l.kC,{pt:6,alignItems:"center",justifyContent:"space-between",children:[(0,r.jsxs)(l.xu,{children:[o&&(0,r.jsx)(u.Od,{width:"180px",height:"24px"}),c&&(0,r.jsx)(h.J2,{label:(0,r.jsx)(h.k5,{children:i("You can collect pending rewards while staking or unstaking from this contract. You\u2019ll have to pay a little more in transaction fees for this.")}),children:(0,r.jsxs)(l.kC,{alignItems:"center",children:[(0,r.jsx)(h.xv,{color:f?"text-disabled":"text-01",mr:1,children:i("Collect {{wethRewards}} WETH rewards?",{wethRewards:x})}),(0,r.jsx)(h.Yk,{boxSize:5,color:f?"text-disabled":"text-01"})]})})]}),(0,r.jsx)(h.rs,{isDisabled:f||o,onChange:function(e){t(e.target.checked)}})]})};function Ye(e,t,n,r,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,i)}var ze,Fe=(0,b.t1)("0.001"),Qe=function(e){var t,n=e.shouldClaimRewardToken,i=(0,A.Ge)(),s=i.account,a=i.library,o=(0,d.$)().t,c=(0,B.p)(),u=(0,E.useQueryClient)(),x=(0,Q.qY)(),f=x.isOpen,p=x.onOpen,j=x.onClose,v=(0,L.useState)(""),O=v[0],g=v[1],y=(0,m.hQ)(null!==s&&void 0!==s?s:"",{enabled:!!s}).data,S=(0,m.h8)(),w=S.data,k=S.refetch,C=(0,m.ro)(null!==s&&void 0!==s?s:"",{enabled:!!s}).data,P=te({inputValue:O,max:C,min:Fe}),I=(0,L.useCallback)((t=K().mark((function e(){var t,r,i;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if(t=(0,b.t1)(O||"0"),r=ve(w,t),!y||!y.shares.sub(r).lt(Fe)){e.next=11;break}return e.next=8,(0,Ce.BL)(a,s,n);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,(0,Ce.XW)(a,s,r,n);case 13:e.t0=e.sent;case 14:return i=e.t0,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function a(e){Ye(s,r,i,a,o,"next",e)}function o(e){Ye(s,r,i,a,o,"throw",e)}a(void 0)}))}),[s,O,a,k,w,n,y]),R=(0,L.useCallback)((function(){c({title:"Unstaked!",description:o(n?"Your LOOKS + WETH are now in your wallet.":"Your LOOKS is now in your wallet."),status:"success"}),g(""),j(),u.invalidateQueries(m.zm),u.invalidateQueries(T.R3),u.invalidateQueries([$])}),[c,u,j,n,o]),D=(0,L.useCallback)((function(e){c({title:"Error",description:(0,be.e)(e),status:"error"})}),[c]),V=(0,je.l)({onSend:I,onSuccess:R,onError:D}),W=V.submitTransaction,U=V.isTxConfirmed,_=V.isTxSending,H=V.isTxWaiting,G=V.isTxError;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(me.j,{isOpen:f,onClose:j,isTxConfirmed:U,isTxSending:_,isTxWaiting:H,isTxError:G}),(0,r.jsxs)(l.xu,{mb:8,children:[(0,r.jsx)(fe,{onSubmit:function(){W(),p()},onMaxValue:function(){return g((0,b.As)(C||"0",18,{commify:!1}))},onTextChange:function(e){return g(e)},value:O,disabled:!s||!w||(null===C||void 0===C?void 0:C.isZero()),isInvalid:!!P,buttonText:o("Unstake")}),P&&(0,r.jsx)(h.xv,{bold:!0,color:"text-error",textStyle:"detail",mt:2,children:P.message})]})]})};!function(e){e[e.stake=0]="stake",e[e.unstake=1]="unstake"}(ze||(ze={}));var Be=function(){var e=(0,d.$)().t,t=(0,A.Ge)().account,n=(0,L.useState)(ze.stake),i=n[0],s=n[1],a=(0,L.useState)(!1),o=a[0],c=a[1],x=(0,T.$5)(null!==t&&void 0!==t?t:"",{enabled:!!t}),f=(0,m.ro)(null!==t&&void 0!==t?t:"",{enabled:!!t}),p=(0,O.r)({enabled:!!t}),j=(0,b.As)(f.data||"0",4),v=(0,b.As)(x.data||"0",4),g=p.isSuccess&&(0,b.t1)(p.data.looks.toString()),y=f.isSuccess&&g&&(0,b.As)(f.data.mul(g).div((0,b.t1)("1")),2);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.xu,{children:[!t&&(0,r.jsx)(M.X,{headerProps:{width:"100%"},bg:"transparent",header:(0,r.jsx)(h.xv,{bold:!0,children:e("Your Stake")}),children:(0,r.jsx)(F,{})}),t&&(f.isSuccess?(0,r.jsx)(M.X,{bg:"transparent",headerProps:{width:"100%"},header:(0,r.jsxs)(l.kC,{width:"100%",justifyContent:"space-between",children:[(0,r.jsx)(h.xv,{bold:!0,children:e("Your Stake")}),(0,r.jsxs)(h.xv,{bold:!0,mr:3,children:[j," LOOKS"]})]}),children:(0,r.jsxs)(l.xu,{bg:"ui-01",py:6,px:4,children:[(0,r.jsxs)(l.kC,{display:"inline-flex",width:"50%",mb:8,children:[(0,r.jsx)(G.U3,{size:"xs",onClick:function(){return s(ze.stake)},isActive:i===ze.stake,children:e("Stake")}),(0,r.jsx)(G.U3,{size:"xs",onClick:function(){return s(ze.unstake)},isActive:i===ze.unstake,children:e("Unstake")})]}),i===ze.stake?(0,r.jsx)(Ge,{shouldClaimRewardToken:o}):(0,r.jsx)(Qe,{shouldClaimRewardToken:o}),(0,r.jsxs)(z.L,{label:e("LOOKS in wallet"),mb:2,children:[x.isLoading&&(0,r.jsx)(u.Od,{width:"60px",height:"20px"}),x.isSuccess&&v]}),(0,r.jsxs)(z.L,{label:e("Your Stake (Compounding)"),children:[p.isLoading&&(0,r.jsx)(u.Od,{width:"48px",height:"20px"}),p.isSuccess&&(0,r.jsxs)(l.kC,{alignItems:"baseline",children:[j,(0,r.jsxs)(h.xv,{ml:1,color:"text-03",textStyle:"helper",children:["($",y,")"]})]})]}),(0,r.jsx)(l.iz,{pt:8}),(0,r.jsx)(Me,{onChange:function(e){return c(e)}})]})}):(0,r.jsx)(Y,{}))]})})},Xe=function(){var e=(0,d.$)().t,t=(0,p.J)(),n=t.apr,i=t.isSuccess,a=(0,f.p)(),o=a.apr,c=a.isSuccess,j=function(){var e=(0,m.h8)(),t=(0,m.aL)(),n=g(),r=e.isSuccess&&t.isSuccess?e.data.mul(t.data).div((0,b.t1)("1")):void 0,i=r&&n?r.mul(n).div((0,b.t1)("1")):void 0;return{tvlInLOOKS:r,tvlInUSD:i}}(),v=j.tvlInLOOKS,O=j.tvlInUSD,S=i&&c&&(0,b.DW)((n||0)+(o||0)),w=n?(0,b.DW)(n):void 0,C=o?(0,b.DW)(o):void 0;return(0,r.jsxs)(l.rj,{gridTemplateColumns:{base:"1fr",lg:"repeat(2, 1fr)"},gridGap:4,children:[(0,r.jsx)(l.P4,{children:(0,r.jsxs)(k,{leftIcon:(0,r.jsx)(h.L$,{boxSize:12}),mb:8,children:[(0,r.jsx)(h.xv,{as:"h4",bold:!0,children:e("LOOKS Staking")}),(0,r.jsxs)(l.xu,{mb:4,children:[(0,r.jsxs)(x.c,{i18nKey:"transStakeLink",children:[(0,r.jsx)(h.xv,{as:"span",textStyle:"helper",color:"text-02",mr:1,children:e("Stake")}),(0,r.jsx)(h.rU,{fontSize:"xs",color:"link-01",href:"".concat(s.zF,"?outputCurrency=").concat(s.UB.LOOKS),target:"_blank",rel:"nofollow noreferrer",fontWeight:"bold",children:"LOOKS"})]}),(0,r.jsx)(h.xv,{as:"span",mx:2,textStyle:"helper",color:"text-02",children:"|"}),(0,r.jsx)(h.xv,{as:"span",textStyle:"helper",color:"text-02",children:e("Earn LOOKS & WETH")}),(0,r.jsx)(l.xu,{children:(0,r.jsxs)(l.xu,{display:"inline",children:[(0,r.jsxs)(h.xv,{textStyle:"helper",color:"text-03",display:"inline",children:[e("Total LOOKS staked"),":"]}),v&&O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.xv,{textStyle:"helper",color:"text-03",display:"inline",children:[(0,b.As)(v,0)," "]}),(0,r.jsxs)(h.xv,{textStyle:"helper",color:"text-03",display:"inline",children:["($",(0,b.As)(O,0),")"]})]}):(0,r.jsxs)(l.kC,{display:"inline-flex",children:[(0,r.jsx)(u.Od,{width:"64px",height:"15px",mr:2})," ",(0,r.jsx)(u.Od,{width:"72px",height:"15px"})]})]})})]}),S?(0,r.jsx)(y.x,{looksApr:w,wethApr:C,children:(0,r.jsxs)(l.kC,{alignItems:"center",display:"inline-flex",children:[(0,r.jsx)(h.xv,{as:"h3",textStyle:"heading-04",bold:!0,mr:2,children:"".concat(S,"% APR")}),(0,r.jsx)(l.kC,{display:"inline-flex",children:(0,r.jsx)(h.by,{color:"text-03"})})]})}):(0,r.jsx)(u.Od,{height:"32px",width:"124px"})]})}),(0,r.jsxs)(l.P4,{children:[(0,r.jsx)(Be,{}),(0,r.jsx)(We,{})]})]})},qe=function(){return(0,r.jsxs)(c.W,{maxWidth:"1200px",pt:24,mb:12,children:[(0,r.jsx)(l.xu,{mb:24,children:(0,r.jsx)(ke,{})}),(0,r.jsx)(l.xu,{mb:24,children:(0,r.jsx)(Xe,{})})]})},Ne=n(58206),Ze=n(37796),Je=function(){return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(Ne.k,{}),(0,r.jsx)(qe,{}),(0,r.jsx)(Ze.V,{})]})},et=!0,tt=function(){var e=(0,i.$G)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.PB,{title:e("Rewards"),openGraph:{title:e("{{pageTitle}} | LooksRare",{pageTitle:e("Rewards")}),url:"".concat(s.de.appUrl,"/rewards")}}),(0,r.jsx)(Je,{})]})}},79505:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(52322),i=n(64033),s=n(34020);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.label,n=e.children,l=o(e,["label","children"]);return(0,r.jsxs)(i.kC,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({alignItems:"center",justifyContent:"space-between",width:"100%"},l,{children:[(0,r.jsxs)(s.xv,{color:"text-03",textStyle:"detail",children:[t,":"]}),(0,r.jsx)(s.xv,{color:"text-02",bold:!0,textStyle:"detail",textAlign:"right",children:n})]}))}}},function(e){e.O(0,[834,971,352,735,78,774,888,179],(function(){return t=75367,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=rewards-f98125647a972365.js.map