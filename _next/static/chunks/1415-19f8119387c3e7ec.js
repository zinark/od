"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1415],{26345:function(e,t,n){n.d(t,{T:function(){return d}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(11846),c=n(53965),a=(n(2784),n(17686)),d=function(e){var t=e.children,n=(0,o.Z)(e,["children"]);return(0,l.jsx)(a.xvT,(0,r.Z)((0,i.Z)({textStyle:"detail",bold:!0,color:"text-02"},n),{children:t}))},x=function(e){var t=(0,s.Ss)().isOpen;return(0,l.jsx)(a.Tt3,(0,i.Z)({color:"text-03",isRotated:t,direction:"down"},e))},u=function(e){var t=(0,s.Ss)().isOpen;return(0,l.jsx)(s.KF,(0,i.Z)({borderBottom:t?"none":"1px solid",borderBottomColor:"border-01",borderBottomLeftRadius:t?"none":"container",borderBottomRightRadius:t?"none":"container"},e))};t.Z=function(e){var t=e.Icon,n=e.leftButtonElement,a=e.rightButtonElement,d=e.buttonProps,h=e.children,f=e.panelProps,p=(0,o.Z)(e,["Icon","leftButtonElement","rightButtonElement","buttonProps","children","panelProps"]);return(0,l.jsx)(s.UQ,(0,r.Z)((0,i.Z)({width:"100%",allowMultiple:!0,allowToggle:!0},p),{children:(0,l.jsxs)(s.Qd,{children:[(0,l.jsx)(u,(0,r.Z)((0,i.Z)({width:"100%"},d),{children:(0,l.jsxs)(c.kC,{width:"100%",justifyContent:"space-between",children:[(0,l.jsxs)(c.kC,{alignItems:"center",children:[t&&(0,l.jsx)(t,{color:"text-02",boxSize:5,mr:4}),n]}),(0,l.jsxs)(c.kC,{alignItems:"center",children:[a,(0,l.jsx)(x,{ml:4})]})]})})),(0,l.jsx)(s.Hk,(0,r.Z)((0,i.Z)({pb:4,motionProps:{unmountOnExit:!0}},f),{children:h}))]})}))}},7584:function(e,t,n){n.d(t,{GJ:function(){return we},Ku:function(){return Te},BB:function(){return u},Xs:function(){return b},YJ:function(){return j},ew:function(){return A},Cr:function(){return F},lc:function(){return X},sB:function(){return Se},ae:function(){return Ce},U$:function(){return ae},rB:function(){return xe},r0:function(){return ue}});var i=n(70865),r=n(96670),o=n(52322),l=n(15704),s=n(17686),c=n(95485),a=n(4611),d=n(82353),x={bold:!0,textStyle:"detail",color:"text-03"},u=function(e){var t=e.status,n=e.eventType,u=e.endTime,h=e.textProps,f=(0,l.$G)().t,p=u&&(0,c.Oy)(u),m=p&&(0,c.Sy)(p,{addSuffix:!1,shortLabels:!0}),j=!!p&&(0,a.Of)(p),g=n===d.tw.OFFER||n===d.tw.LIST,v=t===d.iF.EXPIRED,b=t===d.iF.CANCELLED,y=t===d.iF.EXECUTED,k=t&&[d.iF.ERC20_APPROVAL,d.iF.ERC20_BALANCE,d.iF.INVALID_OWNER,d.iF.ERC_APPROVAL].includes(t);return n===d.tw.LIST&&y?(0,o.jsx)(s.xvT,(0,r.Z)((0,i.Z)({},x),{children:f("Sold")})):n===d.tw.OFFER&&y?(0,o.jsx)(s.xvT,(0,r.Z)((0,i.Z)({},x,h),{children:f("Accepted")})):g&&k?(0,o.jsx)(s.J2e,{variant:"tooltip",label:(0,o.jsx)(s.k52,{children:f("Invalidated: hidden from some pages. May become valid again later.")}),children:(0,o.jsx)(s.xvT,(0,r.Z)((0,i.Z)({},x,h),{children:f("Suspended")}))}):g&&b?(0,o.jsx)(s.xvT,(0,r.Z)((0,i.Z)({},x,h),{children:f("Canceled")})):g&&v?(0,o.jsx)(s.J2e,{variant:"tooltip",label:(0,o.jsx)(s.k52,{children:j}),children:(0,o.jsx)(s.xvT,(0,r.Z)((0,i.Z)({},x,h),{children:f("Expired")}))}):g&&!v&&m?(0,o.jsx)(s.J2e,{variant:"tooltip",label:(0,o.jsx)(s.k52,{children:f("Expires: {{expiryAsDate}}",{expiryAsDate:j})}),children:(0,o.jsx)(s.xvT,(0,r.Z)((0,i.Z)((0,r.Z)((0,i.Z)({},x),{bold:!1}),h),{children:f("Expiry: {{timeUntilExpiry}}",{timeUntilExpiry:m})}))}):null},h=n(53965),f=n(30007),p=n(84611),m=n(13705),j=function(){var e=(0,f.N)(),t=Object.keys(e),n=(0,p.Ps)(),i=n.filters,r=n.toggleFilterType;return(0,o.jsx)(h.Eq,{children:t.map((function(t){var n,l=null===(n=i.type)||void 0===n?void 0:n.includes(t);return(0,o.jsx)(m.t7,{isActive:l,size:"sm",onClick:function(){return r(t)},children:e[t]},t)}))})},g=n(74851),v=n(76699),b=function(e){var t=e.isMobileLayout,n=(0,v.$)().t,i=(0,p.Ps)(),r=i.filters,l=i.toggleFilterType,c=i.resetFilters,a=(0,f.N)();return(0,o.jsx)(h.xu,{minH:t?0:"36px",children:(0,o.jsxs)(h.Eq,{direction:"row",height:"fit-content",spacing:2,children:[r.type&&(0,o.jsx)(s.zxk,{size:"xs",variant:"outline",colorScheme:"gray",round:!0,onClick:c,px:3,children:n("Clear Filters")}),r.type&&r.type.map((function(e){return(0,o.jsxs)(s.Vp9,{mr:2,mb:2,onClick:function(){return l(e)},isClickable:!0,cursor:"pointer",children:[(0,o.jsx)(g.Sn,{children:a[e]}),(0,o.jsx)(g.SD,{})]},e)}))]})})},y=n(34291),k=n.n(y),C=n(39097),S=n.n(C),T=n(47542),w=n(85572),I=n(59564),A=function(e){var t,n=e.event,c=e.hideAvatar,a=void 0!==c&&c,d=e.isBuyButtonVisible,x=void 0!==d&&d,u=e.isMobile,f=e.isCollectionOffer,p=void 0!==f&&f,j=e.isCollectionPage,g=void 0!==j&&j,v=e.onLinkClick,b=void 0===v?k():v,y=(0,l.$G)().t,C=n.token,A=n.collection,O="/collections/".concat(A.address),E="/collections/".concat(A.address,"/").concat(null===C||void 0===C?void 0:C.tokenId);return(0,o.jsxs)(h.kC,{alignItems:"center",justifyContent:"flex-start",minWidth:0,children:[!a&&(0,o.jsx)(h.xu,{flexShrink:0,children:C?(0,o.jsx)(S(),{href:E,passHref:!0,children:(0,o.jsx)(h.xu,{cursor:"pointer",position:"relative",width:"48px",height:"48px",mr:3,borderRadius:"mini",overflow:"hidden",children:(0,o.jsx)(T.E,{src:C.image.src,contentType:C.image.contentType,alt:"".concat(C.name," image"),layout:"fill",objectFit:"contain",sizes:"48px"})})}):(0,o.jsx)(w.qE,{src:(null===(t=A.logo)||void 0===t?void 0:t.src)||"",address:A.name,size:48,mr:3,borderRadius:"mini"})}),(0,o.jsx)(h.kC,{alignItems:"center",width:"100%",overflow:"hidden",children:function(){var e;if(p)return(0,o.jsxs)(h.Kq,(0,r.Z)((0,i.Z)({},{spacing:2,flexShrink:1,minWidth:0,width:"100%"}),{children:[(0,o.jsxs)(h.kC,{lineHeight:4,width:"100%",alignItems:"center",children:[(0,o.jsx)(S(),{href:O,passHref:!0,children:(0,o.jsx)(s.rUS,{onClick:function(e){e.stopPropagation(),b()},children:(0,o.jsx)(s.Tud,{variant:"tooltip",label:A.name,children:(0,o.jsx)(s.xvT,{textStyle:"detail",bold:!0,color:"text-02",children:A.name})})})}),A.isVerified&&(0,o.jsx)(s.SA,{boxSize:4,ml:1}),!!A.points&&(0,o.jsx)(s._82,{color:"purple.400",boxSize:4,ml:1})]}),(0,o.jsx)(h.kC,{alignItems:"center",children:(0,o.jsx)(s.xvT,{as:"span",textStyle:"helper",color:"text-03",noOfLines:1,children:y("Collection offer")})}),u&&((null===C||void 0===C?void 0:C.tokenId)||x)&&(0,o.jsx)(h.Ug,{spacing:2,alignItems:"center",children:x&&n.token&&(0,o.jsx)(m.e7,{tokenName:n.token.name,tokenImage:n.token.image,tokenId:n.token.tokenId.toString(),collectionName:n.collection.name,collectionAddress:n.collection.address,collectionType:n.collection.type,isVerified:n.collection.isVerified,tokenAsk:n.order,buttonProps:{size:"xxs"},buttonText:y("Buy"),buttonDataId:"activity-row-buy-now-button-mobile"})})]}));var t=function(){var e,t,i=u&&x,r=!g&&A.name;return(null===n||void 0===n||null===(e=n.token)||void 0===e?void 0:e.rarity)&&!u||i||r?(0,o.jsxs)(h.kC,{width:"100%",alignItems:"center",children:[(null===n||void 0===n||null===(t=n.token)||void 0===t?void 0:t.rarity)&&!u&&(0,o.jsx)(I.$I,{rarity:n.token.rarity,totalSupply:n.collection.totalSupply,mr:2}),!g&&(0,o.jsxs)(h.kC,{lineHeight:4,minWidth:0,width:"fit-content",onClick:function(e){e.stopPropagation(),b()},children:[(0,o.jsx)(S(),{href:O,passHref:!0,children:(0,o.jsx)(s.rUS,{children:(0,o.jsx)(s.xvT,{as:"span",textStyle:"helper",color:"text-03",noOfLines:1,children:A.name})})}),A.isVerified&&(0,o.jsx)(s.SA,{boxSize:4,ml:1}),!!A.points&&(0,o.jsx)(s._82,{color:"purple.400",boxSize:4,ml:1})]})]}):null}();return(0,o.jsxs)(h.Kq,{spacing:2,flexShrink:1,minWidth:0,width:"100%",children:[C&&(0,o.jsx)(h.xu,{maxW:"100%",width:"fit-content",children:(0,o.jsx)(S(),{href:E,passHref:!0,children:(0,o.jsx)(s.rUS,{onClick:function(e){e.stopPropagation(),b()},children:(0,o.jsx)(s.Tud,{variant:"tooltip",label:C.name,children:(0,o.jsx)(s.xvT,{color:"text-02",textStyle:"detail",bold:!0,children:C.name})})})})}),t,u&&(n.token||x)&&(0,o.jsxs)(h.Ug,{spacing:2,children:[(null===n||void 0===n||null===(e=n.token)||void 0===e?void 0:e.rarity)&&(0,o.jsx)(I.$I,{rarity:n.token.rarity,totalSupply:n.collection.totalSupply}),x&&n.token&&(0,o.jsx)(m.e7,{tokenName:n.token.name,tokenImage:n.token.image,tokenId:n.token.tokenId.toString(),collectionName:n.collection.name,collectionAddress:n.collection.address,collectionType:n.collection.type,isVerified:n.collection.isVerified,tokenAsk:n.order,buttonProps:{size:"xxs"},buttonText:y("Buy"),buttonDataId:"activity-row-buy-now-button-mobile"})]})]})}()})]})},O=n(98788),E=n(5163),N=n(26235),R=n(31022),P=n(70305),Z=n(66170),F=function(e){var t,n=e.filters,i=(0,N.dB)(n),r=1===(null===(t=n.type)||void 0===t?void 0:t.length),l=(0,R.Y)((0,O.Z)((function(){return(0,E.__generator)(this,(function(e){switch(e.label){case 0:return a(),[4,i.refetch({refetchPage:function(e,t){return 0===t}})];case 1:return e.sent(),c(),[2]}}))})),Z.zD),s=l.isPaused,c=l.startTimer,a=l.stopTimer;return(0,o.jsx)(h.kC,{width:"100%",justifyContent:"center",children:(0,o.jsxs)(h.Kq,{width:"100%",maxWidth:{base:"100%",md:"480px",lg:"1200px"},bg:"ui-bg",spacing:6,children:[(0,o.jsx)(P.N,{isFetching:i.isFetching,isPaused:s,startTimer:c,stopTimer:a}),(0,o.jsx)(j,{}),(0,o.jsx)(X,{eventResults:i,hideActivityLabel:r,stopTimer:a})]})})},L=n(26297),_=n(2784),z=n(35676),M=n.n(z),D=n(65152),V=n(88803),B=n(50308),G=n(34068),W=n(7653),$=n(51509),U=n(61258),q=n.n(U),H=n(74930),Y=n.n(H),J=function(){return(0,o.jsxs)(h.kC,{mb:"1px",p:4,alignItems:"center",children:[(0,o.jsx)($.Od,{width:14,height:5,mr:6}),(0,o.jsx)($.Od,{width:12,height:12,mr:4}),(0,o.jsxs)(h.xu,{flex:1,children:[(0,o.jsx)($.Od,{width:"20%",height:5,mb:1}),(0,o.jsx)($.Od,{width:"25%",height:5})]})]})},K=function(){return(0,o.jsx)(o.Fragment,{children:q()(Z.ym).map((function(){return(0,o.jsx)(J,{},Y()())}))})},X=function(e){var t=e.eventResults,n=e.hideActivityLabel,l=void 0!==n&&n,c=e.stopTimer,a=(0,L.Z)(e,["eventResults","hideActivityLabel","stopTimer"]),d=(0,B.T)().isCollectionPage,x=(0,v.$)().t,u=(0,W.F)(d?{base:!0,xl:!1}:{base:!0,lg:!1}),f=t.data,p=t.isFetching,m=t.isLoading,j=t.isSuccess,g=t.hasNextPage,b=t.fetchNextPage,y=(0,G.Z)("200px"),k=y.observerRef,C=y.isIntersecting,S=g&&C&&!p,T=!j||g&&(p||C),w=!g&&f&&f.pages.length>Z.ym,I=M()(null===f||void 0===f?void 0:f.pages);(0,_.useEffect)((function(){S&&b()}),[S,b]);return(0,o.jsxs)(V.W,(0,r.Z)((0,i.Z)({pb:6,px:0},a),{children:[m?(0,o.jsx)(K,{}):I&&I.length>0?I.map((function(e){return(0,o.jsx)(D.Z,{placeholder:(0,o.jsx)(J,{}),style:{width:"100%"},children:(0,o.jsx)(ae,{event:e,hideActivityLabel:l,isMobileLayout:u,stopTimer:c,isCollectionPage:d})},e.id)})):(0,o.jsx)(s.gv1,{py:8,children:(0,o.jsx)(s.xvT,{bold:!0,children:x("No activity found")})}),T&&(0,o.jsx)(K,{}),w&&(0,o.jsx)(h.kC,{alignItems:"center",justifyContent:"center",pt:8,children:(0,o.jsx)(s.xvT,{color:"text-02",children:x("That's all!")})}),(0,o.jsx)("div",{ref:k})]}))},Q=n(69702),ee=n(45436),te=n(58105),ne=n(85561),ie=n(6697),re=n(45520),oe=n(5632),le=function(e){var t,n,i,r,l=e.event,x=e.onCloseModal,f=(0,v.$)().t,p=(0,Q.mA)().address,j=(0,oe.useRouter)(),g=l.collection,b=l.createdAt,y=l.from,k=l.hash,C=l.order,I=l.to,O=l.token,E=l.type,N=new Date(b),R=(0,a.Of)(N.getTime()),P=(null===(t=l.order)||void 0===t?void 0:t.status)===d.iF.VALID&&l.type===d.tw.LIST,F=(0,ne.Er)(null===(n=l.order)||void 0===n?void 0:n.signer,p),L=E===d.tw.OFFER&&(0,ne.DA)(null===C||void 0===C?void 0:C.strategy,[Z.c2.collection,Z.c2.collectionDeprecated]),_=l.token&&!F&&P,z=null===g||void 0===g||null===(i=g.floor)||void 0===i?void 0:i.floorPrice,M=z&&C&&(0,ie.Wi)(z,C.price)||{},D=M.floorDiffPercentString,V=M.floorDiffPercentBn,B=(0,ie.NJ)(D,V),G="/collections/".concat(g.address),W="/collections/".concat(g.address,"/").concat(null===O||void 0===O?void 0:O.tokenId);return(0,o.jsxs)(s.fef,{children:[(0,o.jsxs)(h.Kq,{spacing:2,children:[(0,o.jsx)(Se,{strategy:null===C||void 0===C?void 0:C.strategy,type:E,width:"fit-content"}),(0,o.jsxs)(h.kC,{alignItems:"flex-start",children:[O?(0,o.jsx)(h.xu,{position:"relative",width:{base:"40px",md:"48px"},height:{base:"40px",md:"48px"},mr:3,flexShrink:0,children:(0,o.jsx)(S(),{href:W,passHref:!0,children:(0,o.jsx)("a",{children:(0,o.jsx)(T.E,{src:O.image.src,contentType:O.image.contentType,alt:"".concat(O.name," image"),layout:"fill",objectFit:"contain",sizes:"48px"})})})}):(0,o.jsx)(S(),{href:G,passHref:!0,children:(0,o.jsx)("a",{children:(0,o.jsx)(w.qE,{src:(null===g||void 0===g||null===(r=g.logo)||void 0===r?void 0:r.src)||"",address:(null===g||void 0===g?void 0:g.address)||"",size:48,mr:3})})}),(0,o.jsxs)(h.Kq,{spacing:2,width:"100%",children:[(0,o.jsx)(A,{isCollectionOffer:L,event:l,hideAvatar:!0,isMobile:!0,onLinkClick:x}),(0,o.jsxs)(h.kC,{children:[C&&(0,o.jsx)(Te,{price:C.price,currency:C.currency,mr:2}),B&&(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-03",noOfLines:1,ml:{base:2,md:0},children:B})]}),(0,o.jsxs)(h.kC,{width:"100%",children:[(0,o.jsx)(we,{mr:2,labelTextProps:{width:"fit-content"},label:E===d.tw.MINT||E===d.tw.LIST?f("By"):f("From"),address:y.address,textProps:{textStyle:"detail",bold:!0,color:"text-02",noOfLines:1,width:"100%"},overflow:"hidden"}),I&&E!==d.tw.MINT&&(0,o.jsx)(we,{mr:2,labelTextProps:{width:"fit-content"},label:f("to"),address:I.address,textProps:{textStyle:"detail",bold:!0,color:"text-02"}}),E===d.tw.LIST&&(null===C||void 0===C?void 0:C.params)&&(0,ne.Er)(null===C||void 0===C?void 0:C.strategy,Z.c2.private)&&(0,o.jsx)(we,{mr:2,labelTextProps:{width:"fit-content"},label:f("for"),address:null===C||void 0===C?void 0:C.params[0],textProps:{textStyle:"detail",bold:!0,color:"text-02"}}),L&&(0,o.jsxs)(h.kC,{alignItems:"baseline",children:[(0,o.jsx)(s.xvT,{textStyle:"helper",color:"text-03",mr:1,width:"fit-content",children:f("to")}),(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-03",noOfLines:1,children:f("{{totalSupply}} items",{totalSupply:g.totalSupply?(0,te.commify)(g.totalSupply.toString()):"-"})})]})]}),(0,o.jsxs)(h.Kq,{spacing:2,children:[(0,o.jsx)(s.J2e,{variant:"tooltip",label:(0,o.jsx)(s.k52,{children:R}),children:(0,o.jsx)(s.xvT,{textStyle:"detail",noOfLines:1,color:"text-03",children:(0,c.Sy)(N,{shortLabels:!0})})}),(0,o.jsx)(u,{eventType:E,endTime:null===C||void 0===C?void 0:C.endTime,status:null===C||void 0===C?void 0:C.status,textProps:{noOfLines:1}})]})]})]})]}),(0,o.jsxs)(h.Kq,{spacing:2,mt:6,children:[(0,o.jsx)(s.zxk,{colorScheme:"secondary",width:"100%",onClick:function(){if(L){var e="/collections/".concat(g.address);j.push(e)}if(O&&O.tokenId){var t="/collections/".concat(g.address,"/").concat(O.tokenId);j.push(t)}},children:f("View Item")}),l.token&&_?(0,o.jsx)(m.e7,{tokenName:l.token.name,tokenImage:l.token.image,tokenId:l.token.tokenId.toString(),collectionName:l.collection.name,collectionAddress:l.collection.address,collectionType:l.collection.type,isVerified:l.collection.isVerified,tokenAsk:l.order,buttonText:f("Buy Now"),buttonDataId:"event-details-modal-buy-now-button"}):k?(0,o.jsx)(s.rUS,{href:(0,re.E)(k,"transaction"),target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(s.zxk,{colorScheme:"secondary",variant:"outline",width:"100%",rightIcon:(0,o.jsx)(s.qJt,{}),"aria-label":f("Etherscan link"),as:"a",children:f("View Transaction")})}):null]})]})},se=function(e){var t=e.event,n=e.isOpen,i=e.onClose,r=(0,f.s)();return(0,o.jsx)(s.u_l,{isOpen:n,onClose:i,title:r[t.type],showCloseButton:!0,closeOnOverlayClick:!0,children:(0,o.jsx)(le,{event:t,onCloseModal:i})})},ce=function(e){var t,n,l,x=e.event,f=e.isMobileLayout,p=void 0!==f&&f,j=e.hideActivityLabel,g=void 0!==j&&j,b=e.isCollectionPage,y=void 0!==b&&b,C=e.stopTimer,S=void 0===C?k():C,T=(0,L.Z)(e,["event","isMobileLayout","hideActivityLabel","isCollectionPage","stopTimer"]),w=(0,v.$)().t,I=(0,Q.mA)().address,O=(0,ee.qY)(),E=x.from,N=x.to,R=x.createdAt,P=x.type,F=x.order,_=x.hash,z=x.collection,M=new Date(R),D=(0,a.Of)(M.getTime()),V=null===z||void 0===z||null===(t=z.floor)||void 0===t?void 0:t.floorPrice,B=V&&F&&(0,ie.Wi)(V,F.price)||{},G=B.floorDiffPercentString,W=B.floorDiffPercentBn,$=(0,ie.NJ)(G,W,{useSymbols:!0}),U=(null===(n=x.order)||void 0===n?void 0:n.status)===d.iF.VALID&&x.type===d.tw.LIST,q=(0,ne.Er)(null===(l=x.order)||void 0===l?void 0:l.signer,I),H=P===d.tw.OFFER&&(0,ne.DA)(null===F||void 0===F?void 0:F.strategy,[Z.c2.collection,Z.c2.collectionDeprecated]),Y=x.token&&!q&&U,J=function(){var e=g?"'b c'":"'a a' 'b c'",t=g?"'b c d e f'":"'a b c d e f'";return y?{base:e,xl:t}:{base:e,lg:t}}(),K=function(){var e="minmax(0, 3fr) minmax(0, 1fr)",t=g?"minmax(0, 4fr) repeat(3, minmax(0, 2fr)) minmax(0, 1fr)":"80px minmax(0, 4fr) repeat(3, minmax(0, 2fr)) minmax(0, 1fr)";return y?{base:e,xl:t}:{base:e,lg:t}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(h.rj,(0,r.Z)((0,i.Z)({alignItems:"center",gridTemplateAreas:J,gridTemplateColumns:K,columnGap:4,gridRowGap:2,borderBottom:"1px solid",borderBottomColor:"border-01",py:4,sx:p?{_hover:{bg:"hover-ui",cursor:"pointer"},_active:{bg:"onclick-ui"}}:{},onClick:function(){S(),p&&O.onOpen()}},T),{children:[!g&&(0,o.jsx)(h.P4,{gridArea:"a",children:(0,o.jsx)(Se,{strategy:null===F||void 0===F?void 0:F.strategy,type:P})}),(0,o.jsx)(h.P4,{gridArea:"b",overflow:"hidden",children:(0,o.jsx)(A,{isCollectionOffer:H,isCollectionPage:y,event:x,isMobile:p,isBuyButtonVisible:!!Y})}),(0,o.jsx)(h.P4,{gridArea:"c",display:"flex",overflow:"hidden",children:(0,o.jsxs)(h.Kq,{spacing:2,minWidth:0,alignItems:"flex-end",width:"100%",children:[F&&(0,o.jsx)(Te,{price:F.price,currency:F.currency}),$&&(0,o.jsx)(s.xvT,{textStyle:"caption",color:"text-03",noOfLines:1,ml:{base:2,xl:0},children:$})]})}),!p&&(0,o.jsx)(h.P4,{gridArea:"d",children:(0,o.jsx)(h.kC,{alignItems:"center",overflow:"hidden",children:(0,o.jsxs)(h.Kq,{spacing:2,width:"100%",children:[(0,o.jsx)(we,{label:P===d.tw.MINT||P===d.tw.LIST?w("By"):w("From"),address:E.address,textProps:{textStyle:"detail",bold:!0,color:"text-02",noOfLines:1,width:"100%"},onClick:function(e){return e.stopPropagation()},overflow:"hidden"}),N&&P!==d.tw.MINT&&(0,o.jsx)(we,{label:w("To"),address:N.address,textProps:{textStyle:"detail",bold:!0,color:"text-02"},onClick:function(e){return e.stopPropagation()}}),P===d.tw.LIST&&(null===F||void 0===F?void 0:F.params)&&(0,ne.Er)(null===F||void 0===F?void 0:F.strategy,Z.c2.private)&&(0,o.jsx)(we,{label:w("For"),address:null===F||void 0===F?void 0:F.params[0],textProps:{textStyle:"detail",bold:!0,color:"text-02"},onClick:function(e){return e.stopPropagation()}}),H&&(0,o.jsxs)(h.kC,{alignItems:"baseline",children:[(0,o.jsx)(s.xvT,{textStyle:"helper",color:"text-03",mr:1,width:8,children:w("To")}),(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-03",noOfLines:1,children:w("{{totalSupply}} items",{totalSupply:z.totalSupply?(0,te.commify)(z.totalSupply.toString()):"-"})})]})]})})}),!p&&(0,o.jsx)(h.P4,{gridArea:"e",children:(0,o.jsxs)(h.Kq,{spacing:2,children:[(0,o.jsx)(s.J2e,{variant:"tooltip",label:(0,o.jsx)(s.k52,{children:D}),children:(0,o.jsx)(s.xvT,{textStyle:"detail",noOfLines:1,color:"text-03",children:(0,c.Sy)(M,{shortLabels:!0})})}),(0,o.jsx)(u,{eventType:P,endTime:null===F||void 0===F?void 0:F.endTime,status:null===F||void 0===F?void 0:F.status,textProps:{noOfLines:1}})]})}),!p&&(0,o.jsx)(h.P4,{gridArea:"f",children:(0,o.jsx)(h.kC,{justifyContent:"flex-end",alignItems:"center",children:x.token&&Y?(0,o.jsx)(m.e7,{tokenName:x.token.name,tokenImage:x.token.image,tokenId:x.token.tokenId.toString(),collectionName:x.collection.name,collectionAddress:x.collection.address,collectionType:x.collection.type,isVerified:x.collection.isVerified,tokenAsk:x.order,buttonProps:{ml:4,size:"sm"},buttonText:w("Buy"),buttonDataId:"activity-row-buy-now-button-desktop"}):_?(0,o.jsx)(m.x6,{size:"sm",variant:"outline","aria-label":w("Etherscan link"),isExternal:!0,href:(0,re.E)(_,"transaction"),onClick:function(e){return e.stopPropagation()},children:(0,o.jsx)(s.qJt,{boxSize:5})}):null})})]})),(0,o.jsx)(se,{event:x,onClose:O.onClose,isOpen:O.isOpen})]})},ae=(0,_.memo)(ce),de=n(28741),xe=function(e){var t=e.isOpen,n=e.onClose,l=e.resetFilters,s=(0,L.Z)(e,["isOpen","onClose","resetFilters"]);return(0,o.jsx)(h.xu,(0,r.Z)((0,i.Z)({},s),{children:(0,o.jsxs)(de.Z,{isOpen:t,onClose:n,onResetAll:l,children:[(0,o.jsx)(h.xu,{p:4,pb:2,bg:"ui-01",children:(0,o.jsx)(b,{isMobileLayout:!0})}),(0,o.jsx)(h.iz,{}),(0,o.jsx)(j,{isMobileLayout:!0})]})}))},ue=function(e){var t,n,l,x,f=e.event,p=(0,L.Z)(e,["event"]),j=(0,v.$)().t,g=(0,Q.mA)().address,b=f.collection,y=f.from,k=f.to,C=f.createdAt,S=f.type,T=f.order,w=f.hash,I=new Date(C),A=(0,a.Of)(I.getTime()),O=null===b||void 0===b||null===(t=b.floor)||void 0===t?void 0:t.floorPrice,E=O&&T&&(0,ie.Wi)(O,T.price)||{},N=E.floorDiffPercentString,R=E.floorDiffPercentBn,P=(0,ie.NJ)(N,R),Z=(null===(n=f.order)||void 0===n?void 0:n.status)===d.iF.VALID&&f.type===d.tw.LIST,F=(0,ne.Er)(null===(l=f.order)||void 0===l?void 0:l.signer,g);return(0,o.jsxs)(h.rj,(0,r.Z)((0,i.Z)({width:"100%",gridTemplateColumns:"1fr auto"},p),{children:[(0,o.jsxs)(h.P4,{children:[(0,o.jsx)(h.xu,{mb:2,children:(0,o.jsx)(Se,{strategy:null===(x=f.order)||void 0===x?void 0:x.strategy,type:S})}),(T||P)&&(0,o.jsxs)(h.kC,{mb:2,children:[T&&(0,o.jsx)(Te,{price:T.price,currency:T.currency,mr:2}),P&&(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-03",noOfLines:1,children:P})]}),(0,o.jsxs)(h.Eq,{spacingX:4,spacingY:"0px",children:[(0,o.jsx)(we,{label:S===d.tw.MINT?j("By"):j("From"),address:y.address}),k&&S!==d.tw.MINT&&(0,o.jsx)(we,{label:j("To"),address:k.address}),(0,o.jsx)(s.J2e,{variant:"tooltip",label:(0,o.jsx)(s.k52,{children:A}),children:(0,o.jsx)(s.xvT,{textStyle:"detail",noOfLines:1,color:"text-03",children:(0,c.Sy)(I)})}),(0,o.jsx)(u,{eventType:S,endTime:null===T||void 0===T?void 0:T.endTime,status:null===T||void 0===T?void 0:T.status})]})]}),(0,o.jsxs)(h.P4,{children:[w&&(0,o.jsx)(s.J2e,{variant:"tooltip",label:(0,o.jsx)(s.k52,{children:j("View Transaction")}),children:(0,o.jsx)(m.x6,{size:"sm",variant:"outline","aria-label":j("Etherscan link"),isExternal:!0,href:(0,re.E)(w,"transaction"),children:(0,o.jsx)(s.qJt,{boxSize:5})})}),g&&f.token&&!F&&Z&&(0,o.jsx)(m.e7,{tokenName:f.token.name,tokenImage:f.token.image,tokenId:f.token.tokenId.toString(),collectionName:f.collection.name,collectionAddress:f.collection.address,collectionType:f.collection.type,isVerified:f.collection.isVerified,tokenAsk:f.order,buttonProps:{size:"sm"},buttonText:j("Buy"),buttonDataId:"single-nft-activity-row-buy-now-button"})]})]}))},he=n(39742),fe=n(77608),pe={size:"sm",variant:"outline"},me=function(e){var t=(0,v.$)().t;return(0,o.jsxs)(s.Vp9,(0,r.Z)((0,i.Z)({colorScheme:"green"},pe,e),{children:[(0,o.jsx)(g.AD,{as:s.ugY,boxSize:3,mr:1}),(0,o.jsx)(g.Sn,{children:t("Offer")})]}))},je=function(e){var t=e.isPrivate,n=(0,L.Z)(e,["isPrivate"]),l=(0,v.$)().t;return(0,o.jsxs)(s.Vp9,(0,r.Z)((0,i.Z)({colorScheme:"purple"},pe,n),{children:[(0,o.jsx)(g.AD,{as:s.Q1y,boxSize:3,mr:1}),(0,o.jsx)(g.Sn,{children:l(t?"Private Sale":"Sale")})]}))},ge=function(e){var t=e.isPrivate,n=(0,L.Z)(e,["isPrivate"]),l=(0,v.$)().t;return(0,o.jsxs)(s.Vp9,(0,r.Z)((0,i.Z)({colorScheme:"red"},pe,n),{children:[(0,o.jsx)(g.AD,{as:s.dfe,boxSize:3,mr:1}),(0,o.jsxs)(g.Sn,{children:[" ",l(t?"Private List":"List")]})]}))},ve=function(e){var t=(0,v.$)().t;return(0,o.jsxs)(s.Vp9,(0,r.Z)((0,i.Z)({colorScheme:"yellow"},pe,e),{children:[(0,o.jsx)(g.AD,{as:s.KYY,boxSize:3,mr:1}),(0,o.jsx)(g.Sn,{children:t("Mint")})]}))},be=function(e){var t=(0,v.$)().t;return(0,o.jsxs)(s.Vp9,(0,r.Z)((0,i.Z)({colorScheme:"blue"},pe,e),{children:[(0,o.jsx)(g.AD,{as:s.t9E,boxSize:3,mr:1}),(0,o.jsx)(g.Sn,{children:t("Transfer")})]}))},ye=function(e){var t=(0,v.$)().t;return(0,o.jsxs)(s.Vp9,(0,r.Z)((0,i.Z)({colorScheme:"gray"},pe,e),{children:[(0,o.jsx)(g.AD,{as:s.sHc,boxSize:3,mr:1}),(0,o.jsx)(g.Sn,{children:t("Cancel Listing")})]}))},ke=function(e){var t=(0,v.$)().t;return(0,o.jsxs)(s.Vp9,(0,r.Z)((0,i.Z)({colorScheme:"gray"},pe,e),{children:[(0,o.jsx)(g.AD,{as:s.sHc,boxSize:3,mr:1}),(0,o.jsx)(g.Sn,{children:t("Cancel Offer")})]}))},Ce=function(e){var t=(0,v.$)().t;return(0,o.jsxs)(s.Vp9,(0,r.Z)((0,i.Z)({colorScheme:"yellow"},pe,e),{children:[(0,o.jsx)(g.AD,{as:s.tpL,boxSize:3,mr:1}),(0,o.jsx)(g.Sn,{children:t("Hidden")})]}))},Se=function(e){var t=e.type,n=e.strategy,r=(0,L.Z)(e,["type","strategy"]),l=(0,ne.Er)(n,Z.c2.private);switch(t){case d.tw.OFFER:return(0,o.jsx)(me,(0,i.Z)({},r));case d.tw.SALE:return(0,o.jsx)(je,(0,i.Z)({isPrivate:l},r));case d.tw.MINT:return(0,o.jsx)(ve,(0,i.Z)({},r));case d.tw.TRANSFER:return(0,o.jsx)(be,(0,i.Z)({},r));case d.tw.CANCEL_LIST:return(0,o.jsx)(ye,(0,i.Z)({},r));case d.tw.CANCEL_OFFER:return(0,o.jsx)(ke,(0,i.Z)({},r));case d.tw.LIST:default:return(0,o.jsx)(ge,(0,i.Z)({isPrivate:l},r))}},Te=function(e){var t=e.price,n=e.currency,l=(0,L.Z)(e,["price","currency"]),c=(0,a.As)(t,4),d=(0,he.k)(n).icon;return(0,o.jsxs)(h.kC,(0,r.Z)((0,i.Z)({alignItems:"center"},l),{children:[(0,o.jsx)(d,{boxSize:5,width:"10px",height:"20px",mr:1}),(0,o.jsx)(s.xvT,{textStyle:"detail",bold:!0,children:c})]}))},we=function(e){var t,n=e.label,l=e.address,c=e.textProps,a=e.labelTextProps,d=(0,L.Z)(e,["label","address","textProps","labelTextProps"]),x=(0,fe.gR)(l,{enabled:!1}).data;return(0,o.jsxs)(h.kC,(0,r.Z)((0,i.Z)({mr:4,alignItems:"baseline"},d),{children:[(0,o.jsx)(s.xvT,(0,r.Z)((0,i.Z)({textStyle:"helper",color:"text-03",mr:1},a),{children:n})),(0,o.jsx)(w.n5,{href:"/accounts/".concat(l),address:l,name:null===x||void 0===x?void 0:x.name,src:null===x||void 0===x||null===(t=x.image)||void 0===t?void 0:t.src,ensDomain:null===x||void 0===x?void 0:x.ensDomain,isVerified:null===x||void 0===x?void 0:x.isVerified,linkProps:{color:"text-02",textStyle:"detail",isExternal:!1},textProps:c})]}))}},49124:function(e,t,n){n.d(t,{ap:function(){return f},tJ:function(){return u}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(53965),c=n(15704),a=n(17686),d=n(4611),x=n(66170),u=function(e){var t=e.icon,n=e.creatorFeeAsPercentage,u=void 0===n?x.yR/100:n,h=e.popoverProps,f=e.textProps,p=(0,o.Z)(e,["icon","creatorFeeAsPercentage","popoverProps","textProps"]),m=(0,c.$G)().t;return(0,l.jsx)(a.J2e,(0,r.Z)((0,i.Z)({label:(0,l.jsx)(a.k52,{textAlign:"left",children:m("When you sell this item on LooksRare, this amount will be taken out of the sale proceeds and sent to the creator of the NFT.")})},h),{children:(0,l.jsxs)(s.kC,(0,r.Z)((0,i.Z)({alignItems:"center"},p),{children:[(0,l.jsxs)(a.xvT,(0,r.Z)((0,i.Z)({textStyle:"detail",mr:1},f),{children:[(0,d.DW)(u,1,3),"%"]})),t||(0,l.jsx)(a.byK,{boxSize:5,color:"text-03"})]}))}))},h=n(90711),f=function(e){var t=e.protocolFee,n=e.creatorFeeBps,x=(0,o.Z)(e,["protocolFee","creatorFeeBps"]),u=(0,c.$G)().t,f=null!==t&&void 0!==t?t:h._Y,p=n.add(f),m=(0,d.QT)(p),j=(0,d.QT)(n),g=(0,d.QT)(f);return(0,l.jsx)(a.J2e,{size:"lg",label:(0,l.jsxs)(s.gC,{width:"200px",spacing:2,children:[(0,l.jsxs)(s.kC,{w:"100%",justifyContent:"space-between",children:[(0,l.jsx)(a.k52,{textStyle:"detail",children:u("LOOKS Committers")}),(0,l.jsx)(a.k52,{textStyle:"detail",children:g})]}),(0,l.jsxs)(s.kC,{w:"100%",justifyContent:"space-between",mb:1,children:[(0,l.jsx)(a.k52,{textStyle:"detail",children:u("Creator")}),(0,l.jsx)(a.k52,{textStyle:"detail",children:j})]})]}),children:(0,l.jsxs)(s.kC,(0,r.Z)((0,i.Z)({alignItems:"center"},x),{children:[(0,l.jsx)(a.xvT,{textStyle:"detail",color:"text-02",mr:1,children:m}),(0,l.jsx)(a.byK,{boxSize:5,color:"text-03"})]}))})}},18078:function(e,t,n){n.d(t,{A:function(){return Q}});var i,r,o=n(52322),l=n(15704),s=n(17686),c=n(21351),a=n(70865),d=n(96670),x=n(2784),u=n(69702),h=n(53965),f=n(41410),p=n(93355),m=n(90711),j=n(26235),g=n(46355),v=n(47363),b=n(85248),y=n(4611),k=n(95485),C=n(6697);!function(e){e[e.ORDER_SELECT=0]="ORDER_SELECT",e[e.PRICE_ADJUSTMENT=1]="PRICE_ADJUSTMENT",e[e.INCREASE_PRICE_TRANSACTION=2]="INCREASE_PRICE_TRANSACTION",e[e.LOWER_PRICE_TRANSACTION=3]="LOWER_PRICE_TRANSACTION",e[e.CONFIRMATION=4]="CONFIRMATION"}(i||(i={})),function(e){e[e.APPROVAL=0]="APPROVAL",e[e.CANCEL_PREVIOUS=1]="CANCEL_PREVIOUS",e[e.TRADE=2]="TRADE"}(r||(r={}));var S=n(47842),T=n(10528),w=n(66170),I=n(63677),A=n(35361),O=n(20749),E=n(15830),N=T.O$.from(w.To),R=function(e){var t,n,i=e.currentPrice,r=e.newPrice,c=e.protocolFee,d=e.newEndTimeMs,u=e.collectionFloor,f=e.collectionAddress,p=e.tokenId,j=e.points,v=e.onNewPriceChange,b=e.onNewEndTimeChange,k=e.onConfirmNewPrice,R=e.onClose,P=e.osListingPriceInWei,Z=e.nftMetaProps,F=(0,l.$G)().t,L=(0,C.Go)(u).globalFloor,_=L||m._Y,z=(0,O.mo)(f,L),M=(0,x.useMemo)((function(){return T.O$.from(i)}),[i]),D=(0,x.useMemo)((function(){return r?(0,y.t1)(r):m._Y}),[r]),V=!M.eq(D),B=!!(null===(t=(0,g.CN)({collectionAddress:f,tokenId:p}).data)||void 0===t?void 0:t.receiver)?T.O$.from(w.yR):m._Y,G=(0,I.h)(r,{min:N,errorMessages:(n={},(0,S.Z)(n,I.p.BELOW_MIN,F("You must list for a minimum of {{amount}} {{token}}",{amount:(0,y.As)(N,6),token:"ETH"})),(0,S.Z)(n,I.p.INVALID_INPUT,F("Please enter a valid number")),n)});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(h.xu,{px:{base:4,sm:8},py:6,bg:"ui-bg",children:[(0,o.jsx)(E.BO,(0,a.Z)({},Z)),(0,o.jsx)(E.vM,{endTime:d,ethBalanceUsed:D,priceText:F("Listing for")})]}),(0,o.jsxs)(s.fef,{pb:0,children:[(0,o.jsxs)(h.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-02",children:F("Current Price")}),(0,o.jsx)(h.xu,{children:(0,o.jsxs)(h.kC,{alignItems:"center",children:[(0,o.jsx)(s.uaJ,{}),(0,o.jsx)(s.xvT,{bold:!0,textStyle:"detail",verticalAlign:"bottom",children:(0,y.As)(i,4)})]})})]}),_&&(0,o.jsxs)(h.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-02",children:F("Floor Price")}),(0,o.jsx)(h.xu,{children:(0,o.jsxs)(h.kC,{alignItems:"center",children:[(0,o.jsx)(s.uaJ,{}),(0,o.jsx)(s.xvT,{bold:!0,textStyle:"detail",verticalAlign:"bottom",children:(0,y.As)(_,4)})]})})]}),(0,o.jsx)(E.jH,{priceInWei:P,my:4}),(0,o.jsxs)(h.kC,{alignItems:"center",justifyContent:"space-between",mb:2,mt:4,children:[(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-02",children:F("New Price")}),(0,o.jsx)(E.UK,{maxQualifyingFloor:z,points:j,globalFloor:L,priceInEth:r})]}),(0,o.jsx)(E.LH,{price:r,setPrice:v,currency:"ETH",warning:function(){if(G&&G.message)return G.message}()}),(0,o.jsx)(E.qN,{collectionFloorPrice:_,price:(0,y.t1)(""!==r?r:"0")}),(0,o.jsx)(h.iz,{my:4}),(0,o.jsxs)(h.kC,{alignItems:"center",mb:6,children:[(0,o.jsx)(s.xvT,{textStyle:"helper",color:"text-02",flex:1,children:F("Validity")}),(0,o.jsx)(A.M,{initialDate:new Date(d),onDateUpdate:b})]}),(0,o.jsx)(E.qV,{priceInEth:r,rebateBpsAsBn:B,protocolFee:c,currency:"ETH"})]}),(0,o.jsxs)(s.ZOd,{children:[(0,o.jsx)(s.zxk,{flex:1,colorScheme:"gray",onClick:R,children:F("Cancel")}),(0,o.jsx)(s.zxk,{flex:1,disabled:!!G||!V,onClick:k,children:F("Adjust Price")})]})]})},P=n(98788),Z=n(5163),F=n(76699),L=n(59656),_=n(47884),z=n(30283),M=n(1679),D=function(e){var t=e.order,n=e.newPrice,i=e.newEndTimeMs,r=e.collectionType,l=e.protocolFees,c=e.nftMetaProps,d=e.onClose,f=e.onBack,p=e.onConfirm,j=(0,F.$)().t,g=(0,u.mA)().address,v=(0,x.useState)(!1),b=v[0],k=v[1],C=(0,x.useState)(E.G7.APPROVAL),S=C[0],I=C[1],A=(0,x.useState)(),O=A[0],N=A[1],R=L.parseEther(n),D=t.collection,V=(0,E.p6)().isSignerReady,B=w.Yu[r],G=(0,z.O5)(B.abi,D),W=(0,z.V_)(B.abi,D),$=(0,M.z)(),U=function(){return k(!1)},q=(0,E.X0)({onSubmit:(0,P.Z)((function(){var e,t;return(0,Z.__generator)(this,(function(n){switch(n.label){case 0:if(!g)throw new _.Kr("AdjustListingModal:Approval:Decrease");return[4,G(g,B.transferManagerAddress)];case 1:return n.sent()?(I(E.G7.TRADE),[3,5]):[3,2];case 2:return[4,W(B.transferManagerAddress)];case 3:return e=n.sent(),N(e.hash),[4,e.wait()];case 4:if(!(t=n.sent()).status)throw new Error("".concat(t.transactionHash," failed"));N(void 0),I(E.G7.TRADE),n.label=5;case 5:return[2]}}))})),onSuccess:function(){U()}}),H=q.handleSubmit,Y=q.isRejected,J=(0,E.X0)({onSubmit:(0,P.Z)((function(){return(0,Z.__generator)(this,(function(e){switch(e.label){case 0:if(!g)throw new _.Kr("AdjustBidModal:Post");return k(!0),[4,$(w.TL,!0,t.collection,w.c2.standard,m.fh,(0,y.t1)(n),T.O$.from(t.nonce),l,w.UB.WETH,{tokenId:t.tokenId.toString(),endTime:i})];case 1:return e.sent(),[2]}}))})),onSuccess:(0,P.Z)((function(){return(0,Z.__generator)(this,(function(e){return p(),U(),[2]}))}))}),K=J.handleSubmit,X=J.isRejected;return(0,x.useEffect)((function(){V&&(S===E.G7.APPROVAL&&H({callOnlyOnce:!0}),S===E.G7.TRADE&&K({callOnlyOnce:!0}))}),[V,S,K,H]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(h.xu,{p:4,bg:"ui-bg",children:[(0,o.jsx)(E.BO,(0,a.Z)({},c)),(0,o.jsx)(E.vM,{endTime:i,ethBalanceUsed:R,priceText:j("Listing for")})]}),(0,o.jsxs)(s.fef,{children:[(0,o.jsx)(E.Xf,{onResendRequest:H,title:j("Approve Collection"),message:j("Confirm the transaction in your wallet. This lets you sell any item in this collection."),status:(0,s.rw9)(E.G7.APPROVAL,S),collapse:S!==E.G7.APPROVAL,transaction:O,hasError:Y,mb:6}),(0,o.jsx)(E.Xf,{onResendRequest:K,onError:U,title:j("Complete Listing"),message:j("Sign the message in your wallet to complete the listing."),status:(0,s.rw9)(E.G7.TRADE,S),collapse:S!==E.G7.TRADE,hasError:X})]}),(0,o.jsxs)(s.ZOd,{children:[(0,o.jsx)(s.zxk,{tabIndex:1,colorScheme:"gray",flex:1,onClick:f,disabled:b,children:j("Edit Price")}),(0,o.jsx)(s.zxk,{"data-test-id":"transaction-view-cancel-button",flex:1,tabIndex:2,colorScheme:"gray",onClick:d,disabled:b,children:j("Cancel")})]})]})},V=n(24489),B=function(e){var t=e.order,n=e.newPrice,i=e.newEndTimeMs,l=e.collectionType,c=e.protocolFees,d=e.nftMetaProps,f=e.onClose,p=e.onBack,j=e.onConfirm,g=(0,F.$)().t,v=(0,u.mA)().address,b=(0,x.useState)(!1),k=b[0],C=b[1],S=(0,x.useState)(r.APPROVAL),I=S[0],A=S[1],O=(0,x.useState)(),N=O[0],R=O[1],D=L.parseEther(n),B=t.collection,G=(0,E.p6)().isSignerReady,W=w.Yu[l],$=(0,z.O5)(W.abi,B),U=(0,z.V_)(W.abi,B),q=(0,V.s3)(),H=(0,M.j)(),Y=(0,E.X0)({onSubmit:(0,P.Z)((function(){var e,t;return(0,Z.__generator)(this,(function(n){switch(n.label){case 0:if(!v)throw new _.Kr("AdjustListingModal:Approval:Increase");return[4,$(v,W.transferManagerAddress)];case 1:return n.sent()?(A(r.CANCEL_PREVIOUS),[3,5]):[3,2];case 2:return[4,U(W.transferManagerAddress)];case 3:return e=n.sent(),R(e.hash),[4,e.wait()];case 4:if(!(t=n.sent()).status)throw new Error("".concat(t.transactionHash," failed"));R(void 0),A(r.CANCEL_PREVIOUS),n.label=5;case 5:return[2]}}))}))}),J=Y.handleSubmit,K=Y.isRejected,X=(0,E.X0)({onSubmit:(0,P.Z)((function(){var e,n,i;return(0,Z.__generator)(this,(function(o){switch(o.label){case 0:if(!v)throw new _.Kr("AdjustBidModal:CancelPrevious");o.label=1;case 1:return o.trys.push([1,,4,5]),C(!0),e=T.O$.from(t.nonce),[4,q([e])];case 2:return n=o.sent(),R(n.hash),[4,n.wait()];case 3:if(!(i=o.sent()).status)throw new Error("".concat(i.transactionHash," failed"));return R(void 0),A(r.TRADE),[3,5];case 4:return C(!1),[7];case 5:return[2]}}))}))}),Q=X.handleSubmit,ee=X.isRejected,te=(0,E.X0)({onSubmit:(0,P.Z)((function(){return(0,Z.__generator)(this,(function(e){switch(e.label){case 0:if(!v)throw new _.Kr("AdjustBidModal:Post");return C(!0),[4,H(w.TL,!0,B,w.c2.standard,m.fh,(0,y.t1)(n),c,w.UB.WETH,{tokenId:t.tokenId.toString(),endTime:i})];case 1:return e.sent(),[2]}}))})),onSuccess:(0,P.Z)((function(){return(0,Z.__generator)(this,(function(e){return j(),[2]}))}))}),ne=te.handleSubmit,ie=te.isRejected;return(0,x.useEffect)((function(){G&&(I===r.APPROVAL&&J({callOnlyOnce:!0}),I===r.CANCEL_PREVIOUS&&Q({callOnlyOnce:!0}),I===r.TRADE&&ne({callOnlyOnce:!0}))}),[G,I,ne,J,Q]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(h.xu,{p:4,bg:"ui-bg",children:[(0,o.jsx)(E.BO,(0,a.Z)({},d)),(0,o.jsx)(E.vM,{endTime:i,ethBalanceUsed:D,priceText:g("Listing for")})]}),(0,o.jsxs)(s.fef,{children:[(0,o.jsx)(E.Xf,{onResendRequest:J,title:g("Approve Collection"),message:g("Confirm the transaction in your wallet. This lets you sell any item in this collection."),status:(0,s.rw9)(r.APPROVAL,I),collapse:I!==r.APPROVAL,transaction:N,hasError:K,mb:6}),(0,o.jsx)(E.Xf,{onResendRequest:Q,title:g("Cancel Previous Listing"),message:g("Confirm the transaction in your wallet. This makes it so nobody can purchase for the previous, lower price."),status:(0,s.rw9)(r.CANCEL_PREVIOUS,I),collapse:I!==r.CANCEL_PREVIOUS,transaction:N,mb:6,hasError:ee}),(0,o.jsx)(E.Xf,{onResendRequest:ne,title:g("Complete Listing"),message:g("Sign the message in your wallet to complete the listing."),status:(0,s.rw9)(r.TRADE,I),collapse:I!==r.TRADE,hasError:ie})]}),(0,o.jsxs)(s.ZOd,{children:[(0,o.jsx)(s.zxk,{tabIndex:1,flex:1,colorScheme:"gray",onClick:p,disabled:k,children:g("Edit Price")}),(0,o.jsx)(s.zxk,{tabIndex:2,flex:1,colorScheme:"gray",onClick:f,disabled:k,children:g("Cancel")})]})]})},G=n(23985),W=n(10004),$=function(e){var t=e.makerOrder,n=e.onSelectOrder,i=e.collectionFloorOrderPrice,r=(0,l.$G)().t,c=(0,k.Oy)(t.startTime),a=(0,k.Oy)(t.endTime),d=i&&(0,C.Wi)(i,t.price)||{},x=d.floorDiffPercentString,u=d.floorDiffPercentBn,f=(0,C.NJ)(x,u);return(0,o.jsxs)(h.rj,{p:4,gridColumnGap:4,gridRowGap:2,templateColumns:"minmax(0, 1fr) auto",borderBottom:"1px solid",borderBottomColor:"border-01",sx:{_hover:{bg:"hover-ui"},_active:{bg:"onclick-ui"}},cursor:"pointer",onClick:function(){return n(t)},children:[(0,o.jsxs)(h.xu,{children:[(0,o.jsxs)(h.Eq,{spacing:2,children:[(0,o.jsxs)(h.kC,{children:[(0,o.jsx)(s.uaJ,{boxSize:5,width:"10px",height:"20px",mr:1}),(0,o.jsx)(s.xvT,{bold:!0,textStyle:"detail",wordBreak:"break-all",children:(0,y.As)(t.price,6)})]}),f&&(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-03",children:f})]}),(0,o.jsxs)(h.Eq,{spacing:2,children:[(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-03",children:(0,W.Z)(c,{addSuffix:!0})}),(0,o.jsx)(s.xvT,{textStyle:"detail",color:"text-03",children:r("Expiring {{timeUntilExpiry}}",{timeUntilExpiry:(0,W.Z)(a,{addSuffix:!0})})})]})]}),(0,o.jsx)(h.P4,{colStart:2,rowSpan:2,children:(0,o.jsx)(G.hU,{"aria-label":"select order",variant:"ghost",colorScheme:"gray",children:(0,o.jsx)(s.LZ3,{})})})]})},U=n(39097),q=n.n(U),H=n(13705),Y=n(16147),J=n(36068),K=function(e){var t=e.tokenId,n=e.collectionAddress,i=e.nftMetaProps,r=e.price,l=e.endTime,c=e.onClose,d=(0,F.$)().t;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.fef,{bg:"ui-bg",overflow:"visible",children:[(0,o.jsx)(E.BO,(0,a.Z)({},i)),(0,o.jsx)(Y.Z,{endTime:l,ethBalanceUsed:L.parseEther(r),priceText:d("Listed for")})]}),(0,o.jsxs)(s.fef,{pb:12,children:[(0,o.jsx)(s.n6W,{color:"interactive-03",boxSize:14,mb:4}),(0,o.jsx)(s.xvT,{textStyle:"heading-04",bold:!0,mb:4,children:d("Listing Updated")}),(0,o.jsx)(J.C,{}),(0,o.jsx)(H.Hv,{my:6})]}),(0,o.jsxs)(s.ZOd,{children:[(0,o.jsx)(s.zxk,{tabIndex:1,colorScheme:"gray",flex:1,onClick:c,children:d("Close")}),(0,o.jsx)(q(),{href:"/collections/".concat(n,"/").concat(t),passHref:!0,children:(0,o.jsx)(s.zxk,{tabIndex:2,flex:1,onClick:c,children:d("View Item")})})]})]})},X=function(e){var t=e.orders,n=e.collectionType,r=e.tokenName,l=e.tokenImage,s=e.collectionName,c=e.collectionAddress,S=e.isVerified,T=e.collectionFloor,w=e.points,I=e.onClose,A=1===t.length,O=A?(0,f.Z)(Number(t[0].endTime)).getTime():(0,p.Z)(new Date,{days:30}).getTime(),E=(0,u.mA)().address,N=(0,x.useState)((function(){return{view:A?i.PRICE_ADJUSTMENT:i.ORDER_SELECT,selectedOrder:A?t[0]:null,newPrice:A?(0,y.wE)(t[0].price):"0",newEndTimeMs:O}})),P=N[0],Z=N[1],F=P.view,L=P.newPrice,_=P.newEndTimeMs,z=P.selectedOrder,M=null!==z&&void 0!==z?z:{},V=M.tokenId,G=M.collection,W=M.strategy,U=null===V||void 0===V?void 0:V.toString(),q=(0,v.sy)(),H=(0,v.sr)(),Y=(0,v.FY)(),J=(0,v.rF)(),X=(0,j.hx)(),Q=(0,g.qP)(W,{enabled:!!z}),ee=(0,b.O)(G,U,E,{enabled:!!z&&!!E}),te=Q.isSuccess?Q.data:m._Y,ne=(0,C.Go)(T).floorPrice,ie=(0,x.useCallback)((function(e){Z((function(t){return(0,d.Z)((0,a.Z)({},t),{newEndTimeMs:e})}))}),[]),re=function(){return Z((function(e){return(0,d.Z)((0,a.Z)({},e),{view:A?i.PRICE_ADJUSTMENT:i.ORDER_SELECT})}))},oe=function(){Z((function(e){return(0,d.Z)((0,a.Z)({},e),{view:i.CONFIRMATION})})),z&&(Y(z.collection,z.tokenId.toString()),J(z.collection,z.tokenId.toString()),q(),X(),H(z.signer))},le=function(e){Z((function(t){return(0,d.Z)((0,a.Z)({},t),{selectedOrder:e,view:i.PRICE_ADJUSTMENT,newPrice:(0,y.wE)(e.price),newEndTimeMs:(0,f.Z)(Number(e.endTime.toString())).getTime()})}))};return F===i.PRICE_ADJUSTMENT&&z?(0,o.jsx)(R,{currentPrice:z.price,newPrice:L,newEndTimeMs:_,nftMetaProps:{collectionName:s,collectionFloor:T,tokenImage:l,tokenName:r,isVerified:S},tokenId:z.tokenId.toString(),protocolFee:te,collectionAddress:c,collectionFloor:T,points:w,onNewPriceChange:function(e){return Z((function(t){return(0,d.Z)((0,a.Z)({},t),{newPrice:e})}))},onNewEndTimeChange:ie,onConfirmNewPrice:function(){if(z){var e=(0,y.t1)(L);Z((function(t){return(0,d.Z)((0,a.Z)({},t),{view:e.gt(z.price)?i.INCREASE_PRICE_TRANSACTION:i.LOWER_PRICE_TRANSACTION})}))}},onClose:I,osListingPriceInWei:ee.isSuccess?ee.data.price:null}):F===i.INCREASE_PRICE_TRANSACTION&&z?(0,o.jsx)(B,{order:z,newPrice:L,newEndTimeMs:_,nftMetaProps:{collectionName:s,collectionFloor:T,tokenImage:l,tokenName:r,isVerified:S},collectionType:n,protocolFees:te,onClose:I,onBack:re,onConfirm:oe}):F===i.LOWER_PRICE_TRANSACTION&&z?(0,o.jsx)(D,{order:z,newPrice:L,newEndTimeMs:_,nftMetaProps:{collectionName:s,collectionFloor:T,tokenImage:l,tokenName:r,isVerified:S},collectionType:n,protocolFees:te,onClose:I,onBack:re,onConfirm:oe}):F===i.CONFIRMATION&&z?(0,o.jsx)(K,{tokenId:z.tokenId.toString(),nftMetaProps:{collectionName:s,collectionFloor:T,tokenImage:l,tokenName:r,isVerified:S},collectionAddress:z.collection,price:L,endTime:(0,k.Oy)(z.endTime),onClose:I}):(0,o.jsx)(h.xu,{children:t.map((function(e){return(0,o.jsx)($,{makerOrder:e,onSelectOrder:le,collectionFloorOrderPrice:ne},e.tokenId.toString())}))})},Q=function(e){var t=e.orders,n=e.collectionType,i=e.tokenName,r=e.tokenImage,a=e.collectionName,d=e.collectionFloor,x=e.collectionAddress,u=e.points,h=e.isVerified,f=e.isOpen,p=e.onClose,m=(0,l.$G)().t;return(0,o.jsx)(s.u_l,{isOpen:f,onClose:p,title:m("Adjust Listing"),closeOnOverlayClick:!1,children:(0,o.jsx)(c.w,{children:(0,o.jsx)(X,{orders:t,collectionType:n,tokenName:i,collectionName:a,collectionAddress:x,collectionFloor:d,points:u,isVerified:h,tokenImage:r,onClose:p})})})}},71673:function(e,t,n){n.d(t,{G:function(){return i},Z:function(){return he}});var i,r=n(52322),o=n(2784),l=n(76699),s=n(17686),c=n(21351),a=n(15830),d=n(47842),x=n(70865),u=n(96670),h=n(53965),f=n(74851),p=n(82240),m=n(69702),j=n(10528),g=n(90711),v=n(59656),b=n(58105),y=n(38505),k=n(11248),C=n(59645),S=n(12527),T=n(26235),w=n(4611),I=n(63677),A=n(6697),O=n(66170),E=n(79340),N=n(55257),R=n(47363),P=n(7653),Z=n(1753),F=n(35361),L=n(572),_=function(e){var t=e.collectionFloorPriceInEth,n=e.floorDiffPercentString,i=e.onBack,o=e.onContinue,c=e.priceInEth,a=(0,l.$)().t,d=null===n||void 0===n?void 0:n.replace("-","");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.fef,{children:(0,r.jsxs)(h.Kq,{spacing:6,children:[(0,r.jsx)(h.xu,{children:(0,r.jsx)(L.Z,{boxSize:14,color:"text-warning"})}),(0,r.jsxs)(h.xu,{children:[(0,r.jsx)(y.c,{i18nKey:"transCollectionOrderFloorPriceWarning",children:(0,r.jsxs)(s.xvT,{textStyle:"detail",children:["The price you\u2019ve input is"," ",(0,r.jsx)(s.xvT,{as:"span",color:"text-warning",textStyle:"detail",children:(0,r.jsxs)(r.Fragment,{children:[{floorDiffPercentStringDisplay:d},"% higher"]})})," ","than the floor price of this collection."]})}),(0,r.jsx)(s.xvT,{textStyle:"detail",children:a("Proceed anyway?")})]}),(0,r.jsxs)(h.xu,{children:[(0,r.jsxs)(h.kC,{justifyContent:"space-between",flexDirection:"row",children:[(0,r.jsx)(s.xvT,{color:"text-03",textStyle:"detail",children:a("Your Price")}),(0,r.jsxs)(h.kC,{alignItems:"center",justifyContent:"flex-end",gridColumn:"2",gridRow:"1",children:[(0,r.jsx)(s.ib_,{boxSize:4,mr:1}),(0,r.jsxs)(s.xvT,{textStyle:"detail",bold:!0,children:[c," WETH"]})]})]}),(0,r.jsxs)(h.kC,{justifyContent:"space-between",flexDirection:"row",children:[(0,r.jsx)(s.xvT,{color:"text-03",textStyle:"detail",children:a("Collection Floor Price")}),(0,r.jsxs)(h.kC,{alignItems:"center",justifyContent:"flex-end",gridColumn:"2",gridRow:"1",children:[(0,r.jsx)(s.ib_,{boxSize:4,mr:1}),(0,r.jsxs)(s.xvT,{textStyle:"detail",bold:!0,children:[t," WETH"]})]})]})]})]})}),(0,r.jsxs)(s.ZOd,{children:[(0,r.jsx)(s.zxk,{tabIndex:1,colorScheme:"gray",flex:1,onClick:i,children:a("Edit")}),(0,r.jsx)(s.zxk,{"data-test-id":"floor-price-warning-view-continue-button",tabIndex:2,flex:1,onClick:o,children:a("Continue")})]})]})},z=n(39097),M=n.n(z),D=n(85830),V=function(e){var t=e.collectionAddress,n=e.collectionName,i=e.isVerified,o=e.price,c=e.endTime,a=e.onClose,d=(0,m.mA)().address,x=(0,l.$)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.xu,{p:4,bg:"ui-bg",children:(0,r.jsx)(D.Z,{collectionAddress:t,collectionName:n,isVerified:i})}),(0,r.jsxs)(s.fef,{pb:12,children:[(0,r.jsxs)(h.kC,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(s.xvT,{bold:!0,textStyle:"heading-03",children:x("Offer Made!")}),(0,r.jsxs)(h.kC,{alignItems:"center",children:[(0,r.jsx)(s.ib_,{}),(0,r.jsxs)(s.xvT,{color:"text-02",bold:!0,children:[o," WETH"]})]})]}),(0,r.jsx)(h.iz,{my:4}),(0,r.jsx)(s.xvT,{textStyle:"heading-04",bold:!0,mb:4,children:x("You\u2019ve made this offer on every item in this collection.")}),(0,r.jsxs)(h.QI,{children:[(0,r.jsx)(s.xvT,{as:h.HC,color:"text-02",children:x("If a seller accepts your offer, it\u2019ll be automatically withdrawn from all other items and your purchase will be finalized.")}),(0,r.jsx)(s.xvT,{as:h.HC,color:"text-02",children:x("Keep enough WETH in your wallet to pay, or the seller won\u2019t be able to accept your offer.")})]}),(0,r.jsx)(h.iz,{my:4}),(0,r.jsxs)(h.kC,{justifyContent:"space-between",children:[(0,r.jsx)(s.xvT,{color:"text-02",children:x("Validity")}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.xvT,{color:"text-02",children:[x("Start")," ",(0,w.Of)(Date.now())]}),(0,r.jsxs)(s.xvT,{color:"text-02",children:[x("End")," ",(0,w.Of)(c)]})]})]})]}),(0,r.jsxs)(s.ZOd,{children:[(0,r.jsx)(s.zxk,{tabIndex:1,colorScheme:"gray",flex:1,onClick:a,children:x("Close")}),(0,r.jsx)(M(),{href:"/accounts/".concat(d,"#offers"),passHref:!0,children:(0,r.jsx)(s.zxk,{flex:1,"data-test-id":"confirmation-view-your-offers-button",tabIndex:2,children:x("View Your Offers")})})]})]})},B=n(98788),G=n(5163),W=n(47884),$=n(64048),U=n(1679),q=n(94580),H=n(16147),Y=function(e){var t=e.collectionAddress,n=e.collectionName,i=e.collectionType,c=e.isVerified,d=e.price,x=e.endTime,u=e.onConfirm,h=(0,m.mA)().address,f=(0,l.$)().t,p=(0,o.useState)(a.G7.APPROVAL),j=p[0],b=p[1],y=(0,o.useState)(),k=y[0],C=y[1],S=v.parseEther(d),T=(0,a.p6)().isSignerReady,w=(0,$.ym)(O.UB.WETH),I=(0,$.yA)(O.UB.WETH),A=(0,U.j)(),E=(0,q.em)(O.UB.STRATEGY_COLLECTION_SALE),N=(0,a.X0)({onSubmit:(0,B.Z)((function(){var e,t;return(0,G.__generator)(this,(function(n){switch(n.label){case 0:if(!h)throw new W.Kr("CreateCollectionBidModal:Approval");return[4,w(h,O.UB.EXCHANGE)];case 1:return n.sent().gt(S)?(b(a.G7.TRADE),[3,5]):[3,2];case 2:return[4,I(O.UB.EXCHANGE)];case 3:return e=n.sent(),C(e.hash),[4,e.wait()];case 4:if(!(t=n.sent()).status)throw new Error("".concat(t.transactionHash," failed"));C(void 0),b(a.G7.TRADE),n.label=5;case 5:return[2]}}))}))}),R=N.handleSubmit,P=N.isRejected,Z=(0,a.X0)({onSubmit:(0,B.Z)((function(){var e,n;return(0,G.__generator)(this,(function(r){switch(r.label){case 0:if(!h)throw new W.Kr("AdjustBidModal:Post");return e=O.UB.STRATEGY_COLLECTION_SALE,[4,E()];case 1:return n=r.sent(),[4,A(O.TL,!1,t,e,g.fh,S,n,O.UB.WETH,{endTime:x,tokenStandard:i})];case 2:return r.sent(),[2]}}))})),onSuccess:(0,B.Z)((function(){return(0,G.__generator)(this,(function(e){return u(),[2]}))}))}),F=Z.handleSubmit,L=Z.isRejected;return(0,o.useEffect)((function(){T&&(j===a.G7.APPROVAL&&R({callOnlyOnce:!0}),j===a.G7.TRADE&&F({callOnlyOnce:!0}))}),[T,j,F,R]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.fef,{bg:"ui-bg",children:[(0,r.jsx)(a.p1,{collectionAddress:t,collectionName:n,isVerified:c}),(0,r.jsx)(H.Z,{endTime:x,wethBalanceUsed:S,priceText:f("Offering with")})]}),(0,r.jsxs)(s.fef,{children:[(0,r.jsx)(a.Xf,{onResendRequest:R,title:f("Enable WETH spending"),message:f("Confirm the transaction in your wallet. This lets you spend WETH to buy NFTs."),status:(0,s.rw9)(a.G7.APPROVAL,j),collapse:j!==a.G7.APPROVAL,transaction:k,mb:6,hasError:P}),(0,r.jsx)(a.Xf,{onResendRequest:F,title:f("Confirm Collection Offer"),message:f("Confirm the transaction in your wallet."),status:(0,s.rw9)(a.G7.TRADE,j),collapse:j!==a.G7.TRADE,hasError:L})]})]})},J=n(71474),K=n(23985),X=n(15704),Q=n(52927),ee=n(83328),te=n(66383),ne=n(45436),ie=n(29287),re=n(53647),oe=n(82108),le=n.n(oe),se=n(73608),ce=function(e){var t,n,i=e.traitType,l=e.collectionAddress,c=e.setSelectedAttribute,a=e.totalSupply,d=(0,X.$G)().t,x=(0,ne.qY)(),u=x.isOpen,f=x.onOpen,p=x.onClose,m=(0,ee.Y)(),j=m.search,g=m.handleInputChange,v=m.clearSearch,b=(0,te.Z)((0,ie.dQ)("colors",["border-01","ui-bg"]),2),y=b[0],k=b[1],C=(0,Q.pS)({collectionAddress:l,traitType:i,search:j.debouncedValue?{term:j.debouncedValue}:void 0}),S=(0,o.useMemo)((function(){var e;return(null===(e=C.data)||void 0===e?void 0:e.pages)&&C.data.pages.flat()}),[null===(t=C.data)||void 0===t?void 0:t.pages]),T=!(!j.value||0!==(null===S||void 0===S?void 0:S.length)),w=S&&"date"===(null===(n=S[0])||void 0===n?void 0:n.displayType);return(0,r.jsxs)(h.xu,{children:[(0,r.jsx)(se.Z$,{borderRadius:"mini",width:"100%",label:le()(i),color:"text-01",rightIcon:(0,r.jsx)(s.Tt3,{direction:"down",isRotated:u,color:"text-03"}),onClick:function(){u?p():f()}}),u&&(0,r.jsx)(h.xu,{py:2,px:4,children:(0,r.jsx)(s.oil,{isActive:!!j.value,wrapperProps:{width:"100%",sx:{svg:{boxSize:5}}},placeholder:d(w?"Search by timestamp":"Search"),value:j.value,variant:"lowcontrast",onChange:g,onClear:v})}),(0,r.jsx)(re.pT,{unmountOnExit:!0,in:!0,children:(0,r.jsx)(re.UO,{unmountOnExit:!0,in:u,children:(0,r.jsx)(h.xu,{p:2,whiteSpace:"nowrap",children:(0,r.jsx)(h.xu,{position:"relative",children:(0,r.jsxs)(h.xu,{maxHeight:"298px",overflowY:"auto",position:"relative",sx:{scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},background:["linear-gradient(".concat(k,", ").concat(k,")"),"linear-gradient(".concat(k,", ").concat(k,") 0 100%"),"linear-gradient(".concat(y,", ").concat(y,")"),"linear-gradient(".concat(y,", ").concat(y,") 0 100%")].join(","),backgroundRepeat:"no-repeat",backgroundSize:"100% 2px, 100% 2px, 100% 1px, 100% 1px",backgroundPosition:"top center, bottom center, top center, bottom center",backgroundAttachment:"local, local, scroll, scroll"},children:[S&&S.map((function(e){var t=e.value,n=e.count,i=e.displayType,o=e.floorOrder;return(0,r.jsx)(se.m9,{value:t,count:n.toString(),totalSupply:a,floorPrice:null===o||void 0===o?void 0:o.price,displayType:i,onClick:function(){return c(e)}},e.traitType+t)})),C.isFetching&&!C.hasNextPage&&(0,r.jsx)(h.kC,{py:4,alignItems:"center",justifyContent:"center",children:(0,r.jsx)(J.$,{})}),C.hasNextPage&&(0,r.jsx)(h.xu,{py:2,pr:2,pl:4,children:(0,r.jsx)(K.zx,{width:"100%",variant:"outline",colorScheme:"secondary",isLoading:C.isFetching,onClick:function(){return C.fetchNextPage()},children:d("Load more")})}),T&&(0,r.jsx)(s.gv1,{py:4,children:(0,r.jsx)(s.xvT,{textStyle:"detail",bold:!0,children:d("No results found")})})]})})})})})]})},ae=function(e){var t,n=e.collectionAddress,i=e.collectionTotalSupply,l=e.setSelectedAttribute,c=(0,X.$G)().t,a=(0,ee.Y)(),d=a.search,x=a.handleInputChange,u=a.clearSearch,f=(0,Q.zw)({collectionAddress:n,search:d.debouncedValue?{term:d.debouncedValue}:void 0}),p=(0,o.useMemo)((function(){var e;return(null===(e=f.data)||void 0===e?void 0:e.pages)&&f.data.pages.flat()}),[null===(t=f.data)||void 0===t?void 0:t.pages]),m=f.isSuccess||f.isError,j=f.isFetching&&!d.value||!d.value&&m&&0===(null===p||void 0===p?void 0:p.length),g=!(!d.value||0!==(null===p||void 0===p?void 0:p.length));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.Kq,{spacing:0,rowGap:2,children:[!j&&(0,r.jsxs)(h.xu,{py:2,px:0,children:[(0,r.jsx)(s.oil,{isActive:!!d.value,size:"md",wrapperProps:{width:"100%",sx:{svg:{boxSize:5}}},placeholder:c("Filter properties"),value:d.value,variant:"lowcontrast",onChange:x,onClear:u}),(0,r.jsx)(h.iz,{mt:4})]}),m&&p&&(0,r.jsx)(r.Fragment,{children:p.map((function(e){var t=e.traitType;return(0,r.jsx)(ce,{traitType:t,collectionAddress:n,setSelectedAttribute:l,totalSupply:i},t)}))}),f.isFetching&&!f.hasNextPage&&(0,r.jsx)(h.kC,{py:4,alignItems:"center",justifyContent:"center",children:(0,r.jsx)(J.$,{})}),f.hasNextPage&&(0,r.jsx)(h.xu,{width:"100%",py:2,px:4,children:(0,r.jsx)(K.zx,{width:"100%",variant:"outline",colorScheme:"secondary",isLoading:f.isFetching,onClick:function(){return f.fetchNextPage()},children:c("Load more")})})]}),g&&(0,r.jsx)(s.gv1,{py:4,children:(0,r.jsx)(s.xvT,{bold:!0,textStyle:"detail",children:c("No results found")})})]})},de=function(e){var t=e.collectionAddress,n=e.collectionTotalSupply,i=e.setSelectedAttribute;return(0,r.jsx)(s.fef,{bg:"ui-bg",maxHeight:"640px",overflowY:"auto",children:(0,r.jsx)(ae,{collectionAddress:t,setSelectedAttribute:i,collectionTotalSupply:n})})},xe=j.O$.from(O.Gd),ue=function(e){var t,n=e.collectionAddress,c=e.collectionFloor,L=e.collectionName,z=e.collectionTotalSupply,M=e.collectionSupportsTraitOffers,D=e.collectionType,B=e.isVerified,G=e.isOpen,W=e.onClose,$=e.setViewIndex,U=e.viewIndex,q=e.showWarning,H=(0,l.$)().t,J=(0,m.mA)().address,K=(0,P.F)({base:!1,sm:!0}),X=(0,Z.w)(n,O.Yu[D].transferManagerAddress),Q=(0,o.useState)(""),ee=Q[0],te=Q[1],ne=(0,o.useState)(!1),ie=(ne[0],ne[1],(0,o.useState)(void 0)),re=ie[0],oe=ie[1],le=(0,R.sy)(),se=(0,R.FY)(),ce=(0,R.eT)(),ae=(0,R.sr)(),ue=(0,T.hx)(),he=M&&re?(0,b.commify)(re.count.toString()):z?(0,b.commify)(z.toString()):null,fe=(0,E.l)().getDefaultDurationOption,pe=(0,o.useState)(new Date(fe().value).getTime()),me=pe[0],je=pe[1],ge={collectionAddress:n,eventName:N.h.COLLECTION_BID_CREATED,insightsMethodName:"convertedObjectIDs"},ve=(0,N.Z)((0,u.Z)((0,x.Z)({},ge),{index:k.gr[O.TL]})),be=(0,S.G)(J,{enabled:G}),ye=(0,C.TU)(J,{enabled:G}),ke=(0,w.t1)(""===ee?"0":ee),Ce=(0,I.h)(ee,{max:ye.data,min:xe,errorMessages:(t={},(0,d.Z)(t,I.p.BELOW_MIN,H("You must offer a minimum amount of {{amount}} {{token}}",{amount:(0,w.As)(xe,3),token:"WETH"})),(0,d.Z)(t,I.p.ABOVE_MAX,H("Insufficient {{token}} balance",{token:"WETH"})),(0,d.Z)(t,I.p.INVALID_INPUT,H("Please enter a valid number")),t)}),Se=(0,A.Go)(c).globalFloor||g._Y,Te=(0,A.Wi)(Se,ke),we=Te.floorDiffPercentString,Ie=Te.hasHighInfoThresholdReached,Ae=(0,o.useCallback)((function(){$(i.CONFIRMATION),ve(),le(),se(),ce(n),ue(),ae()}),[$,ve,ue,le,se,ce,n,ae]),Oe=(0,o.useCallback)((function(){W(),$(q?i.UNVERIFIED_WARNING:i.MAIN)}),[W,$,q]);return function(){var e,t=be.isLoading||ye.isLoading||X.isLoading;if(X.data)return(0,r.jsx)(a.hw,{title:H("Unable to create Collection Offer"),description:H("This collection does not allow trading on LooksRare right now"),onClose:W});if(U===i.UNVERIFIED_WARNING)return(0,r.jsx)(a.QV,{collectionName:L,collectionAddress:n,onClose:W,onConfirm:function(){return $(i.MAIN)}});if(U===i.FLOOR_PRICE_WARNING)return(0,r.jsx)(_,{floorDiffPercentString:we,priceInEth:ee,collectionFloorPriceInEth:v.formatEther(Se),onBack:function(){$(i.MAIN)},onContinue:function(){$(i.TRANSACTION)}});if(U===i.TRAIT_SELECTION_VIEW)return(0,r.jsx)(de,{collectionAddress:n,collectionTotalSupply:z,setSelectedAttribute:function(e){oe(e),$(i.MAIN)}});if(U===i.TRANSACTION)return(0,r.jsx)(Y,{price:ee,endTime:me,collectionAddress:n,collectionName:L,collectionType:D,onConfirm:Ae});if(U===i.CONFIRMATION)return(0,r.jsx)(V,{collectionName:L,collectionAddress:n,price:ee,endTime:me,onClose:Oe});var o=(null===Ce||void 0===Ce?void 0:Ce.type)===I.p.ABOVE_MAX;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.fef,{overflow:"visible",bg:"ui-bg",children:[(0,r.jsx)(a.p1,{collectionAddress:n,collectionName:L,collectionFloor:c,isVerified:B}),false,M&&(re?(0,r.jsxs)(h.Kq,{width:"100%",border:"1px solid",borderColor:"border-02",borderRadius:"mini",p:4,spacing:4,mt:4,children:[(0,r.jsxs)(s.Vp9,{onClick:function(){return oe(void 0)},isClickable:!0,width:"fit-content",children:[(0,r.jsx)(f.Sn,{children:re.value}),(0,r.jsx)(f.SD,{})]}),(0,r.jsx)(h.xu,{children:!!(null===(e=re.floorOrder)||void 0===e?void 0:e.price)&&(0,r.jsxs)(h.kC,{alignItems:"center",children:[(0,r.jsx)(s.xvT,{color:"text-03",textStyle:"helper",children:H("Global floor for this selection: ")}),(0,r.jsx)(s.uaJ,{boxSize:4}),(0,r.jsx)(s.xvT,{color:"text-02",bold:!0,textStyle:"helper",children:(0,w.As)(j.O$.from(re.floorOrder.price),4)})]})})]}):(0,r.jsx)(s.zxk,{mt:4,onClick:function(){return $(i.TRAIT_SELECTION_VIEW)},rightIcon:(0,r.jsx)(s.LZ3,{}),variant:"outline",colorScheme:"secondary",children:H("Limit to a Specific Property")})),(0,r.jsx)(s.bZj,{status:"warning",variant:"left-accent-contrast",mt:4,py:2,centerIcon:!0,children:(0,r.jsx)(h.xu,{children:(0,r.jsx)(p.Cd,{lineHeight:5,children:H("Applies to all NFTs in collection, including any that may not be tradeable on other marketplaces.")})})})]}),(0,r.jsx)(s.fef,{children:(0,r.jsxs)(h.Kq,{spacing:6,children:[(0,r.jsxs)(h.kC,{gap:1,alignItems:"center",children:[he?(0,r.jsxs)(y.c,{i18nKey:"collectionOfferCountMessage",children:[(0,r.jsx)(s.xvT,{as:"span",textStyle:"heading-05",color:"text-03",children:"Making an offer on"})," ",(0,r.jsx)(s.xvT,{textStyle:"heading-05",bold:!0,as:"span",children:(0,r.jsxs)(r.Fragment,{children:[{collectionOfferCount:he}," items"]})})]}):(0,r.jsx)(s.xvT,{bold:!0,mb:4,color:"text-03",children:H("You\u2019re making an offer on any item in this collection. It's valid for only one NFT purchase, and it'll expire after someone accepts it.")}),!!re&&(0,r.jsx)(s.J2e,{variant:"tooltip",label:(0,r.jsx)(s.k52,{children:H("Any items with these properties that are minted or revealed after you make this offer won't be automatically included")}),children:(0,r.jsx)(h.kC,{children:(0,r.jsx)(s.AV5,{boxSize:5,color:"support-info"})})})]}),(0,r.jsxs)(h.xu,{children:[(0,r.jsx)(a.LH,{label:H("Your Offer"),price:ee,setPrice:te,currency:"WETH",warning:null===Ce||void 0===Ce?void 0:Ce.message,autoFocus:K}),(0,r.jsx)(a.qN,{collectionFloorPrice:Se,price:(0,w.t1)(""!==ee?ee:"0"),warningDirection:"above"}),(0,r.jsx)(a.Jr,{userEthBalance:be.data,userWethBalance:ye.data,shouldShowEthConversionButton:o,mt:4})]}),(0,r.jsxs)(h.xu,{children:[(0,r.jsx)(s.xvT,{textStyle:"detail",bold:!0,color:"text-03",mb:1,children:H("Offer Validity")}),(0,r.jsx)(F.M,{onDateUpdate:je})]}),(0,r.jsx)(s.zxk,{tabIndex:2,width:"100%",isLoading:t,disabled:ke.isZero()||void 0!==Ce,onClick:function(){$(Ie?i.FLOOR_PRICE_WARNING:i.TRANSACTION)},children:H("Make Offer")})]})})]})}()};!function(e){e[e.UNVERIFIED_WARNING=0]="UNVERIFIED_WARNING",e[e.MAIN=1]="MAIN",e[e.TRAIT_SELECTION_VIEW=2]="TRAIT_SELECTION_VIEW",e[e.FLOOR_PRICE_WARNING=3]="FLOOR_PRICE_WARNING",e[e.TRANSACTION=4]="TRANSACTION",e[e.CONFIRMATION=5]="CONFIRMATION"}(i||(i={}));var he=function(e){var t=e.collectionAddress,n=e.collectionFloor,d=e.collectionName,x=e.collectionTotalSupply,u=e.collectionSupportsTraitOffers,h=e.collectionType,f=e.isVerified,p=e.isOpen,m=e.onClose,j=(0,l.$)().t,g=(0,a.V4)(t),v=!f&&!g,b=v?i.UNVERIFIED_WARNING:i.MAIN,y=(0,o.useState)(v?i.UNVERIFIED_WARNING:i.MAIN),k=y[0],C=y[1],S=k===i.TRAIT_SELECTION_VIEW?j("Select Properties"):j("Collection Offer");return(0,o.useEffect)((function(){p||k===i.MAIN||C(b)}),[b,p,k]),(0,r.jsx)(s.u_l,{showBackButton:k===i.TRAIT_SELECTION_VIEW,onBack:function(){return C(i.MAIN)},isOpen:p,onClose:m,title:S,children:(0,r.jsx)(c.w,{children:(0,r.jsx)(ue,{collectionAddress:t,collectionFloor:n,collectionName:d,collectionType:h,isVerified:f,collectionTotalSupply:x,collectionSupportsTraitOffers:u,isOpen:p,onClose:m,setViewIndex:function(e){return C(e)},viewIndex:k,showWarning:v})})})}},54190:function(e,t,n){n.d(t,{Z:function(){return j}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(76699),c=n(17686),a=n(21351),d=(n(2784),n(53965)),x=n(10004),u=n(4611),h=n(6697),f=n(95485),p=n(13705),m=function(e){var t=e.makerOrder,n=e.collectionFloorOrderPrice,a=e.onCancelSuccess,m=(0,o.Z)(e,["makerOrder","collectionFloorOrderPrice","onCancelSuccess"]),j=(0,s.$)().t,g=(0,f.Oy)(t.startTime),v=(0,f.Oy)(t.endTime),b=n&&(0,h.Wi)(n,t.price)||{},y=b.floorDiffPercentString,k=b.floorDiffPercentBn,C=(0,h.NJ)(y,k);return(0,l.jsxs)(d.rj,(0,r.Z)((0,i.Z)({templateColumns:"minmax(0, 1fr) auto",gridColumnGap:4,gridRowGap:2,p:4,borderBottomWidth:"1px",borderBottomColor:"border-01"},m),{children:[(0,l.jsxs)(d.xu,{children:[(0,l.jsxs)(d.Eq,{spacing:2,children:[(0,l.jsxs)(d.kC,{children:[(0,l.jsx)(c.rVX,{boxSize:14,width:"10px",height:"20px",mr:1}),(0,l.jsx)(c.xvT,{bold:!0,textStyle:"detail",children:(0,u.As)(t.price,4)})]}),C&&(0,l.jsx)(c.xvT,{color:"text-03",textStyle:"detail",children:C})]}),(0,l.jsxs)(d.Eq,{spacing:2,children:[(0,l.jsx)(c.J2e,{variant:"tooltip",label:(0,l.jsx)(c.k52,{children:(0,u.Of)(v)}),children:(0,l.jsx)(c.xvT,{textStyle:"detail",color:"text-03",mr:2,children:(0,x.Z)(g,{addSuffix:!0})})}),(0,l.jsx)(c.J2e,{variant:"tooltip",label:(0,l.jsx)(c.k52,{children:(0,u.Of)(v)}),children:(0,l.jsx)(c.xvT,{textStyle:"detail",color:"text-03",children:j("Expiring {{timeUntilExpiry}}",{timeUntilExpiry:(0,x.Z)(v,{addSuffix:!0})})})})]})]}),(0,l.jsx)(d.P4,{colStart:2,rowSpan:2,children:(0,l.jsx)(p.mX,{nonces:[t.nonce],onSuccess:a})})]}))},j=function(e){var t=e.orders,n=e.collectionFloorOrderPrice,d=e.onClose,x=(0,o.Z)(e,["orders","collectionFloorOrderPrice","onClose"]),u=(0,s.$)().t;return(0,l.jsx)(c.u_l,(0,r.Z)((0,i.Z)({title:u("Select Listing"),onClose:d,closeOnOverlayClick:!1},x),{children:(0,l.jsx)(a.w,{children:(0,l.jsx)(c.fef,{p:0,children:t.map((function(e){return(0,l.jsx)(m,{makerOrder:e,collectionFloorOrderPrice:n,onCancelSuccess:d},e.hash)}))})})}))}},31433:function(e,t,n){n.d(t,{y:function(){return Me}});var i,r=n(70865),o=n(96670),l=n(66383),s=n(52322),c=n(2784),a=n(69702),d=n(45436),x=n(53965),u=n(15704),h=n(5632),f=n(34291),p=n.n(f),m=n(17381),j=n(39097),g=n.n(j),v=n(17686),b=n(13176),y=n(82353),k=n(39742),C=n(4611),S=n(81473),T=n(85561),w=n(33234),I=n(61733),A=n(17722),O=n(27508),E=n(50822),N=n(71673),R=n(18078),P=n(36234),Z=n(54190),F=n(98788),L=n(5163),_=n(83950),z=n(76699),M=n(10528),D=n(47884),V=n(45255),B=n(24489),G=n(21351),W=n(23985),$=n(47363),U=n(15830),q=function(e){var t=e.onClose,n=e.onConfirm,i=e.ask,r=e.ocoAsk,o=(0,u.$G)().t,l=(0,$.NF)({collection:i.collection,tokenId:i.tokenId.toString()}).data,c=(0,$.NF)({collection:null===r||void 0===r?void 0:r.collection,tokenId:null===r||void 0===r?void 0:r.tokenId.toString()}).data,a=(0,k.k)(i.currency,!0).icon,d=(0,k.k)(r.currency,!0).icon;return(0,s.jsxs)(s.Fragment,{children:[l&&c&&(0,s.jsxs)(x.gC,{bg:"ui-bg",width:"100%",p:4,spacing:4,children:[(0,s.jsxs)(x.kC,{width:"100%",children:[(0,s.jsx)(U.BO,{tokenName:l.name,collectionName:l.collection.name,tokenImage:l.image,isVerified:l.collection.isVerified,points:l.collection.points,flexGrow:1}),(0,s.jsxs)(x.kC,{alignItems:"center",maxWidth:"150px",children:[(0,s.jsx)(a,{boxSize:4,width:"8px",mr:1}),(0,s.jsx)(v.xvT,{textStyle:"detail",bold:!0,noOfLines:1,children:(0,C.As)(i.price,4)})]})]}),(0,s.jsxs)(x.kC,{width:"100%",children:[(0,s.jsx)(U.BO,{tokenName:c.name,collectionName:c.collection.name,tokenImage:c.image,isVerified:c.collection.isVerified,points:c.collection.points,flexGrow:1}),(0,s.jsxs)(x.kC,{alignItems:"center",maxWidth:"150px",children:[(0,s.jsx)(d,{boxSize:4,width:"8px",mr:1}),(0,s.jsx)(v.xvT,{textStyle:"detail",bold:!0,noOfLines:1,children:(0,C.As)(r.price,4)})]})]})]}),(0,s.jsx)(v.fef,{children:(0,s.jsxs)(x.gC,{spacing:4,alignItems:"flex-start",children:[(0,s.jsx)(v.xvT,{textStyle:"detail",color:"text-02",children:o("Conditional listings contain multiple items.")}),(0,s.jsx)(v.xvT,{textStyle:"detail",color:"text-02",children:o("When you cancel a conditional listing, you cancel the listings for all of the included items.")})]})}),(0,s.jsxs)(v.ZOd,{children:[(0,s.jsx)(W.zx,{tabIndex:1,flex:1,colorScheme:"secondary",onClick:t,children:o("Close")}),(0,s.jsx)(W.zx,{tabIndex:2,flex:1,colorScheme:"danger",onClick:n,children:o("Confirm")})]})]})},H=n(71474),Y=function(e){var t=e.isTxSending,n=e.isTxWaiting,i=(0,u.$G)().t;return(0,s.jsx)(v.fef,{children:(0,s.jsxs)(x.gC,{spacing:6,alignItems:"flex-start",children:[(0,s.jsx)(H.$,{color:"link-01",mb:1,size:"xl"}),(0,s.jsxs)(x.xu,{children:[(0,s.jsx)(v.xvT,{textStyle:"display-body",color:"text-01",bold:!0,children:i("Confirm in Wallet")}),(0,s.jsx)(v.xvT,{textStyle:"detail",color:"text-02",children:i("Confirm the transaction in your wallet.")})]}),(0,s.jsx)(x.iz,{}),(0,s.jsxs)(x.kC,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[(0,s.jsx)(v.xvT,{textStyle:"detail",color:"text-02",children:i("Status")}),(0,s.jsxs)(v.xvT,{textStyle:"detail",color:"text-02",bold:!0,children:[t&&i("Confirm the transaction in your wallet."),n&&i("Transaction pending")]})]})]})})};!function(e){e[e.PROMPT=0]="PROMPT",e[e.CONFIRMATION=1]="CONFIRMATION"}(i||(i={}));var J=function(e){var t=e.ask,n=e.pairedOCOAsk,r=e.isOpen,o=e.onClose,l=(0,z.$)().t,a=(0,_.pm)(),d=(0,c.useState)(i.PROMPT),x=d[0],u=d[1],h=M.O$.from(t.nonce),f=(0,B.s3)(),p=(0,V.l)({onSend:(0,F.Z)((function(){return(0,L.__generator)(this,(function(e){switch(e.label){case 0:return[4,f([h])];case 1:return[2,e.sent()]}}))})),onSuccess:function(){a({title:l("Listings Canceled")}),o()},onError:function(e){a({title:l("Error"),description:(0,D.e$)(e),status:"error"}),o()}}),m=p.submitTransaction,j=p.isTxSending,g=p.isTxWaiting;(0,c.useEffect)((function(){r||u(i.PROMPT)}),[r]);var b=function(){var e=(0,F.Z)((function(){return(0,L.__generator)(this,(function(e){return u(i.CONFIRMATION),m(),[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,s.jsx)(v.u_l,{isOpen:r,onClose:o,closeOnOverlayClick:!1,title:l("Cancel Conditional Listing"),children:(0,s.jsxs)(G.w,{children:[x===i.PROMPT&&(0,s.jsx)(q,{ask:t,ocoAsk:n,onClose:o,onConfirm:b}),x===i.CONFIRMATION&&(0,s.jsx)(Y,{isTxSending:j,isTxWaiting:g})]})})},K=n(61610),X=n(66896),Q=n(26297),ee=n(6697),te=n(11748),ne=n(59564),ie=n(52927),re=function(e){var t=e.tokenName,n=e.collectionAddress,i=e.collectionFloor,l=e.rarity,c=e.tokenId,a=e.totalSupply,d=e.onClose,h=void 0===d?p():d,f=(0,Q.Z)(e,["tokenName","collectionAddress","collectionFloor","rarity","tokenId","totalSupply","onClose"]),m=(0,u.$G)().t,j=(0,ee.Go)(i),g=(0,ie.sw)(n,c).data;return(0,s.jsx)(x.xu,(0,o.Z)((0,r.Z)({p:4,bg:"ui-bg",width:"100%",borderRadius:"dialog"},f),{children:(0,s.jsxs)(x.Kq,{spacing:4,width:"100%",children:[(0,s.jsxs)(x.Kq,{spacing:2,width:"100%",children:[(0,s.jsx)(te.gG,{collectionAddress:n,tokenId:c,name:t,textProps:{color:"text-01",textStyle:"detail",bold:!0,noOfLines:1},iconBoxSize:4,width:"fit-content"}),(0,s.jsxs)(x.kC,{width:"100%",children:[(0,s.jsx)(ne.$I,{rarity:l,totalSupply:a,mr:4}),(0,s.jsxs)(x.kC,{alignItems:"center",children:[(0,s.jsx)(v.xvT,{color:"text-03",textStyle:"helper",mr:1,children:m("Floor")}),(0,s.jsx)(v.uaJ,{boxSize:4,mr:.5,color:"helper"}),(0,s.jsx)(v.xvT,{color:"text-03",textStyle:"helper",children:j.globalFloor.isZero()?"-":(0,C.As)(j.globalFloor,6).toString()})]})]})]}),!!(null===g||void 0===g?void 0:g.length)&&(0,s.jsx)(x.xu,{width:"100%",overflowX:"hidden",children:(0,s.jsx)(te.p6,{attributes:g,collectionAddress:n,totalSupply:a,templateColumns:"repeat(2, minmax(0, 1fr))",width:"100%",onClickAttribute:h})})]})}))},oe=function(e){var t=e.tokenName,n=e.collectionAddress,i=e.collectionFloor,r=e.rarity,o=e.tokenId,l=e.totalSupply;return(0,s.jsx)(v.J2e,{label:(0,s.jsx)(re,{collectionAddress:n,tokenId:o,collectionFloor:i,totalSupply:l,rarity:r,tokenName:t,maxHeight:"320px",overflowY:"auto",width:"100%"}),arrowSize:0,gutter:10,contentProps:{p:0,borderRadius:"dialog",bg:"ui-bg",width:"100%"},arrowProps:{display:"none"},bodyProps:{sx:{}},renderInPortal:!0,placement:"auto",isLazy:!0,children:(0,s.jsx)(W.hU,{"aria-label":"nft-card-quicklook",colorScheme:"blackAlpha",size:"xs",children:(0,s.jsx)(v.PE3,{})})})},le=function(e){var t=e.tokenName,n=e.collectionAddress,i=e.collectionFloor,r=e.rarity,o=e.tokenId,l=e.totalSupply,c=(0,u.$G)().t,a=(0,d.qY)(),h=a.isOpen,f=a.onOpen,p=a.onClose;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.xu,{display:"none",className:"mobile-hover-actions-trigger",children:(0,s.jsx)(W.hU,{"aria-label":"nft-card-quicklook",colorScheme:"blackAlpha",size:"xs",onClick:function(e){e.preventDefault(),e.stopPropagation(),f()},children:(0,s.jsx)(v.PE3,{})})}),(0,s.jsx)(v.u_l,{isOpen:h,onClose:p,title:c("Details"),size:"sm",showCloseButton:!0,modalContentProps:{overflowY:"hidden"},children:(0,s.jsx)(v.fef,{bg:"ui-bg",children:(0,s.jsx)(re,{collectionAddress:n,tokenId:o,collectionFloor:i,totalSupply:l,rarity:r,tokenName:t,width:"100%",p:0,onClose:p})})})]})},se=n(7653),ce=n(50308),ae=n(26033),de=n(83115),xe=n(60934),ue=n(3432),he=n(9793),fe=n(88496),pe=n(66170),me=n(35452),je=n(98923),ge=n.n(je),ve=n(36288),be=n(88151),ye=n(97128),ke=n(8297),Ce=function(e){var t=e.nft,n=e.canListForSale,i=e.onOpenSellModal,r=e.onOpenAdjustModal,o=(0,u.$G)().t,l=(0,a.mA)().address,c=(0,A.p)(),d=(0,ye.Lo)(),x=(0,$.sr)(),h=t.tokenId,f=t.collection,p=(0,ye.dn)({onSuccess:function(){c({title:o("Success"),description:o("Profile NFT successfully updated!")})},onError:function(e){c({status:"error",title:o("Error"),description:(0,D.iC)(e)})}}),m=function(){p.mutate({collection:t.collection.address,tokenId:t.tokenId})},j=(0,ke.B)({onSuccess:function(e){var n=e.toHideUpdated,i=e.toUnhideUpdated;n.length>0?c({title:o("The {{collectionName}} collection was hidden!",{collectionName:t.collection.name}),description:o('You can still access your hidden items via the "hidden" filter in your account page!')}):i.length>0&&c({title:o("The {{collectionName}} collection was unhidden!",{collectionName:t.collection.name})}),ge()((function(){d(l),x(l)}),2e3)},onError:function(e){c({title:o("Error"),description:(0,D.e$)(e),status:"error"})}}),v=function(e){j.mutate({account:l,toHide:"hide"===e?[t.collection.address]:void 0,toUnhide:"unhide"===e?[t.collection.address]:void 0})},b=(0,be.q)({onAuthSuccess:function(){return m()}}).signInHandler,y=(0,be.q)({onAuthSuccess:function(e,t){return v(t)}}).signInHandler,k=function(e){(0,ve.QO)(l)?v(e):y(e)},C=(0,ce.T)().isAccountPage;return(0,s.jsxs)(s.Fragment,{children:[n?(0,s.jsx)(he.sN,{"data-id":"nft-card-owner-menu-sell",onClick:i,children:o("Sell")}):(0,s.jsx)(he.sN,{"data-id":"nft-card-owner-menu-adjust-listing",onClick:r,children:o("Adjust Listing")}),(0,s.jsx)(g(),{"data-id":"nft-card-owner-menu-transfer",href:"/collections/".concat(f.address,"/").concat(h,"/transfer"),passHref:!0,children:(0,s.jsx)(he.sN,{as:"a",children:o("Transfer")})}),(0,s.jsx)(he.sN,{"data-id":"nft-card-owner-menu-set-profile-pic",onClick:function(){(0,ve.QO)(l)?m():b()},children:o("Set as Profile Pic")}),C&&(t.isHidden?(0,s.jsx)(he.sN,{"data-id":"nft-card-owner-menu-unhide-collection",onClick:function(){return k("unhide")},children:o("Unhide Collection")}):(0,s.jsx)(he.sN,{"data-id":"nft-card-owner-menu-hide-collection",onClick:function(){return k("hide")},children:o("Hide Collection")}))]})},Se=function(e){var t=e.nft,n=e.canListForSale,i=e.isRecentlyRefreshed,r=void 0!==i&&i,o=e.onClickRefreshMetadata,l=e.onOpenSellModal,c=e.onOpenAdjustModal,h=e.onOpenMakeOfferModal,f=e.onOpenMakeCollectionOfferModal,p=(0,u.$G)().t,m=(0,a.mA)().address,j=t.collection,g=t.owners,b=t.ask,y="".concat(pe.de.appUrl,"/collections/").concat(j.address,"/").concat(t.tokenId),k=(0,d.VP)(y).onCopy,C=(0,T.ci)(m,g);return(0,s.jsx)(x.xu,{children:(0,s.jsx)(me.v,{offset:[0,4],placement:"bottom-end",isLazy:!0,children:function(e){var i=e.isOpen;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(he.j2,{as:W.hU,"aria-label":"share",variant:"ghost",colorScheme:"gray",size:"sm",children:i?(0,s.jsx)(v.Two,{}):(0,s.jsx)(v.JqD,{})}),(0,s.jsx)(fe.h_,{children:(0,s.jsxs)(he.qy,{zIndex:"dropdown",children:[C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ce,{nft:t,canListForSale:n,onOpenSellModal:l,onOpenAdjustModal:c}),(0,s.jsx)(he.R,{})]}),(0,s.jsxs)(s.Fragment,{children:[b&&!C&&(0,s.jsx)(he.sN,{"data-id":"nft-card-menu-make-offer",onClick:h,children:p("Make Offer")}),(0,s.jsx)(he.sN,{"data-id":"nft-card-menu-make-collection-offer",onClick:f,children:p("Make Collection Offer")}),(0,s.jsx)(he.R,{})]}),(0,s.jsx)(he.sN,{"data-id":"nft-card-menu-copy-link",onClick:k,children:p("Copy Link")}),(0,s.jsx)(he.sN,{"data-id":"nft-card-menu-refresh-metadata",isDisabled:r,onClick:o,children:p(r?"Recently Refreshed":"Refresh Metadata")})]})})]})}})})},Te=n(47117),we=n(51509),Ie=n(13705),Ae=function(e){var t=e.nft,n=e.accountAsks,i=e.isFetchingErc1155Asks,r=e.isConditionalListing,o=e.onOpenCancelOCOListing,l=e.onOpenCancelMultipleListings,c=e.onOpenListItem,d=e.onOpenMakeOffer,h=e.onOpenBuyNow,f=t.owners,p=t.collection,m=t.ask,j="ERC1155"===p.type,g=(0,a.mA)(),b=g.address,y=g.isConnecting,k=(0,u.$G)().t,C=function(){var e=(0,T.ci)(b,f);return y||b?i?(0,s.jsx)(we.Od,{height:6,width:"30%",ml:3}):j&&n.length>0?(0,s.jsx)(v.zxk,{"data-id":"nft-card-quick-action-button-cancel-listing-1155",onClick:l,variant:"ghost",colorScheme:"red",width:"100%",borderRadius:"button",borderTopRightRadius:0,borderTopLeftRadius:0,justifyContent:"start",children:k("Cancel Listing")}):m&&(0,T.Er)(m.signer,b)?r?(0,s.jsx)(v.zxk,{"data-id":"nft-card-quick-action-button-cancel-oco-listing-721",onClick:o,variant:"ghost",colorScheme:"red",width:"100%",borderRadius:"button",borderTopRightRadius:0,borderTopLeftRadius:0,justifyContent:"start",children:k("Cancel Listing")}):(0,s.jsx)(Ie.mX,{"data-id":"nft-card-quick-action-button-cancel-listing-721",nonces:[m.nonce],px:3,variant:"ghost",colorScheme:"red",width:"100%",borderRadius:"button",borderTopRightRadius:0,borderTopLeftRadius:0,justifyContent:"start",children:k("Cancel Listing")}):j&&m||m&&!e?(0,s.jsx)(v.zxk,{"data-id":"nft-card-quick-action-button-buy-now",onClick:h,variant:"ghost",colorScheme:"green",width:"100%",borderRadius:"button",borderTopRightRadius:0,borderTopLeftRadius:0,justifyContent:"start",children:k("Buy Now")}):!m&&e?(0,s.jsx)(v.zxk,{"data-id":"nft-card-quick-action-button-sell",onClick:c,variant:"ghost",colorScheme:"green",width:"100%",borderTopRightRadius:0,borderTopLeftRadius:0,justifyContent:"start",children:k("Sell")}):e?void 0:(0,s.jsx)(v.zxk,{"data-id":"nft-card-quick-action-button-make-offer",onClick:d,variant:"ghost",colorScheme:"green",width:"100%",borderRadius:"button",borderTopRightRadius:0,borderTopLeftRadius:0,justifyContent:"start",children:k("Make Offer")}):(0,s.jsx)(Ie.pB,{"data-id":"nft-card-quick-action-button-connect-wallet",px:3,variant:"ghost",width:"100%",borderRadius:"button",borderTopRightRadius:0,borderTopLeftRadius:0,justifyContent:"start",children:k("Connect")})}();return(0,s.jsx)(x.kC,{alignItems:"center",className:"quick-action",height:12,borderRadius:"button",borderTopRightRadius:0,borderTopLeftRadius:0,visibility:"hidden",pointerEvents:"none",width:"100%",position:"absolute",top:0,left:0,children:C})},Oe=function(e){var t=e.balance,n=(0,Q.Z)(e,["balance"]);return(0,s.jsxs)(x.kC,(0,o.Z)((0,r.Z)({alignItems:"center",borderRadius:"mini",bg:"ui-02",position:"absolute",bottom:0,right:0,m:1,p:1.5},n),{children:[(0,s.jsx)(v.ZDh,{boxSize:4,mr:1.5}),(0,s.jsx)(v.xvT,{textStyle:"detail",children:t})]}))},Ee=n(14266),Ne=n(66539),Re=n(47542),Pe=function(e){var t=e.name,n=e.imageSrc,i=e.collectionName,l=e.isListingRewardsEligible,c=e.isVerified,a=e.price,d=e.currency,u=(0,Q.Z)(e,["name","imageSrc","collectionName","isListingRewardsEligible","isVerified","price","currency"]),h=(0,k.k)(d,!0).icon;return(0,s.jsxs)(x.kC,(0,o.Z)((0,r.Z)({width:"100%",overflow:"hidden"},u),{children:[(0,s.jsx)(x.xu,{flexShrink:0,position:"relative",width:"40px",height:"40px",mr:4,sx:{img:{borderRadius:"mini"}},children:(0,s.jsx)(Re.E,{src:n,alt:"".concat(t," image"),layout:"fill",objectFit:"contain",sizes:"48px"})}),(0,s.jsxs)(x.xu,{flexGrow:1,minWidth:0,children:[(0,s.jsxs)(x.kC,{direction:"row",alignItems:"center",width:"100%",gap:1,children:[(0,s.jsx)(x.xu,{minWidth:0,children:(0,s.jsx)(v.k52,{textStyle:"helper",color:"text-inverse-03",noOfLines:1,children:i})}),c&&(0,s.jsx)(v.SA,{boxSize:4,ml:1}),l&&(0,s.jsx)(v._82,{color:"purple.400",boxSize:4})]}),(0,s.jsx)(v.k52,{textStyle:"detail",color:"text-inverse",bold:!0,noOfLines:1,children:t})]}),(0,s.jsxs)(x.kC,{alignItems:"center",maxWidth:"150px",children:[(0,s.jsx)(h,{boxSize:4,width:"8px",mr:1}),(0,s.jsx)(v.k52,{textStyle:"detail",color:"text-inverse",bold:!0,noOfLines:1,children:(0,C.As)(a,4)})]})]}))},Ze=function(e){var t=e.order,n=e.pairedOCOOrder,i=e.isDisabled,l=void 0!==i&&i,c=(0,u.$G)().t,a=(0,$.NF)({collection:t.collection,tokenId:t.tokenId.toString()}).data,d=(0,$.NF)({collection:n.collection,tokenId:n.tokenId.toString()}).data;return(0,s.jsx)(v.J2e,{renderInPortal:!0,label:(0,s.jsxs)(x.xu,{children:[(0,s.jsx)(v.k52,{children:c("Conditional Listing: If one of the items sells on LooksRare, the other listing is instantly canceled.")}),a&&d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Pe,{name:a.name,imageSrc:a.image.src,collectionName:a.collection.name,isListingRewardsEligible:!!a.collection.points,price:t.price,currency:t.currency,mt:4}),(0,s.jsx)(Pe,{name:d.name,imageSrc:d.image.src,collectionName:d.collection.name,isListingRewardsEligible:!!d.collection.points,price:n.price,currency:n.currency,mt:4})]})]}),children:(0,s.jsxs)(x.kC,(0,o.Z)((0,r.Z)({flexDirection:"row"},l&&{opacity:.2}),{children:[(0,s.jsx)(xe.Z,{price:(0,C.As)(t.price,4),currencyIcon:(0,k.k)(t.currency,!0).icon}),(0,s.jsx)(v.Grk,{ml:1,color:"link-01"})]}))})},Fe=n(31022),Le=n(85228),_e=n(20533),ze=function(e){var t=e.collectionAddress,n=e.tokenId,i=e.isActive,r=e.isMobile,o=(0,u.$G)().t,l=(0,c.useState)(!1),a=l[0],d=l[1],h=r?50:600,f=(0,Fe.Y)((function(){return d(!0)}),h),p=f.startTimer,m=f.stopTimer;(0,c.useEffect)((function(){i?p():(m(),d(!1))}),[i,p,m]);var j=(0,Le.J)(t,n,{enabled:a}),g=j.isSuccess&&!j.data;return(0,s.jsx)(s.Fragment,{children:g&&(0,s.jsx)(x.kC,{display:"none",className:"mobile-hover-actions-trigger",onClick:r?function(e){e.stopPropagation(),e.preventDefault()}:void 0,children:(0,s.jsx)(v.J2e,{renderInPortal:!0,variant:"tooltip",label:(0,s.jsx)(v.k52,{children:o("Not currently tradeable on OpenSea.")}),children:(0,s.jsx)(x.kC,{children:(0,s.jsx)(_e.Z,{boxSize:8,color:"blackAlpha.400"})})})})})},Me=function(e){var t=e.nft,n=e.isRecentlyRefreshed,i=e.showCollectionName,f=void 0===i||i,j=e.isMultiselectActive,F=void 0!==j&&j,L=e.isSelected,_=void 0!==L&&L,z=e.multiselectMode,M=e.onClickListItem,D=e.onClickRefreshMetadata,V=e.onMultiselectContainerClick,B=void 0===V?p():V,G=e.selectedItemsCount,W=void 0===G?0:G,$=t.tokenId,U=t.name,q=t.collection,H=t.image,Y=t.owners,Q=t.ask,ee=t.bids,te=t.rarity,ne=(0,se.F)({base:!0,md:!1}),ie=(0,u.$G)().t,re=(0,a.mA)().address,he=(0,h.useRouter)(),fe=he.locale,pe=he.push,me=(0,A.p)(),je=(0,E.J)(),ge="ERC1155"===q.type,ve=!!q.points,be=(0,l.Z)(ee,1)[0],ye=(0,O.D)({onSuccess:function(){return me({title:ie("Refreshing"),description:ie("Metadata refreshing. Check back in a few moments.")})},onError:function(e){return me({title:ie("Can't refresh"),description:e,status:"error"})}}),ke=ye.onRefreshMetadata,Ce=ye.isRefreshing,we=(0,c.useState)(!1),Ie=we[0],Re=we[1],Pe=Ie||!!n,Fe=(0,ce.T)().isAccountPage,Le=Fe?(0,S.t_)(Y,je):(0,S.t_)(Y,re),_e=(0,T.ci)(re,Y),Me=be&&(0,k.k)(be.currency).icon,De=(0,d.qY)(),Ve=De.isOpen,Be=De.onOpen,Ge=De.onClose,We=(0,d.qY)(),$e=(0,d.qY)(),Ue=(0,d.qY)(),qe=(0,d.qY)(),He=(0,d.qY)(),Ye=(0,d.qY)(),Je=ge&&!!re&&!!Q&&Ve,Ke=(0,c.useMemo)((function(){return(0,m.Z)(new Date)}),[]),Xe=(0,I.yi)({filter:(0,r.Z)({isOrderAsk:!0,collection:q.address,tokenId:$,endTime:Ke,status:[y.iF.VALID]},re?{signer:re}:{}),sort:y.Ae.PRICE_ASC,pagination:{first:50}},{enabled:Je,staleTime:3e5}),Qe=(0,I.yi)({filter:{isOrderAsk:!0,collection:q.address,tokenId:$,endTime:Ke,status:[y.iF.VALID]},sort:y.Ae.PRICE_ASC,pagination:{first:50}},{enabled:Je,staleTime:3e5}),et=ge&&Qe.data?(0,l.Z)(Qe.data.filter((function(e){return!(0,T.Er)(e.signer,re)})),1)[0]:Q&&!(0,T.Er)(Q.signer,re)?Q:void 0,tt=ge&&Xe.data?Xe.data:_e&&Q&&(0,T.Er)(re,Q.signer)?[Q]:[],nt=tt[0],it=function(e,t,n,i){var r,o=(0,I.yi)(n,i);return o&&o.data&&(r=o.data.find((function(n){return t!==n.collection||e!==n.tokenId}))),{pairedOCOOrder:r}}(null===nt||void 0===nt?void 0:nt.tokenId,null===nt||void 0===nt?void 0:nt.collection,{filter:{isOrderAsk:!0,endTime:Ke,status:[y.iF.VALID],nonce:null===nt||void 0===nt?void 0:nt.nonce,signer:re},sort:y.Ae.PRICE_ASC,pagination:{first:50}},{enabled:!!(null===nt||void 0===nt?void 0:nt.isOCO)&&!!re,staleTime:3e5}).pairedOCOOrder,rt=!!it,ot=_e&&Le.gt(tt.length),lt=z===X.Rq.Listing?ot:z!==X.Rq.RefreshMetadata||_||W<X.$Y&&!Pe,st=!_&&F&&!lt,ct=!ne&&(Ve||F);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(de.K,{isActive:Ve,onActive:Be,onInactive:Ge,isMultiselectActive:F,isMultiselectAllowed:lt,isSelected:_,onClick:function(e){if(F){if(!lt)return void e.preventDefault();B(e)}},position:"relative",children:(0,s.jsx)(g(),{href:"/collections/".concat(q.address,"/").concat($),passHref:!0,children:(0,s.jsxs)(x.xu,{as:"a",onClick:function(e){F&&e.preventDefault()},children:[(0,s.jsxs)(x.xu,{children:[(0,s.jsxs)(x.xu,{position:"relative",children:[(0,s.jsx)(x.xu,{position:"absolute",zIndex:"docked",opacity:"0",transition:"all 200ms ease-out",width:"100%",height:"100%",className:"nft-card-image-overlay"}),(0,s.jsx)(x.oM,{ratio:1,sx:{img:{borderRadius:"button",borderBottomRadius:"0"},opacity:st?.2:1},children:(0,s.jsx)(K.fU,{src:H.src,contentType:H.contentType,alt:"".concat(U," image"),collectionLogo:q.logo,collectionAddress:q.address,isRefreshing:Ce,isRefreshed:Pe,onRefreshClick:function(){ke(t.collection.address,t.tokenId),Re(!0)},imageProps:{sizes:"(max-width: ".concat(w.A.sm,") 100vw, (max-width: ").concat(w.A.md,") 360px, 262px"),lazyBoundary:"800px"},videoProps:{loop:!0,sizes:{base:428,xs:428,sm:360,md:262}}})}),(0,s.jsx)(x.xu,{position:"absolute",top:0,right:0,m:1,zIndex:"docked",children:(0,s.jsxs)(x.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:[ne&&(0,s.jsx)(x.xu,{mb:1,children:(0,s.jsx)(le,{collectionAddress:t.collection.address,tokenId:t.tokenId,collectionFloor:t.collection.floor,totalSupply:t.collection.totalSupply,rarity:t.rarity,tokenName:t.name})}),ct&&(0,s.jsx)(x.xu,{mb:1,children:(0,s.jsx)(oe,{collectionAddress:t.collection.address,tokenId:t.tokenId,collectionFloor:t.collection.floor,totalSupply:t.collection.totalSupply,rarity:t.rarity,tokenName:t.name})}),(ne||Ve)&&(0,s.jsx)(ze,{collectionAddress:t.collection.address,tokenId:t.tokenId,isActive:Ve,isMobile:ne})]})}),Pe&&F&&(0,s.jsx)(v.J2e,{renderInPortal:!0,variant:"tooltip",label:(0,s.jsx)(v.k52,{textAlign:"center",width:"140px",children:ie("Metadata Refresh Recently Requested")}),children:(0,s.jsx)(x.xu,{textAlign:"center",position:"absolute",top:"0",width:"100%",mt:1,children:(0,s.jsx)(v.T39,{boxSize:8})})}),Fe&&Le.gt(1)&&(0,s.jsx)(Oe,{balance:(0,C.rY)(Le,fe)})]}),(0,s.jsxs)(x.Kq,{spacing:2,px:3,mt:3,mb:2,children:[f&&(0,s.jsx)(ae.q,{isVerified:q.isVerified,isListingRewardsEligible:ve,isDisabled:F,onClick:function(e){e.preventDefault(),pe("/collections/".concat(q.address))},role:"link",width:"fit-content",children:q.name}),(0,s.jsx)(ue.C,{title:U,opacity:st?.2:1}),(0,s.jsxs)(x.kC,{alignItems:"center",justifyContent:"space-between",children:[Q?rt?(0,s.jsx)(Ze,{order:Q,pairedOCOOrder:it,isDisabled:st}):(0,s.jsx)(xe.Z,(0,r.Z)({price:(0,C.As)(Q.price,4),currencyIcon:(0,k.k)(Q.currency,!0).icon},st&&{opacity:.2})):(0,s.jsx)(v.xvT,(0,o.Z)((0,r.Z)({textStyle:"helper",color:"text-disabled",py:.5},st&&{opacity:.2}),{children:ie("Unlisted")})),(0,s.jsx)(Te.$,(0,r.Z)({rarity:te,totalSupply:q.totalSupply,popoverProps:{disabled:ne,renderInPortal:!0}},st&&{opacity:.2}))]})]})]}),(0,s.jsxs)(x.kC,{alignItems:"center",justifyContent:"space-between",height:12,onClick:function(e){e.preventDefault()},position:"relative",opacity:st?.2:1,children:[(0,s.jsx)(Ae,{nft:t,accountAsks:tt,isFetchingErc1155Asks:Xe.isFetching||Qe.isFetching,isConditionalListing:rt,onOpenCancelOCOListing:qe.onOpen,onOpenCancelMultipleListings:He.onOpen,onOpenListItem:M,onOpenMakeOffer:We.onOpen,onOpenBuyNow:Ye.onOpen}),(0,s.jsx)(x.xu,{pl:3,maxW:{base:"100px",md:"140px"},children:(!Ve||F)&&be&&(0,s.jsx)(Ee.M,{icon:Me,label:ie("Offer"),price:(0,C.As)(be.price,4)})}),(0,s.jsx)(x.xu,{height:12,width:12,flexShrink:0,p:1,children:F?(0,s.jsx)(Ne.F,{isChecked:_}):(0,s.jsx)(Se,{nft:t,canListForSale:ot,isRecentlyRefreshed:Pe,onClickRefreshMetadata:D,onOpenSellModal:M,onOpenAdjustModal:Ue.onOpen,onOpenMakeOfferModal:We.onOpen,onOpenMakeCollectionOfferModal:$e.onOpen})})]})]})})}),(0,s.jsx)(b.Z,{isOpen:We.isOpen,onClose:We.onClose,tokenId:$,tokenName:U,tokenImage:H,collectionAddress:q.address,collectionName:q.name,collectionFloor:q.floor,collectionType:q.type,bids:ee,ask:Q,isVerified:q.isVerified}),(0,s.jsx)(N.Z,{collectionAddress:q.address,collectionName:q.name,collectionTotalSupply:q.totalSupply,collectionType:q.type,isVerified:q.isVerified,collectionFloor:q.floor,isOpen:$e.isOpen,onClose:$e.onClose}),(0,s.jsx)(R.A,{isOpen:Ue.isOpen,onClose:Ue.onClose,orders:tt,collectionType:t.collection.type,tokenName:t.name,tokenImage:t.image,collectionName:t.collection.name,collectionAddress:q.address,isVerified:t.collection.isVerified,collectionFloor:t.collection.floor,points:t.collection.points}),et&&(0,s.jsx)(P.Z,{tokenId:$,tokenName:U,tokenImage:H,collectionName:q.name,collectionAddress:q.address,collectionType:q.type,isVerified:q.isVerified,ask:et,isOpen:Ye.isOpen,onClose:Ye.onClose}),Xe.isSuccess&&(0,s.jsx)(Z.Z,{orders:Xe.data,collectionFloorOrderPrice:t.collection.floor.floorPrice,isOpen:He.isOpen,onClose:He.onClose}),Q&&it&&(0,s.jsx)(J,{ask:Q,pairedOCOAsk:it,isOpen:qe.isOpen,onClose:qe.onClose})]})}},83115:function(e,t,n){n.d(t,{K:function(){return d}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(53965),c={bg:"ui-01",borderColor:"border-01",".quick-action":{bg:"ui-01",visibility:"visible",pointerEvents:"auto"},".mobile-hover-actions-trigger":{display:"block"}},a={".nft-card-image-overlay":{background:"linear-gradient(0deg, #12191B00 0%, #12191B80 100%)",opacity:1}},d=function(e){var t=e.isActive,n=e.isMultiselectActive,d=void 0!==n&&n,x=e.isSelected,u=void 0!==x&&x,h=e.isMultiselectAllowed,f=void 0===h||h,p=e.onActive,m=e.onInactive,j=e.children,g=(0,o.Z)(e,["isActive","isMultiselectActive","isSelected","isMultiselectAllowed","onActive","onInactive","children"]),v=function(e,t,n,o){return t?n?{borderColor:"interactive-01",bg:"hover-ui",_hover:{},".mobile-hover-actions-trigger":{display:"block"}}:o?{_hover:(0,i.Z)({bg:"ui-01",borderColor:"border-01"},a),_active:{bg:"hover-ui"},".mobile-hover-actions-trigger":{display:"block"}}:{cursor:"default",".mobile-hover-actions-trigger":{display:"block"}}:(0,r.Z)((0,i.Z)({},e&&c),{_active:(0,r.Z)((0,i.Z)({},c),{bg:"onclick-ui"}),_hover:(0,i.Z)({transform:"translateY(-2px)",":not(:active)":c},a),transition:"all 200ms ease-out"})}(t,d,u,f);return(0,l.jsx)(s.xu,(0,r.Z)((0,i.Z)({as:"a",display:"block",bg:"ui-bg",border:"1px solid",borderColor:"border-01",sx:v,borderRadius:"container",overflow:"hidden",width:"100%",onTouchStart:p,onTouchEnd:m,onMouseEnter:p,onMouseLeave:m},g),{children:j}))}},66539:function(e,t,n){n.d(t,{F:function(){return l}});var i=n(52322),r=n(23985),o=n(17686),l=function(e){var t=e.isChecked;return(0,i.jsx)(r.hU,{size:"sm","aria-label":"Card select checkbox",variant:t?"solid":"ghost",colorScheme:t?"primary":"secondary",children:t?(0,i.jsx)(o.ed8,{}):(0,i.jsx)(o.u_5,{})})}},14266:function(e,t,n){n.d(t,{M:function(){return l}});var i=n(52322),r=n(53965),o=n(17686),l=function(e){var t=e.icon,n=e.label,l=e.price;return(0,i.jsxs)(r.kC,{children:[(0,i.jsx)(o.xvT,{"data-test-id":"nft-card-offer-price-label",color:"text-03",textStyle:"helper",mr:1,children:n}),t&&(0,i.jsx)(t,{boxSize:4,height:"16px",width:"8px",mr:.5}),(0,i.jsx)(o.xvT,{as:"span",bold:!0,textStyle:"helper",ml:.5,noOfLines:1,children:l})]})}},60934:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(53965),c=n(17686),a=function(e){var t=e.price,n=e.currencyIcon,a=(0,o.Z)(e,["price","currencyIcon"]);return(0,l.jsxs)(s.kC,(0,r.Z)((0,i.Z)({alignItems:"center",maxWidth:"150px"},a),{children:[(0,l.jsx)(n,{boxSize:4,width:"8px",mr:1}),(0,l.jsx)(c.xvT,{textStyle:"detail",color:"text-01",bold:!0,noOfLines:1,title:t,children:t})]}))}},47117:function(e,t,n){n.d(t,{$:function(){return h}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(53965),c=n(74851),a=n(58105),d=n(82353),x=n(17686),u=n(36966),h=function(e){var t=e.rarity,n=e.totalSupply,h=e.popoverProps,f=(0,o.Z)(e,["rarity","totalSupply","popoverProps"]),p=t&&t.find((function(e){return e.provider===d.YT.RARITY_SNIPER})),m=p&&(0,a.commify)(p.rank.toString());return(0,l.jsx)(l.Fragment,{children:p&&(0,l.jsx)(u.o,{rank:p.rank,url:p.url,totalSupply:n,popoverProps:h,children:(0,l.jsx)(s.xu,{height:"20px",children:(0,l.jsxs)(x.Vp9,(0,r.Z)((0,i.Z)({size:"sm",variant:"outline",colorScheme:"gray"},f),{children:[(0,l.jsx)(c.AD,{mr:1,children:(0,l.jsx)(x.zN2,{})}),(0,l.jsx)(c.Sn,{children:m})]}))})})})}},3432:function(e,t,n){n.d(t,{C:function(){return d}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(29287),c=n(53965),a=n(17686),d=(0,s.Gp)((function(e,t){var n=e.title,s=e.textProps,d=(0,o.Z)(e,["title","textProps"]);return(0,l.jsx)(c.kC,(0,r.Z)((0,i.Z)({alignItems:"center"},d),{children:(0,l.jsx)(a.Tud,{variant:"tooltip",renderInPortal:!0,label:n,children:(0,l.jsx)(a.xvT,(0,r.Z)((0,i.Z)({textStyle:"helper",color:"text-02",bold:!0,ref:t,py:.5},s),{children:n}))})}))}))},26033:function(e,t,n){n.d(t,{q:function(){return d}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(29287),c=n(53965),a=n(17686),d=(0,s.Gp)((function(e,t){var n=e.children,s=e.isVerified,d=void 0!==s&&s,x=e.isListingRewardsEligible,u=void 0!==x&&x,h=e.isDisabled,f=void 0!==h&&h,p=e.onClick,m=(0,o.Z)(e,["children","isVerified","isListingRewardsEligible","isDisabled","onClick"]);return(0,l.jsxs)(c.kC,(0,r.Z)((0,i.Z)({ref:t,alignItems:"center",color:"text-03",sx:(0,i.Z)({},!f&&{_hover:{color:"link-02"}}),onClick:function(e){f?e.preventDefault():null===p||void 0===p||p(e)}},m),{children:[(0,l.jsx)(a.xvT,{textStyle:"helper",color:"currentColor",noOfLines:1,children:n}),d&&(0,l.jsx)(a.SA,{boxSize:3,ml:1}),u&&(0,l.jsx)(a._82,{color:"purple.400",boxSize:3,ml:1})]}))}))},59564:function(e,t,n){n.d(t,{Cp:function(){return l},$I:function(){return s.$}});n(31433),n(26033),n(83115);var i=n(52322),r=(n(2784),n(53965)),o=n(51509),l=function(e){var t=e.showCollectionName,n=void 0!==t&&t;return(0,i.jsxs)(r.rj,{height:"fit-content",templateRows:"auto 1fr auto auto",width:"100%",borderRadius:"button",overflow:"hidden",border:"1px solid",borderColor:"border-02",children:[(0,i.jsx)(r.xu,{children:(0,i.jsx)(o.Od,{children:(0,i.jsx)(r.oM,{ratio:1,children:(0,i.jsx)(r.xu,{})})})}),(0,i.jsxs)(r.xu,{px:3,my:3,children:[(0,i.jsxs)(r.Kq,{pb:2,children:[n&&(0,i.jsx)(o.Od,{height:"16px",width:"70%"}),(0,i.jsx)(o.Od,{height:"16px",width:"30%",my:.5}),(0,i.jsx)(o.Od,{height:"16px",width:"25%",my:.5})]}),(0,i.jsx)(r.xu,{py:1,mt:4,children:(0,i.jsx)(o.Od,{height:"16px",width:"20%"})})]})]})},s=(n(60934),n(14266),n(47117));n(3432),n(66539)},7721:function(e,t,n){n.d(t,{E:function(){return f}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(15704),c=n(45436),a=n(53965),d=n(23985),x=n(17686),u=n(13705),h=n(18290),f=function(e){var t=e.bid,n=e.tokenId,f=e.tokenName,p=e.tokenImage,m=e.collectionAddress,j=e.collectionName,g=e.collectionFloor,v=e.collectionType,b=e.isVerified,y=(0,o.Z)(e,["bid","tokenId","tokenName","tokenImage","collectionAddress","collectionName","collectionFloor","collectionType","isVerified"]),k=(0,s.$G)().t,C=(0,c.qY)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{bids:[t],selectedBid:t,isOpen:C.isOpen,onClose:C.onClose,tokenId:n,tokenName:f,tokenImage:p,collectionAddress:m,collectionType:v,collectionName:j,collectionFloor:g,isVerified:b}),(0,l.jsxs)(a.xu,(0,r.Z)((0,i.Z)({},y),{children:[(0,l.jsx)(x.J2e,{variant:"tooltip",label:(0,l.jsx)(x.k52,{children:k("Adjust")}),children:(0,l.jsx)("span",{"data-test-id":"edit-bid-button","data-id":"edit-bid-button",children:(0,l.jsx)(d.hU,{mr:2,"aria-label":k("edit bid"),onClick:C.onOpen,colorScheme:"secondary",size:"sm",children:(0,l.jsx)(x.gwL,{})})})}),(0,l.jsx)(x.J2e,{variant:"tooltip",label:(0,l.jsx)(x.k52,{children:k("Cancel")}),children:(0,l.jsx)("span",{children:(0,l.jsx)(u.mX,{as:d.hU,"aria-label":k("Cancel orders"),size:"sm",variant:"outline",colorScheme:"gray",nonces:[t.nonce],children:(0,l.jsx)(x.Two,{})})})})]}))]})}},91897:function(e,t,n){n.d(t,{Z:function(){return je}});var i=n(52322),r=n(45436),o=n(53965),l=n(10004),s=n(69702),c=n(76699),a=n(4611),d=n(6697),x=n(85561),u=n(95485),h=n(17686),f=n(2784),p=n(98788),m=n(70865),j=n(96670),g=n(5163),v=n(51509),b=n(10528),y=n(90711),k=n(59656),C=n(98923),S=n.n(C),T=n(66170),w=n(11248),I=n(92228),A=n(6647),O=n(66842);function E(){var e=(0,I.Z)(["\n    mutation InvalidateBidsMutation($signer: Address!) {\n      invalidateBids(signer: $signer) {\n        success\n      }\n    }\n  "]);return E=function(){return e},e}var N,R=function(){var e=(0,p.Z)((function(e){var t;return(0,g.__generator)(this,(function(n){switch(n.label){case 0:return t=(0,A.gql)(E()),[4,(0,O.B)(t,{signer:e})];case 1:return[2,n.sent().invalidateBids]}}))}));return function(t){return e.apply(this,arguments)}}(),P=n(46355),Z=n(55257),F=n(39132),L=n(26235),_=n(47363),z=n(95434),M=n(1753),D=n(23142),V=n(46749),B=n(56742),G=n(22519),W=n(17722),$=n(65180),U=n(15830),q=n(47884),H=n(30283),Y=n(40274),J=n(24489),K=function(e){var t=e.tokenId,n=e.collectionType,r=e.collectionAddress,o=e.makerOrder,l=e.onConfirm,a=e.onClose,d=e.onBack,x=e.protocolFee,u=(0,c.$)().t,m=(0,s.mA)().address,j=(0,f.useState)(U.G7.APPROVAL),v=j[0],b=j[1],y=(0,f.useState)(),k=y[0],C=y[1],S=(0,f.useState)(!1),w=S[0],I=S[1],A=(0,U.p6)().isSignerReady,O=T.Yu[n],E=(0,H.O5)(O.abi,r),N=(0,H.V_)(O.abi,r),R=(0,J.u$)(),P=(0,U.X0)({onSubmit:(0,p.Z)((function(){var e,t;return(0,g.__generator)(this,(function(n){switch(n.label){case 0:if(!m)throw new q.Kr("AcceptOrderModal");n.label=1;case 1:return n.trys.push([1,,7,8]),I(!0),[4,E(m,O.transferManagerAddress)];case 2:return n.sent()?(b(U.G7.TRADE),[3,6]):[3,3];case 3:return[4,N(O.transferManagerAddress)];case 4:return e=n.sent(),C(e.hash),[4,e.wait()];case 5:if(!(t=n.sent()).status)throw new Error("".concat(t.transactionHash," failed"));C(void 0),b(U.G7.TRADE),n.label=6;case 6:return[3,8];case 7:return I(!1),[7];case 8:return[2]}}))}))}),Z=P.handleSubmit,F=P.isRejected,L=(0,U.X0)({onSubmit:(0,p.Z)((function(){var e,n,i,r,s;return(0,g.__generator)(this,(function(c){switch(c.label){case 0:if(!m)throw new q.Kr("AcceptOrderModal");c.label=1;case 1:return c.trys.push([1,,6,7]),I(!0),e=(0,Y.Z)(x,o.strategy).toNumber(),n={isOrderAsk:!0,taker:m,price:o.price,tokenId:t,minPercentageToAsk:e,params:[]},o.signature?(i={signer:o.signer,collection:o.collection,price:o.price,tokenId:o.tokenId,amount:o.amount,strategy:o.strategy,isOrderAsk:o.isOrderAsk,currency:o.currency,nonce:o.nonce,startTime:o.startTime,endTime:o.endTime,minPercentageToAsk:o.minPercentageToAsk,params:o.params,signature:o.signature},[4,R(n,i)]):[3,4];case 2:return r=c.sent(),C(r.hash),[4,r.wait()];case 3:if(!(s=c.sent()).status)throw new Error("".concat(s.transactionHash," failed"));return l(s.transactionHash),[3,5];case 4:throw new Error("makerOrder does not have signature");case 5:return[3,7];case 6:return I(!1),[7];case 7:return[2]}}))}))}),_=L.handleSubmit,z=L.isRejected;return(0,f.useEffect)((function(){A&&(v===U.G7.APPROVAL&&Z({callOnlyOnce:!0}),v===U.G7.TRADE&&_({callOnlyOnce:!0}))}),[A,v,_,Z]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.fef,{children:[(0,i.jsx)(U.Xf,{onResendRequest:Z,title:u("Approve collections"),message:u("Confirm the transaction in your wallet. This lets you sell any item in this collection."),status:(0,h.rw9)(U.G7.APPROVAL,v),collapse:v!==U.G7.APPROVAL,transaction:k,mb:6,hasError:F}),(0,i.jsx)(U.Xf,{onResendRequest:_,title:u("Confirm Sale"),message:u("Confirm the transaction in your wallet to complete the sale."),status:(0,h.rw9)(U.G7.TRADE,v),collapse:v!==U.G7.TRADE,transaction:k,hasError:z})]}),(0,i.jsxs)(h.ZOd,{pt:0,children:[(0,i.jsx)(h.zxk,{tabIndex:1,colorScheme:"gray",flex:1,onClick:d,isDisabled:w,children:u("Review offer")}),(0,i.jsx)(h.zxk,{tabIndex:2,colorScheme:"gray",flex:1,onClick:a,isDisabled:w,children:u("Cancel")})]})]})},X=n(38505),Q=n(572),ee=function(e){var t=e.collectionFloorPriceInEth,n=e.floorDiffPercentString,r=e.onBack,l=e.onAccept,s=e.priceInEth,a=(0,c.$)().t,d=null===n||void 0===n?void 0:n.replace("-","");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.fef,{children:(0,i.jsxs)(o.Kq,{spacing:6,children:[(0,i.jsx)(o.xu,{children:(0,i.jsx)(Q.Z,{boxSize:14,color:"text-warning"})}),(0,i.jsxs)(o.xu,{children:[(0,i.jsx)(X.c,{i18nKey:"transAcceptOfferFloorPriceWarning",children:(0,i.jsxs)(h.xvT,{textStyle:"detail",children:["This offer is"," ",(0,i.jsx)(h.xvT,{as:"span",color:"text-warning",textStyle:"detail",children:(0,i.jsxs)(i.Fragment,{children:[{floorDiffPercentStringDisplay:d},"%"]})})," ","lower than the price of any other NFT from this collection on LooksRare."]})}),(0,i.jsx)(h.xvT,{textStyle:"detail",children:a("Accept anyway?")})]}),(0,i.jsxs)(o.xu,{children:[(0,i.jsxs)(o.kC,{justifyContent:"space-between",flexDirection:"row",children:[(0,i.jsx)(h.xvT,{color:"text-03",textStyle:"detail",children:a("Offer Price")}),(0,i.jsxs)(o.kC,{alignItems:"center",justifyContent:"flex-end",gridColumn:"2",gridRow:"1",children:[(0,i.jsx)(h.ib_,{boxSize:4,mr:1}),(0,i.jsxs)(h.xvT,{textStyle:"detail",bold:!0,children:[s," WETH"]})]})]}),(0,i.jsxs)(o.kC,{justifyContent:"space-between",flexDirection:"row",children:[(0,i.jsx)(h.xvT,{color:"text-03",textStyle:"detail",children:a("Collection Floor Price")}),(0,i.jsxs)(o.kC,{alignItems:"center",justifyContent:"flex-end",gridColumn:"2",gridRow:"1",children:[(0,i.jsx)(h.ib_,{boxSize:4,mr:1}),(0,i.jsxs)(h.xvT,{textStyle:"detail",bold:!0,children:[t," WETH"]})]})]})]})]})}),(0,i.jsxs)(h.ZOd,{children:[(0,i.jsx)(h.zxk,{tabIndex:1,flex:1,colorScheme:"gray",onClick:r,children:a("Back")}),(0,i.jsx)(h.zxk,{tabIndex:2,flex:1,onClick:l,children:a("Accept Offer")})]})]})},te=n(39097),ne=n.n(te),ie=n(30325),re=n(45520),oe=n(13705),le=function(e){var t=e.tokenId,n=e.tokenName,r=e.tokenImage,l=e.collectionName,s=e.collectionAddress,d=e.isVerified,x=e.transaction,u=e.onClose;(0,ie.t2)();var f=(0,c.$)().t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.xu,{p:4,bg:"ui-bg",children:(0,i.jsx)(U.BO,{tokenName:n,tokenImage:r,collectionName:l,isVerified:d})}),(0,i.jsxs)(h.fef,{children:[(0,i.jsxs)(o.kC,{flexDirection:"column",children:[(0,i.jsx)(h.n6W,{boxSize:14,mb:7,color:"link-01"}),(0,i.jsx)(h.xvT,{bold:!0,textStyle:"display-body",mb:4,children:f("Sold!")}),(0,i.jsx)(h.xvT,{textStyle:"detail",children:f("Your item is on its way to the buyer!")}),(0,i.jsx)(h.xvT,{textStyle:"detail",mb:4,children:f("Your wallet will receive the WETH from the sale soon.")}),(0,i.jsx)(oe.Hv,{})]}),(0,i.jsx)(o.iz,{my:6}),(0,i.jsxs)(o.kC,{justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(h.xvT,{color:"text-02",textStyle:"detail",children:f("Transaction")}),(0,i.jsx)(h.dLw,{href:(0,re.E)(x,"transaction"),children:(0,a.Tg)(x,7,4)})]})]}),(0,i.jsxs)(h.ZOd,{children:[(0,i.jsx)(h.zxk,{tabIndex:1,colorScheme:"gray",flex:1,onClick:u,children:f("Close")}),(0,i.jsx)(ne(),{href:"/collections/".concat(s,"/").concat(t),passHref:!0,children:(0,i.jsx)(h.zxk,{tabIndex:2,colorScheme:"gray",flex:1,onClick:u,children:f("View Item")})})]})]})};!function(e){e[e.MAIN=0]="MAIN",e[e.TRANSACTION=1]="TRANSACTION",e[e.FLOOR_PRICE_WARNING=2]="FLOOR_PRICE_WARNING",e[e.CONFIRMATION=3]="CONFIRMATION"}(N||(N={}));var se=function(e){var t,n=e.tokenId,r=e.tokenName,l=e.tokenImage,u=e.collectionName,C=e.collectionAddress,I=e.collectionType,A=e.collectionFloor,O=e.isVerified,E=e.order,q=e.onClose,H=e.setModalTitle,Y=(0,s.mA)().address,J=(0,c.$)().t,X=(0,W.p)(),Q=(0,f.useState)(""),te=Q[0],ne=Q[1],ie=(0,f.useState)(N.MAIN),re=ie[0],oe=ie[1],se=(0,_.su)(),ce=(0,_.FY)(),ae=(0,_.eT)(),de=(0,L.hx)(),xe=(0,V.e)(),ue=(0,M.w)(C,T.Yu[I].transferManagerAddress),he=!!(null===(t=(0,P.CN)({collectionAddress:C,tokenId:n}).data)||void 0===t?void 0:t.receiver),fe=he?b.O$.from(T.yR):y._Y,pe=(0,f.useCallback)(function(){var e=(0,p.Z)((function(e){var t,i,r,o;return(0,g.__generator)(this,(function(l){switch(l.label){case 0:t=xe(e,(0,x.Er)(Y,E.signer)),i=t.title,r=t.description,X({status:"error",title:i,description:r,duration:7e3}),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,R(E.signer)];case 2:return l.sent(),S()((function(){se(),ce(C,n),ae(C,n),de()}),2e3),[3,4];case 3:return o=l.sent(),console.error(o),[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[Y,C,xe,de,ae,ce,se,E.signer,X,n]),me=(0,B.d1)({order:E,invalidOrderCallback:pe},{enabled:!te&&re!==N.CONFIRMATION}),je=me.data&&(0,G.rt)(me.data),ge=(0,F.r)({refetchInterval:1e4}),ve=(0,P.qP)(E.strategy),be=ve.data||b.O$.from(0),ye={tokenId:n,collectionAddress:C,eventName:(0,x.DA)(E.strategy,[T.c2.collection,T.c2.collectionDeprecated])?Z.h.COLLECTION_BID_EXECUTED:Z.h.STANDARD_BID_EXECUTED,insightsMethodName:"convertedObjectIDs"},ke=(0,Z.Z)((0,j.Z)((0,m.Z)({},ye),{index:w.gr[T.TL]})),Ce=(0,Z.Z)((0,j.Z)((0,m.Z)({},ye),{index:w.LV[T.TL]})),Se=b.O$.from(E.amount).gt(1),Te=ge.isLoading||ve.isLoading||me.isLoading,we=(0,f.useMemo)((function(){return b.O$.from(E.price)}),[E.price]),Ie=parseFloat((0,a.wE)(we)),Ae=Ie/parseInt(E.amount.toString()),Oe=(0,d.Go)(A).globalFloor||y._Y,Ee=ge.isSuccess?ge.data.eth.price:0,Ne=(0,d.Wi)(Oe,E&&E.price),Re=Ne.floorDiffPercentString,Pe=Ne.hasLowWarnThresholdReached,Ze=(0,z.$)(),Fe=(0,D.p)(E.strategy,E.price),Le=Fe.profitUSD,_e=Fe.profitWEI,ze=Fe.ethUsdPrice,Me=(0,f.useCallback)((function(e){ne(e),oe(N.CONFIRMATION),ke(),Ce(),Ze({event:z.E.ACCEPTED_OFFER,txId:e,collectionAddress:C,collectionIsVerified:!!O,collectionRoyaltiesPercentage:he?T.yR/100:0,orderStrategy:E.strategy,valueWEI:_e.toString(),valueUSD:Le,ethUsdPrice:ze})}),[ke,Ce,Ze,C,O,he,E.strategy,_e,Le,ze]),De=(0,f.useCallback)((function(){q(),oe(N.MAIN)}),[q]),Ve=(0,f.useCallback)((function(){re!==N.FLOOR_PRICE_WARNING?oe(Pe?N.FLOOR_PRICE_WARNING:N.TRANSACTION):oe(N.TRANSACTION)}),[re,Pe,oe]);if((0,f.useEffect)((function(){H(re)}),[re,H]),Te)return(0,i.jsx)(h.fef,{children:(0,i.jsxs)(h.KI3,{justifyContent:"flex-start",alignItems:"flex-start",children:[(0,i.jsx)(h.xvT,{bold:!0,textStyle:"display-body",mb:4,children:J("Checking validity")}),(0,i.jsx)(h.xvT,{textStyle:"detail",color:"text-02",children:J("Wait a sec...")})]})});if(ue.data)return(0,i.jsx)(U.hw,{title:J("Unable to Accept Offer"),description:J("This collection does not allow trading on LooksRare right now"),onClose:De});if(me.isSuccess&&!je){var Be=(0,G.xO)(me.data),Ge=xe(Be,(0,x.Er)(Y,E.signer)),We=Ge.title,$e=Ge.description;return(0,i.jsx)(U.hw,{title:We,description:$e,onClose:De})}return re===N.FLOOR_PRICE_WARNING?(0,i.jsx)(ee,{floorDiffPercentString:Re,priceInEth:k.formatEther(E.price),collectionFloorPriceInEth:k.formatEther(Oe||y._Y),onBack:function(){oe(N.MAIN)},onAccept:Ve}):re===N.TRANSACTION?(0,i.jsx)(K,{tokenId:n,collectionType:I,collectionAddress:C,makerOrder:E,onConfirm:Me,onClose:De,onBack:function(){return oe(N.MAIN)},protocolFee:be}):re===N.CONFIRMATION?(0,i.jsx)(le,{tokenId:n,tokenName:r,tokenImage:l,collectionName:u,collectionAddress:C,isVerified:O,transaction:te,onClose:De}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.xu,{px:{base:4,sm:8},py:6,bg:"ui-bg",children:(0,i.jsx)(U.BO,{tokenName:r,tokenImage:l,collectionName:u,isVerified:O})}),(0,i.jsxs)(h.fef,{children:[(0,i.jsxs)(o.rj,{templateColumns:"repeat(2, 1fr)",templateRows:"repeat(2, 1fr)",gridGap:2,children:[(0,i.jsxs)(o.xu,{gridRow:"1 / span 2",children:[(0,i.jsx)(h.xvT,{textStyle:"detail",color:"text-02",children:J("Offer")}),(0,i.jsx)(U.qN,{collectionFloorPrice:Oe,price:E.price})]}),(0,i.jsxs)(o.kC,{alignItems:"center",justifyContent:"flex-end",gridColumn:"2",gridRow:"1",children:[(0,i.jsx)(h.ib_,{boxSize:4,mr:1}),(0,i.jsxs)(h.xvT,{bold:!0,children:[(0,a.As)(E.price,6)," WETH"]})]}),(0,i.jsx)(o.kC,{gridColumn:"2",gridRow:"2",justifyContent:"flex-end",children:ge.isLoading?(0,i.jsx)(v.Od,{height:"18px",width:"72px"}):(0,i.jsx)(h.xvT,{textAlign:"right",textStyle:"helper",color:"text-02",children:(0,a.gC)(Ie*Ee)})})]}),Se&&(0,i.jsxs)(o.rj,{mt:4,templateColumns:"repeat(2, 1fr)",templateRows:"repeat(2, 1fr)",gridGap:2,children:[(0,i.jsx)(h.xvT,{gridRow:"1 / span 2",textStyle:"detail",color:"text-02",children:J("Quantity")}),(0,i.jsx)(h.xvT,{color:"text-warning",bold:!0,as:o.kC,alignItems:"center",justifyContent:"flex-end",gridColumn:"2",gridRow:"1",children:J("{{amount}} editions",{amount:E.amount.toString()})}),(0,i.jsx)(o.kC,{gridColumn:"2",gridRow:"2",justifyContent:"flex-end",children:ge.isLoading?(0,i.jsx)(v.Od,{height:"18px",width:"72px"}):(0,i.jsx)(h.xvT,{textAlign:"right",textStyle:"helper",color:"text-02",children:J("{{price}} {{currency}} each",{price:(0,a.DW)(Ae,4,4),currency:"WETH"})})})]}),(0,i.jsx)(o.iz,{my:4}),(0,i.jsx)($.q,{priceInEth:(0,a.wE)(E.price).toString(),rebateBpsAsBn:fe,protocolFee:ve.data||y._Y,currency:"WETH"})]}),(0,i.jsxs)(h.ZOd,{children:[(0,i.jsx)(h.zxk,{colorScheme:"gray",flex:1,onClick:De,children:J("Cancel")}),(0,i.jsx)(h.zxk,{tabIndex:0,flex:1,onClick:Ve,children:J("Accept Offer")})]})]})},ce=function(e){var t=e.tokenId,n=e.tokenName,r=e.tokenImage,o=e.collectionName,l=e.collectionAddress,s=e.collectionType,a=e.collectionFloor,d=e.isVerified,x=e.order,u=e.isOpen,p=e.onClose,m=(0,c.$)().t,j=(0,f.useState)("Accept Offer"),g=j[0],v=j[1];return(0,i.jsx)(h.u_l,{isOpen:u,onClose:p,title:m(g),closeOnOverlayClick:!1,children:(0,i.jsx)(se,{tokenId:t,tokenName:n,tokenImage:r,collectionName:o,collectionAddress:l,collectionType:s,collectionFloor:a,isVerified:d,order:x,onClose:p,setModalTitle:function(e){e!==N.FLOOR_PRICE_WARNING?v("Accept Offer"):v("Warning: Low Price")}})})},ae=n(7584),de=n(36234),xe=n(7721),ue=n(26297),he=n(15704),fe=n(23985),pe=n(18078),me=function(e){var t=e.ask,n=e.tokenName,l=e.tokenImage,s=e.collectionName,c=e.collectionAddress,a=e.collectionFloor,d=e.collectionType,x=e.collectionPoints,u=e.isVerified,f=(0,ue.Z)(e,["ask","tokenName","tokenImage","collectionName","collectionAddress","collectionFloor","collectionType","collectionPoints","isVerified"]),p=(0,he.$G)().t,g=(0,r.qY)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(pe.A,{isOpen:g.isOpen,onClose:g.onClose,orders:[t],collectionType:d,tokenName:n,tokenImage:l,collectionName:s,collectionAddress:c,isVerified:u,collectionFloor:a,points:x}),(0,i.jsxs)(o.xu,(0,j.Z)((0,m.Z)({},f),{children:[(0,i.jsx)(h.J2e,{variant:"tooltip",label:(0,i.jsx)(h.k52,{children:p("Adjust")}),children:(0,i.jsx)("span",{"data-test-id":"edit-ask-button","data-id":"edit-ask-button",children:(0,i.jsx)(fe.hU,{mr:2,"aria-label":p("edit ask"),onClick:g.onOpen,colorScheme:"secondary",size:"sm",children:(0,i.jsx)(h.gwL,{})})})}),(0,i.jsx)(h.J2e,{variant:"tooltip",label:(0,i.jsx)(h.k52,{children:p("Cancel")}),children:(0,i.jsx)("span",{children:(0,i.jsx)(oe.mX,{as:fe.hU,"aria-label":p("Cancel orders"),size:"sm",variant:"outline",colorScheme:"gray",nonces:[t.nonce],children:(0,i.jsx)(h.Two,{})})})})]}))]})},je=function(e){var t=e.order,n=e.tokenId,f=e.tokenName,p=e.tokenImage,m=e.collectionName,j=e.collectionType,g=e.collectionAddress,v=e.collectionFloor,b=e.collectionPoints,y=e.isVerified,k=e.isNftOwnedByUser,C=(0,c.$)().t,S=(0,s.mA)().address,T=(0,r.qY)(),w=T.isOpen,I=T.onOpen,A=T.onClose,O=t.endTime,E=t.signer,N=t.price,R=t.isOrderAsk,P=v.floorPrice,Z=(0,a.As)(null!==N&&void 0!==N?N:"0",4),F=(0,d.Wi)(P,N)||{},L=F.floorDiffPercentString,_=F.floorDiffPercentBn,z=(0,d.NJ)(L,_),M=(0,u.Oy)(O),D=(0,l.Z)(M,{addSuffix:!0}),V=(0,a.Of)(M),B=(0,x.Er)(E,S||"");return(0,i.jsxs)(i.Fragment,{children:[R?(0,i.jsx)(de.Z,{tokenId:n,tokenName:f,tokenImage:p,collectionName:m,collectionAddress:g,collectionType:j,isVerified:y,ask:t,isOpen:w,onClose:A}):(0,i.jsx)(ce,{tokenId:n,tokenName:f,tokenImage:p,collectionName:m,collectionAddress:g,collectionType:j,collectionFloor:v,isVerified:y,order:t,isOpen:w,onClose:A}),(0,i.jsxs)(o.rj,{width:"100%",templateColumns:"1fr auto",gridColumnGap:4,gridRowGap:2,children:[(0,i.jsxs)(o.Eq,{spacing:2,spacingY:"0px",children:[(0,i.jsxs)(o.kC,{alignItems:"center",children:[t.isOrderAsk?(0,i.jsx)(h.uaJ,{boxSize:14,width:"10px",height:"20px",mr:1}):(0,i.jsx)(h.rVX,{boxSize:14,width:"10px",height:"20px",mr:1}),(0,i.jsx)(h.xvT,{bold:!0,children:Z})]}),z&&(0,i.jsx)(o.kC,{alignItems:"center",children:(0,i.jsx)(h.xvT,{textStyle:"detail",color:"text-03",children:z})})]}),(0,i.jsx)(o.P4,{rowSpan:2,children:(0,i.jsxs)(o.kC,{height:"100%",alignItems:"center",justifyContent:"flex-end",children:[k&&!B&&!R&&(0,i.jsx)(h.zxk,{colorScheme:"gray",onClick:I,size:"sm","data-id":"order-row-accept-bid",children:C("Accept")}),B&&(t.isOrderAsk?(0,i.jsx)(me,{ask:t,tokenName:f,tokenImage:p,collectionName:m,collectionAddress:g,collectionFloor:v,collectionType:j,collectionPoints:b,isVerified:y}):(0,i.jsx)(xe.E,{bid:t,tokenId:n,tokenName:f,tokenImage:p,collectionName:m,collectionAddress:g,collectionFloor:v,collectionType:j,isVerified:y})),R&&!B&&(0,i.jsx)(h.zxk,{"data-id":"order-row-buy",size:"sm",onClick:I,children:C("Buy")})]})}),(0,i.jsxs)(o.Eq,{spacing:2,spacingY:"0px",children:[(0,i.jsx)(ae.GJ,{label:C("By"),address:E}),(0,i.jsx)(h.J2e,{variant:"tooltip",label:(0,i.jsx)(h.k52,{children:V}),children:(0,i.jsx)(h.xvT,{textStyle:"detail",color:"text-03",children:C("Expiry: {{timeUntilExpiry}}",{timeUntilExpiry:D})})})]})]})]})}},68294:function(e,t,n){n.d(t,{n:function(){return l}});var i=n(52322),r=(n(2784),n(53965)),o=n(51509),l=function(){return(0,i.jsxs)(r.rj,{pb:12,templateColumns:"1fr auto",gridColumnGap:4,gridRowGap:4,children:[(0,i.jsx)(o.Od,{height:"20px",width:"132px"}),(0,i.jsx)(r.P4,{rowSpan:2,children:(0,i.jsx)(r.kC,{height:"100%",alignItems:"center",justifyContent:"flex-end",children:(0,i.jsx)(o.Od,{height:"40px",width:"75px"})})}),(0,i.jsx)(o.Od,{height:"20px",width:"80px"})]})}},37303:function(e,t,n){var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(17686),c=n(4611);t.Z=function(e){var t=e.value,n=e.positiveColorOverride,a=e.negativeColorOverride,d=(0,o.Z)(e,["value","positiveColorOverride","negativeColorOverride"]),x=(0,c.DW)(t),u=t>0?{textColor:n||"support-success",prefix:"+"}:t<0?{textColor:a||"text-error",prefix:""}:{textColor:"text-03",prefix:""},h=u.textColor,f=u.prefix;return(0,l.jsx)(s.xvT,(0,r.Z)((0,i.Z)({textStyle:"detail",color:h},d),{children:"".concat(f).concat(x,"%")}))}},30007:function(e,t,n){n.d(t,{N:function(){return l},s:function(){return s}});var i=n(47842),r=n(76699),o=n(82353),l=function(){var e,t=(0,r.$)().t;return e={},(0,i.Z)(e,o.tw.LIST,t("Listings")),(0,i.Z)(e,o.tw.MINT,t("Mints")),(0,i.Z)(e,o.tw.TRANSFER,t("Transfers")),(0,i.Z)(e,o.tw.SALE,t("Sales")),(0,i.Z)(e,o.tw.OFFER,t("Offers")),(0,i.Z)(e,o.tw.CANCEL_LIST,t("Canceled Listings")),(0,i.Z)(e,o.tw.CANCEL_OFFER,t("Canceled Offers")),e},s=function(){var e,t=(0,r.$)().t;return e={},(0,i.Z)(e,o.tw.MINT,t("Mint")),(0,i.Z)(e,o.tw.TRANSFER,t("Transfer")),(0,i.Z)(e,o.tw.SALE,t("Sale")),(0,i.Z)(e,o.tw.OFFER,t("Offer")),(0,i.Z)(e,o.tw.LIST,t("Listing")),(0,i.Z)(e,o.tw.CANCEL_LIST,t("Canceled Listing")),(0,i.Z)(e,o.tw.CANCEL_OFFER,t("Canceled Offer")),e}},31022:function(e,t,n){n.d(t,{Y:function(){return r}});var i=n(2784),r=function(e,t){var n=(0,i.useState)(!1),r=n[0],o=n[1],l=(0,i.useRef)(e),s=(0,i.useRef)(),c=(0,i.useCallback)((function(){s.current=setInterval((function(){return l.current()}),t),o(!1)}),[s,l,t,o]),a=(0,i.useCallback)((function(){s.current&&(clearInterval(s.current),o(!0))}),[s,o]);return(0,i.useEffect)((function(){l.current=e}),[e,l]),(0,i.useEffect)((function(){return c(),function(){return a()}}),[c,a]),{isPaused:r,startTimer:c,stopTimer:a}}},27508:function(e,t,n){n.d(t,{D:function(){return h}});var i=n(98788),r=n(5163),o=n(34291),l=n.n(o),s=n(98923),c=n.n(s),a=n(2784),d=n(36687),x=n(47884),u=n(47363),h=function(e){var t=e.onSuccess,n=void 0===t?l():t,o=e.onError,s=void 0===o?l():o,h=(0,a.useState)(!1),f=h[0],p=h[1],m=(0,u.FY)();return{onRefreshMetadata:(0,a.useCallback)(function(){var e=(0,i.Z)((function(e,t){var i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:p(!0),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,d.r)(e,t)];case 2:return r.sent(),n(),p(!1),c()((function(){m(e,t)}),1e4),[3,4];case 3:return i=r.sent(),p(!1),[2,s((0,x.iC)(i))];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[n,m,s]),isRefreshing:f}}},36687:function(e,t,n){n.d(t,{e:function(){return u},r:function(){return x}});var i=n(98788),r=n(92228),o=n(5163),l=n(6647),s=n(79126),c=n(66842);function a(){var e=(0,r.Z)(["\n    mutation RefreshTokenMutation($tokenId: BigNumber!, $collection: Address!) {\n      refreshToken(tokenId: $tokenId, collection: $collection) {\n        success\n      }\n    }\n  "]);return a=function(){return e},e}function d(){var e=(0,r.Z)(["\n    mutation RefreshCollectionMutation($collection: Address!) {\n      refreshCollection(collection: $collection) {\n        success\n      }\n    }\n  "]);return d=function(){return e},e}var x=function(){var e=(0,i.Z)((function(e,t){var n,i;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n=(0,l.gql)(a()),i={tokenId:t,collection:e},[4,(0,c.B)(n,i)];case 1:return[2,r.sent().refreshToken]}}))}));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((function(e,t){var n,i,r,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=(0,l.gql)(d()),i={collection:t},r=(0,s.w5)(e),a={Authorization:"Bearer ".concat(r)},[4,(0,c.B)(n,i,a)];case 1:return[2,o.sent().refreshCollection]}}))}));return function(t,n){return e.apply(this,arguments)}}()},46766:function(e,t,n){n.d(t,{R:function(){return i}});var i=function(e){return e?"https://twitter.com/".concat(e):""}},70305:function(e,t,n){n.d(t,{N:function(){return h}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(2784),c=n(53965),a=n(23985),d=n(15704),x=n(17686),u=n(93229),h=function(e){var t=e.isFetching,n=e.isPaused,h=e.startTimer,f=e.stopTimer,p=(0,o.Z)(e,["isFetching","isPaused","startTimer","stopTimer"]),m=(0,d.$G)().t,j=function(){var e=(0,s.useState)((function(){return"visible"===document.visibilityState})),t=e[0],n=e[1],i=(0,u.Z)(t);return(0,s.useEffect)((function(){var e=function(){n("visible"===document.visibilityState)};return window.addEventListener("visibilitychange",e),function(){window.removeEventListener("visibilitychange",e)}}),[n]),{isWindowFocused:t,prevIsWindowFocused:i}}(),g=j.isWindowFocused,v=j.prevIsWindowFocused,b=g&&!v,y=!g&&v,k=(0,s.useState)(void 0),C=k[0],S=k[1];(0,s.useEffect)((function(){y?(S(!n),f()):b&&(C&&h(),S(void 0))}),[b,y,f,h,n,S,C]);var T=n?x.Jvy:x.d0b;return(0,l.jsx)("span",{children:(0,l.jsxs)(c.kC,(0,r.Z)((0,i.Z)({alignItems:"center"},p),{children:[(0,l.jsx)(a.hU,{size:"sm",variant:"outline",colorScheme:"gray","aria-label":"auto refresh",isLoading:t,onClick:function(){n?h():f()},flexShrink:0,mr:2,children:(0,l.jsx)(T,{})}),(0,l.jsx)(x.xvT,{textStyle:"detail",color:n?"text-03":"text-02",bold:!0,children:m("Auto Refresh")})]}))})}},66314:function(e,t,n){n.d(t,{K:function(){return j}});var i=n(52322),r=n(53965),o=n(51509),l=n(76699),s=n(5632),c=n(4611),a=n(6697),d=n(17686),x=n(3076),u=n(37303),h=n(47247),f=n(15704),p=n(32654),m=function(e){var t=e.volumeAll,n=e.volume24h,o=e.change24h,l=e.children,s=(0,f.$G)().t,a=(0,h.ff)(p.hR.colors["link-01"]._dark,p.hR.colors["link-01"]._light),x=(0,h.ff)(p.hR.colors["text-error"]._dark,p.hR.colors["text-error"]._light);return(0,i.jsx)(d.J2e,{label:(0,i.jsxs)(r.gC,{alignItems:"flex-start",spacing:2,children:[(0,i.jsxs)(d.k52,{bold:!0,children:[s("Volume on LooksRare"),":"]}),(0,i.jsxs)(r.rj,{width:"100%",columnGap:4,templateColumns:"auto auto",children:[(0,i.jsxs)(d.k52,{children:[s("24h"),":"]}),(0,i.jsxs)(r.kC,{alignItems:"center",justifyContent:"flex-end",children:[!!o&&(0,i.jsx)(u.Z,{positiveColorOverride:a,negativeColorOverride:x,bold:!0,textStyle:"caption",value:o}),(0,i.jsx)(d.kdU,{boxSize:3,mx:"2px"}),(0,i.jsx)(d.k52,{textStyle:"detail",bold:!0,children:n?(0,c.As)(n,3):"-"})]})]}),(0,i.jsxs)(r.rj,{width:"100%",columnGap:4,templateColumns:"auto auto",children:[(0,i.jsxs)(d.k52,{children:[s("Total"),":"]}),(0,i.jsxs)(r.kC,{alignItems:"center",justifyContent:"flex-end",children:[(0,i.jsx)(d.kdU,{boxSize:3,mx:"2px"}),(0,i.jsx)(d.k52,{textStyle:"detail",bold:!0,children:t?(0,c.As)(t,3):"-"})]})]})]}),children:l})},j=function(e){var t=e.totalSupply,n=e.countOwners,h=e.floor,f=e.volume,p=e.isCollectionStatsLoading,j=void 0!==p&&p,g=(0,l.$)().t,v=(0,s.useRouter)().locale,b=(0,a.Go)(h),y=b.floorPrice,k=b.floorPriceOs,C=b.globalFloor,S=(null===f||void 0===f?void 0:f.volumeAll)&&(0,c.As)(f.volumeAll,4,{commify:!1});return(0,i.jsxs)(r.Eq,{spacingX:6,spacingY:4,children:[(0,i.jsxs)(r.xu,{children:[(0,i.jsx)(d.xvT,{textStyle:"display-body",bold:!0,color:"text-01",children:t?(0,c.rY)(t,v):"-"}),(0,i.jsx)(d.xvT,{textColor:"text-03",textStyle:"helper",mr:"2px",children:g("Items")})]}),(0,i.jsxs)(r.xu,{children:[(0,i.jsx)(r.kC,{children:(0,i.jsxs)(d.xvT,{textStyle:"display-body",bold:!0,color:"text-01",children:[n?(0,c.rY)(n,v):"-"," "]})}),(0,i.jsx)(d.xvT,{textColor:"text-03",textStyle:"helper",mr:"2px",children:g("Owners")})]}),(0,i.jsxs)(r.xu,{children:[j?(0,i.jsx)(r.xu,{mt:2,children:(0,i.jsx)(o.Od,{w:15,h:5,mb:1})}):(0,i.jsx)(m,{volumeAll:(null===f||void 0===f?void 0:f.volumeAll)||null,volume24h:(null===f||void 0===f?void 0:f.volume24h)||null,change24h:(null===f||void 0===f?void 0:f.change24h)||null,children:(0,i.jsxs)(r.kC,{alignItems:"center",children:[(0,i.jsx)(d.uaJ,{boxSize:5,ml:-1}),(0,i.jsx)(d.xvT,{textStyle:"display-body",bold:!0,mr:1,children:S?(0,c.D)(parseFloat(S),v):"\u2014"}),(0,i.jsx)(d.byK,{boxSize:3,color:"text-03"})]})}),(0,i.jsx)(d.xvT,{textColor:"text-03",textStyle:"helper",children:g("Total Vol")})]}),(0,i.jsxs)(r.xu,{children:[j?(0,i.jsx)(r.xu,{mt:2,children:(0,i.jsx)(o.Od,{w:15,h:5,mb:1})}):(0,i.jsx)(x.n,{looksFloorWei:y,osFloorWei:k,placement:"auto",children:(0,i.jsxs)(r.kC,{alignItems:"center",children:[(0,i.jsx)(d.uaJ,{boxSize:5,ml:-1}),(0,i.jsx)(d.xvT,{textStyle:"display-body",bold:!0,mr:1,children:C.gt(0)?(0,c.As)(C,4):"\u2014"}),(0,i.jsx)(d.byK,{boxSize:3,color:"text-03"})]})}),(0,i.jsxs)(r.kC,{alignItems:"center",children:[(0,i.jsx)(d.xvT,{textColor:"text-03",textStyle:"helper",mr:1,children:g("Floor")}),!!(null===h||void 0===h?void 0:h.floorChange24h)&&(0,i.jsx)(u.Z,{textStyle:"helper",value:h.floorChange24h})]})]})]})}},3076:function(e,t,n){n.d(t,{n:function(){return x}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(53965),c=n(15704),a=n(17686),d=n(4611),x=function(e){var t=e.looksFloorWei,n=e.osFloorWei,x=e.headerText,u=e.children,h=(0,o.Z)(e,["looksFloorWei","osFloorWei","headerText","children"]),f=(0,c.$G)().t,p=(0,d.As)(t,4),m=n?(0,d.As)(n,4):void 0;return(0,l.jsx)(a.J2e,(0,r.Z)((0,i.Z)({size:"lg",placement:"top",label:(0,l.jsxs)(s.gC,{alignItems:"flex-start",width:"auto",spacing:2,children:[!!x&&(0,l.jsxs)(s.xu,{width:"100%",children:[(0,l.jsx)(a.k52,{children:x}),(0,l.jsx)(s.iz,{my:4})]}),(0,l.jsxs)(s.rj,{width:"100%",columnGap:4,templateColumns:"auto auto",children:[(0,l.jsxs)(s.kC,{alignItems:"center",children:[(0,l.jsx)(a.L$E,{boxSize:4,mr:1}),(0,l.jsxs)(a.k52,{children:[f("Floor on LooksRare"),":"]})]}),(0,l.jsxs)(s.kC,{alignItems:"center",justifySelf:"flex-end",children:[(0,l.jsx)(a.uaJ,{boxSize:4}),(0,l.jsx)(a.k52,{textStyle:"detail",bold:!0,children:p})]})]}),!!m&&(0,l.jsxs)(s.rj,{width:"100%",columnGap:4,templateColumns:"auto auto",children:[(0,l.jsxs)(s.kC,{alignItems:"center",children:[(0,l.jsx)(a.b8d,{boxSize:4,mr:1}),(0,l.jsxs)(a.k52,{children:[f("Floor on OpenSea"),":"]})]}),(0,l.jsxs)(s.kC,{alignItems:"center",justifySelf:"flex-end",children:[(0,l.jsx)(a.uaJ,{boxSize:4}),(0,l.jsx)(a.k52,{textStyle:"detail",bold:!0,children:m})]})]})]})},h),{children:u}))}},36966:function(e,t,n){n.d(t,{n:function(){return f},o:function(){return h}});var i=n(70865),r=n(96670),o=n(26297),l=n(52322),s=n(53965),c=n(58105),a=n(15704),d=n(17686),x=n(82353),u=n(13705),h=function(e){var t=e.rank,n=e.url,o=e.totalSupply,x=e.popoverProps,h=e.children,f=(0,a.$G)().t;return(0,l.jsx)(d.J2e,(0,r.Z)((0,i.Z)({contentProps:{p:2},label:(0,l.jsxs)(s.kC,{children:[(0,l.jsxs)(s.xu,{mr:4,children:[(0,l.jsx)(d.k52,{bold:!0,textStyle:"detail",children:f("Rank #{{rank}} / {{total}}",{rank:(0,c.commify)(t.toString()),total:o?(0,c.commify)(o.toString()):"-"})}),(0,l.jsx)(d.k52,{textStyle:"helper",children:f("Data by Rarity Sniper")})]}),(0,l.jsx)(u.x6,{onClick:function(e){e.stopPropagation()},isExternal:!0,size:"sm","aria-label":f("Rarity Sniper link"),href:n,colorScheme:"secondary",variant:"solid",children:(0,l.jsx)(d.qJt,{})})]})},x),{children:h}))},f=function(e){var t=e.rarity,n=e.totalSupply,a=(0,o.Z)(e,["rarity","totalSupply"]),u=t&&t.find((function(e){return e.provider===x.YT.RARITY_SNIPER}));return(0,l.jsx)(l.Fragment,{children:u&&(0,l.jsx)(h,{rank:u.rank,url:u.url,totalSupply:n,children:(0,l.jsx)(s.kC,(0,r.Z)((0,i.Z)({alignItems:"center"},a),{children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.zN2,{boxSize:5,color:"text-02",mr:1}),(0,l.jsx)(d.xvT,{color:"text-02",textStyle:"detail",bold:!0,mr:1,children:(0,c.commify)(u.rank.toString())}),n&&(0,l.jsxs)(d.xvT,{color:"text-03",textStyle:"detail",bold:!0,children:["/ ",(0,c.commify)(n.toString())]})]})}))})})}},11748:function(e,t,n){n.d(t,{hk:function(){return j},gG:function(){return k},qe:function(){return pe},u1:function(){return Se},p6:function(){return Ze},j_:function(){return Le},UI:function(){return _e},F1:function(){return De},Ef:function(){return Be},_Y:function(){return qe}});var i=n(52322),r=n(39097),o=n.n(r),l=n(45436),s=n(53965),c=n(15704),a=n(45520),d=n(4611),x=n(46766),u=n(17686),h=n(85572),f=n(13705),p=n(71673),m=n(66314),j=function(e){var t=e.collection,n=(0,c.$G)().t,r=(0,l.qY)(),j=r.isOpen,g=r.onOpen,v=r.onClose,b=t.address,y=t.name,k=t.isVerified,C=t.floor,S=t.websiteLink,T=t.discordLink,w=t.twitterUsername,I=t.instagramLink,A=t.points,O=t.logo,E=t.totalSupply,N=t.countOwners,R=t.volume,P=t.type,Z=A&&A>0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{collectionAddress:b,collectionName:y,isVerified:k,collectionFloor:C,collectionTotalSupply:E,collectionType:P,isOpen:j,onClose:v}),(0,i.jsxs)(s.gC,{alignItems:"flex-start",spacing:6,children:[(0,i.jsxs)(s.kC,{alignItems:"center",justifyContent:"space-between",width:"100%",children:[(0,i.jsx)(o(),{href:"/collections/".concat(b),children:(0,i.jsx)("a",{children:(0,i.jsx)(h.qE,{borderRadius:"mini",size:48,address:b,src:null===O||void 0===O?void 0:O.src})})}),(0,i.jsxs)(s.kC,{children:[S&&(0,i.jsx)(f.x6,{isExternal:!0,href:S,variant:"ghost",colorScheme:"secondary","aria-label":"website",size:"sm",children:(0,i.jsx)(u.n9J,{})}),T&&(0,i.jsx)(f.x6,{isExternal:!0,href:T,variant:"ghost",colorScheme:"secondary","aria-label":"website",size:"sm",children:(0,i.jsx)(u.D7w,{})}),w&&(0,i.jsx)(f.x6,{isExternal:!0,href:(0,x.R)(w),variant:"ghost",colorScheme:"secondary","aria-label":"website",size:"sm",children:(0,i.jsx)(u.Zmm,{})}),I&&(0,i.jsx)(f.x6,{isExternal:!0,href:I,variant:"ghost",colorScheme:"secondary","aria-label":"website",size:"sm",children:(0,i.jsx)(u.yuF,{})})]})]}),(0,i.jsxs)(s.kC,{flexDir:"column",children:[(0,i.jsx)(o(),{href:"/collections/".concat(b),passHref:!0,children:(0,i.jsxs)(s.kC,{as:"a",maxW:"100%",overflow:"hidden",alignItems:"center",children:[(0,i.jsx)(u.xvT,{as:"span",textStyle:"detail",bold:!0,color:"text-02",noOfLines:1,children:y}),k&&(0,i.jsx)(u.SA,{boxSize:4,ml:1}),!!Z&&(0,i.jsx)(u._82,{color:"purple.400",boxSize:4,ml:1})]})}),(0,i.jsx)(u.dLw,{mt:2,noOfLines:1,textStyle:"helper",color:"text-03",href:(0,a.E)(b,"address"),children:(0,d.Tg)(b,5)})]}),(0,i.jsx)(m.K,{totalSupply:E,countOwners:N,floor:C,volume:R}),(0,i.jsx)(u.zxk,{onClick:g,size:"sm",minWidth:"auto",variant:"outline",colorScheme:"secondary","data-id":"collection-details-make-a-collection-offer",children:n("Make a Collection Offer")})]})]})},g=n(70865),v=n(96670),b=n(26297),y=n(85228),k=function(e){var t=e.name,n=e.collectionAddress,r=e.tokenId,o=e.textProps,l=e.iconBoxSize,a=void 0===l?6:l,d=e.popoverProps,x=(0,b.Z)(e,["name","collectionAddress","tokenId","textProps","iconBoxSize","popoverProps"]),h=(0,c.$G)().t,f=(0,y.J)(n,r);return(0,i.jsx)(s.xu,(0,v.Z)((0,g.Z)({},x),{children:(0,i.jsx)(u.J2e,(0,v.Z)((0,g.Z)({variant:"tooltip",disabled:!!f.data,label:(0,i.jsx)(u.k52,{children:h("Not currently tradeable on OpenSea.")})},d),{children:(0,i.jsxs)(s.kC,{alignItems:"center",children:[(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({bold:!0,as:"h1",textStyle:"display-03",wordBreak:"break-word",color:"text-01",position:"relative",noOfLines:{base:5,sm:4,md:5,lg:4}},o),{children:t})),f.isSuccess&&!f.data&&(0,i.jsx)(s.xu,{display:"inline-flex",ml:2,children:(0,i.jsx)(u.avX,{"aria-label":h("You may be unable to list this item on OpenSea."),color:"text-error",boxSize:a})})]})}))}))},C=n(53647),S=n(69702),T=n(85561),w=n(26345),I=n(50930),A=n(2784),O=n(11846),E=n(17381),N=n(35676),R=n.n(N),P=n(74930),Z=n.n(P),F=n(76699),L=n(82353),_=n(47363),z=n(47842),M=function(){var e,t=(0,F.$)().t,n=(e={},(0,z.Z)(e,L.Ae.EXPIRING_SOON,t("Expiring Soon")),(0,z.Z)(e,L.Ae.NEWEST,t("Newest")),(0,z.Z)(e,L.Ae.PRICE_ASC,t("Price Low to High")),(0,z.Z)(e,L.Ae.PRICE_DESC,t("Price High to Low")),e);return{labels:Object.values(n),orderSortMap:n,getOrderSortFromLabel:function(e){return Object.keys(n).find((function(t){return n[t]===e}))}}},D=n(65152),V=n(91897),B=n(68294),G=n(76382),W=(0,E.Z)(new Date),$=function(e){var t=e.nft,n=e.isUserNft,r=(0,b.Z)(e,["nft","isUserNft"]),o=t.collection,l=t.tokenId,c=t.name,a=t.image,d=(0,F.$)().t,x=(0,O.Ss)().isOpen,h=(0,S.mA)().address,f=(0,A.useState)(!1),p=f[0],m=f[1],j=M(),y=j.labels,k=j.orderSortMap,C=j.getOrderSortFromLabel,T={label:k.PRICE_ASC,orderSort:L.Ae.PRICE_ASC},w=(0,A.useState)(T),E=w[0],N=w[1],P=(0,_.wy)({collection:o.address,tokenId:l,filter:(0,g.Z)({isOrderAsk:!0,endTime:W},p&&h?{signer:h}:{}),pagination:{first:5},sort:E.orderSort,queryOptions:{enabled:x}}),z=P.data,$=P.isLoading,U=P.isFetching,q=P.isSuccess,H=P.hasNextPage,Y=P.fetchNextPage,J=z&&R()(z.pages);return(0,i.jsxs)(s.xu,(0,v.Z)((0,g.Z)({maxHeight:96,overflowY:"auto"},r),{children:[(0,i.jsxs)(s.kC,{px:4,pt:6,justifyContent:"space-between",children:[(0,i.jsx)(G.h_,{labels:y,selectedLabel:E.label,handleSelect:function(e){var t=C(e);return N(t?{label:e,orderSort:t}:T)},menuProps:{variant:"lowcontrast"},listProps:{width:"fit-content",minW:"192px"},width:"fit-content",minW:"192px"}),h&&(0,i.jsxs)(s.kC,{alignItems:"center",children:[(0,i.jsx)(u.xvT,{textStyle:"detail",mr:2,children:d("Only Mine")}),(0,i.jsx)(u.rsf,{size:"sm",onChange:function(e){return m(e.target.checked)}})]})]}),(0,i.jsx)(s.iz,{my:6}),(0,i.jsxs)(s.gC,{px:4,pb:6,alignItems:"flex-start",spacing:6,divider:(0,i.jsx)(s.iz,{}),children:[q&&(J&&J.length>0?J.map((function(e){return(0,i.jsx)(D.Z,{placeholder:(0,i.jsx)(B.n,{}),style:{width:"100%"},children:(0,i.jsx)(V.Z,{tokenId:l,tokenName:c,tokenImage:a,collectionName:o.name,collectionAddress:o.address,collectionType:o.type,collectionPoints:o.points,isVerified:o.isVerified,order:e,collectionFloor:o.floor,isNftOwnedByUser:n})},e.hash)})):(0,i.jsx)(u.gv1,{width:"100%",children:(0,i.jsx)(u.xvT,{bold:!0,children:d("None listed")})})),U&&(0,i.jsx)(i.Fragment,{children:(0,I.Z)(Array(5)).map((function(){return(0,i.jsx)(B.n,{},Z()())}))}),H&&(0,i.jsx)(s.kC,{width:"100%",justifyContent:"center",children:(0,i.jsx)(u.zxk,{isLoading:U,disabled:$,onClick:function(){return Y()},variant:"outline",colorScheme:"secondary",children:d("Load More")})})]})]}))},U=n(51509),q=n(23985),H=n(81473),Y=n(89141),J=n(61733),K=n(54190),X=n(18078),Q=n(9793),ee=n(71474),te=function(e){var t=e.onClickAdjust,n=e.onClickCancelMultiple,r=e.orderNonce,o=(0,F.$)().t,l=(0,A.useState)(!1),c=l[0],a=l[1];return(0,i.jsxs)(Q.v2,{children:[(0,i.jsx)(u.J2e,{variant:"tooltip",label:o("Adjust/Cancel Listings"),trigger:"hover",children:(0,i.jsx)(Q.j2,{as:q.hU,"aria-label":o("adjust listing menu"),variant:"outline",size:"sm",colorScheme:"gray",children:(0,i.jsx)(u.gwL,{boxSize:5})})}),(0,i.jsxs)(Q.qy,{zIndex:"dropdown",children:[(0,i.jsx)(Q.sN,{onClick:t,children:o("Adjust Listing")}),r?(0,i.jsx)(f.mX,{nonces:[r],as:Q.sN,onSend:function(){return a(!0)},onSuccess:function(){return a(!1)},onError:function(){return a(!1)},isLoading:!0,children:(0,i.jsxs)(s.kC,{width:"100%",alignItems:"center",justifyContent:"space-between",children:[o("Cancel Listing")," ",c&&(0,i.jsx)(ee.$,{size:"xs"})]})}):(0,i.jsx)(Q.sN,{onClick:n,children:o("Cancel Listing")})]})]})},ne=(0,E.Z)(new Date),ie=function(e){var t=e.nft,n=e.owners,r=(0,b.Z)(e,["nft","owners"]),c=(0,F.$)().t,a=(0,S.mA)().address,d=(0,Y.oD)().openListingModal,x=(0,l.qY)(),h=(0,l.qY)(),p=(0,H.KD)(a,n),m="ERC1155"===t.collection.type,j=t.collection,y=t.image,k=t.name,C=t.tokenId,w=t.ask,I=(0,g.Z)({isOrderAsk:!0,collection:j.address,tokenId:C,endTime:ne},a?{signer:a}:{}),A=(0,J.yi)({filter:I,sort:L.Ae.PRICE_ASC,pagination:{first:50}},{enabled:m&&!!(p>=1)}),O=m?A.isSuccess?A.data:[]:w&&(0,T.Er)(a,w.signer)?[w]:[];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(X.A,{isOpen:h.isOpen,onClose:h.onClose,orders:O,collectionType:j.type,tokenName:k,tokenImage:y,collectionName:j.name,collectionAddress:j.address,isVerified:j.isVerified,collectionFloor:j.floor,points:j.points}),A.isSuccess&&(0,i.jsx)(K.Z,{orders:A.data,collectionFloorOrderPrice:j.floor.floorPrice,isOpen:x.isOpen,onClose:x.onClose}),(0,i.jsx)(s.xu,(0,v.Z)((0,g.Z)({bg:"ui-bg",p:4,borderTop:"1px solid",borderRight:"1px solid",borderLeft:"1px solid",borderTopRadius:"8px",borderColor:"border-01"},r),{children:(0,i.jsxs)(s.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,i.jsx)(s.kC,{whiteSpace:"nowrap",children:m?A.isLoading?(0,i.jsx)(U.Od,{height:"36px",width:"68px"}):A.isSuccess&&(0,i.jsxs)(s.kC,{flexDir:"column",children:[(0,i.jsx)(u.xvT,{textStyle:"helper",color:"text-03",children:c("You Own {{numberOwned}}",{numberOwned:p})}),(0,i.jsx)(u.xvT,{textStyle:"detail",bold:!0,color:"text-02",children:c("{{numberOnSale}}/{{numberOwned}} Listed",{numberOnSale:A.data.length,numberOwned:p})})]}):w?void 0:(0,i.jsx)(u.xvT,{textStyle:"detail",color:"text-02",children:c("Not listed")})}),(0,i.jsxs)(s.Ug,{width:"100%",justifyContent:"flex-end",children:[O.length<p&&(0,i.jsx)(u.zxk,{"data-test-id":"owner-bar-sell-button","data-id":"owner-action-bar-sell",size:"sm",colorScheme:"primary",variant:"fill",onClick:function(){d({tokenId:C,tokenName:k,tokenImage:y,collectionAddress:j.address,collectionName:j.name,collectionType:j.type,collectionFloor:j.floor,isVerified:j.isVerified,points:j.points})},children:c("Sell")}),O.length>0&&w&&(0,i.jsx)(i.Fragment,{children:m?(0,i.jsx)(te,{onClickAdjust:h.onOpen,onClickCancelMultiple:x.onOpen,orderNonce:1===O.length&&w?w.nonce:void 0}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.zxk,{"data-id":"owner-action-bar-adjust-listing",width:"100%",colorScheme:"gray",size:"sm",onClick:h.onOpen,children:c("Adjust Listing")}),(0,i.jsx)(f.mX,{nonces:[w.nonce],variant:"outline",colorScheme:"gray",size:"sm",width:"100%",children:c("Cancel Listing")})]})}),(0,i.jsx)(u.J2e,{variant:"tooltip",label:c("Transfer"),trigger:"hover",children:(0,i.jsx)(s.xu,{children:(0,i.jsx)(o(),{href:"/collections/".concat(j.address,"/").concat(C,"/transfer"),passHref:!0,children:(0,i.jsx)(q.hU,{cursor:"pointer","data-id":"owner-action-bar-transfer",as:"a",size:"sm","aria-label":"transfer",variant:"outline",colorScheme:"gray",children:(0,i.jsx)(u.jE$,{})})})})})]})]})}))]})},re=n(66383),oe=n(39742),le=n(6697),se=n(95485),ce=n(39132),ae=n(19821),de=n(43335),xe={color:"text-03",display:"inline",bold:!0},ue=function(e){var t=e.start,n=e.end,r=(0,de.Z)({start:t,end:n}),o=r.months,l=r.days,a=r.hours,d=r.minutes;return(0,i.jsxs)(s.Ug,{spacing:1,children:[!!o&&(0,i.jsx)(s.xu,{children:(0,i.jsxs)(c.cC,{i18nKey:"transCountdownMonths",children:[(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({},xe),{children:(0,i.jsx)(i.Fragment,{children:{months:o}})})),(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({},xe),{children:"mth"}))]})}),!!l&&(0,i.jsx)(s.xu,{children:(0,i.jsxs)(c.cC,{i18nKey:"transCountdownDays",children:[(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({},xe),{children:(0,i.jsx)(i.Fragment,{children:{days:l}})})),(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({},xe),{children:"d"}))]})}),!!a&&!o&&(0,i.jsx)(s.xu,{children:(0,i.jsxs)(c.cC,{i18nKey:"transCountdownHours",children:[(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({},xe),{children:(0,i.jsx)(i.Fragment,{children:{hours:a}})})),(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({},xe),{children:"h"}))]})}),!!d&&!o&&!l&&(0,i.jsx)(s.xu,{children:(0,i.jsxs)(c.cC,{i18nKey:"transCountdownMinutes",children:[(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({},xe),{children:(0,i.jsx)(i.Fragment,{children:{minutes:d}})})),(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({},xe),{children:"m"}))]})})]})},he=function(e){var t,n,r=e.ask,o=e.floorPrice,l=(0,F.$)().t,c=(0,ce.r)(),a=(0,oe.k)(r.currency,!0).icon,x=(0,re.Z)((0,ae.k)(Date.now()),1)[0],h=o&&(0,le.Wi)(o,r.price)||{},f=h.floorDiffPercentString,p=h.floorDiffPercentBn,m=(0,le.NJ)(f,p),j=(0,se.Oy)(r.endTime),g=(0,d.As)(null!==(t=null===r||void 0===r?void 0:r.price)&&void 0!==t?t:"0",4),v=parseFloat((0,d.wE)(null!==(n=null===r||void 0===r?void 0:r.price)&&void 0!==n?n:"0"));return(0,i.jsxs)(s.kC,{flexDir:{base:"row",md:"column"},justifyContent:{base:"space-between",md:"flex-start"},children:[(0,i.jsxs)(s.kC,{flexDir:"column",children:[(0,i.jsx)(u.xvT,{color:"text-03",textStyle:"helper",mb:1,children:l("Current Price")}),(0,i.jsxs)(s.kC,{align:"center",flexWrap:"wrap",gap:1,children:[(0,i.jsx)(a,{boxSize:6,width:"12px",height:"24px"}),(0,i.jsx)(u.xvT,{bold:!0,as:"h2",color:"text-01",textStyle:"heading-03",children:g}),c.isLoading?(0,i.jsx)(U.Od,{alignSelf:"end",height:"16px",width:"60px",mb:1}):(0,i.jsxs)(u.xvT,{alignSelf:"end",pb:1,color:"text-03",textStyle:"caption",children:["(",c.isSuccess?(0,d.gC)(v*c.data.eth.price):"-",")"]})]}),m&&(0,i.jsx)(u.xvT,{mt:1,textStyle:"caption",color:"text-03",bold:!0,children:m})]}),(0,i.jsx)(A.Suspense,{children:(0,i.jsx)(u.J2e,{variant:"tooltip",contentProps:{width:"220px"},label:(0,i.jsx)(u.k52,{children:l("Available at this price until: {{expiryTime}}",{expiryTime:(0,d.Of)(j)})}),children:(0,i.jsxs)(s.kC,{flexDir:{base:"column",md:"row"},mt:{base:0,md:10},alignItems:{base:"flex-start",md:"flex-end"},width:"fit-content",children:[(0,i.jsx)(u.xvT,{color:"text-03",textStyle:"helper",mr:2,mb:"3px",children:l("Time left")}),x&&(0,i.jsx)(ue,{start:x,end:j})]})})})]})},fe=function(e){var t=e.nft,n=e.tokenOwnersQuery,r=(0,F.$)().t,o=(0,S.mA)().address,l=t.ask,c=t.bids,a=t.name,x=t.image,h=t.collection,p=t.tokenId,m=c[0],j="ERC1155"===t.collection.type,g=n.data&&(0,T.ci)(o,n.data),v=n.isSuccess||n.isError,b=v&&(j||!g);return(0,i.jsxs)(s.rj,{p:4,gridTemplateColumns:"1fr 1fr",gridTemplateRows:{base:"auto auto",lg:"auto"},columnGap:4,rowGap:b?4:0,bg:"ui-01",width:"100%",border:"1px solid",borderColor:"border-01",borderBottomRadius:l&&j?"0":"container",borderTopRadius:g?"0":"container",overflow:"hidden",children:[(0,i.jsx)(s.P4,{flexDir:"column",colSpan:{base:2,lg:1},children:l?(0,i.jsx)(he,{ask:l,floorPrice:t.collection.floor.floorPrice}):(0,i.jsxs)(s.kC,{flexDir:"column",children:[(0,i.jsx)(u.xvT,{color:"text-03",textStyle:"helper",children:r("Not listed")}),m&&(0,i.jsxs)(s.kC,{alignItems:"center",mt:2,children:[(0,i.jsx)(u.xvT,{color:"text-03",mr:2,children:r("Top Offer")}),(0,i.jsx)(u.rVX,{boxSize:4,height:"20px",width:"10px",mr:1}),(0,i.jsx)(u.xvT,{color:"text-01",bold:!0,children:(0,d.As)(m.price,4)})]})]})}),(0,i.jsx)(s.P4,{colSpan:{base:2,lg:1},children:(0,i.jsxs)(s.Kq,{direction:{base:"row",lg:"column"},spacing:2,width:"100%",height:"100%",justifyContent:"flex-start",children:[b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.e7,{tokenId:p,tokenName:a,tokenImage:x,collectionName:h.name,collectionAddress:h.address,collectionType:h.type,tokenAsk:l,isVerified:h.isVerified,buttonProps:{width:"100%"},buttonDataId:"single-nft-view-buy-now-button"}),(0,i.jsx)(f.GQ,{tokenId:p,tokenName:a,tokenImage:x,collectionType:h.type,collectionAddress:h.address,collectionName:h.name,collectionFloor:h.floor,isVerified:h.isVerified,bids:c,ask:l,width:"100%",buttonDataId:"single-nft-view-maker-offer-button"})]}),!v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U.Od,{width:"100%",height:"48px"}),(0,i.jsx)(U.Od,{width:"100%",height:"48px"})]})]})})]})},pe=function(e){var t=e.nft,n=e.tokenOwnersQuery,r=(0,b.Z)(e,["nft","tokenOwnersQuery"]),o=(0,S.mA)().address,l=t.ask,a="ERC1155"===t.collection.type,d=n.data&&(0,T.ci)(o,n.data),x=n.isSuccess||n.isLoading,h=!!(d&&x&&n.data),f=d&&!a&&!l,p=(0,c.$G)().t;return(0,i.jsxs)(s.xu,(0,v.Z)((0,g.Z)({},r),{children:[(0,i.jsx)(C.UO,{in:h,unmountOnExit:!0,children:(0,i.jsx)(ie,{nft:t,owners:n.data,borderBottom:f?"1px solid":"none",borderBottomRadius:f?"container":"0",borderBottomColor:"border-01"})}),!f&&(0,i.jsx)(fe,{nft:t,tokenOwnersQuery:n}),a&&t.ask&&(0,i.jsx)(w.Z,{Icon:u.lO_,leftButtonElement:(0,i.jsx)(w.T,{children:p("Listings")}),variant:"segment",children:(0,i.jsx)($,{nft:t,isUserNft:d})})]}))},me=n(61258),je=n.n(me),ge=n(26235),ve=n(30007),be=n(7584),ye=n(84611),ke=function(){return(0,i.jsxs)(s.kC,{pb:12,flexDir:"column",children:[(0,i.jsx)(U.Od,{width:"78px",height:"20px",mb:2}),(0,i.jsx)(U.Od,{width:"160px",height:"20px"})]})},Ce=function(){return(0,i.jsx)(i.Fragment,{children:je()(5).map((function(){return(0,i.jsx)(ke,{},Z()())}))})},Se=function(e){var t=e.tokenId,n=e.collectionAddress,r=(0,F.$)().t,o=(0,O.Ss)().isOpen,l=(0,ye.Ps)(),c=l.filters,a=l.toggleFilterType,d=l.resetFilters,x=(0,ge.iZ)(n,t,c,5,{enabled:o}),h=x.data,p=x.isLoading,m=x.isFetching,j=x.hasNextPage,g=x.fetchNextPage,v=R()(null===h||void 0===h?void 0:h.pages),b=!j&&v&&v.length>5,y=(0,ve.N)(),k=Object.keys(y);return(0,i.jsxs)(s.xu,{maxHeight:96,overflowY:"auto",children:[(0,i.jsx)(s.Eq,{px:4,pt:6,spacing:2,alignItems:"center",mb:6,children:k.map((function(e){var t,n=null===(t=c.type)||void 0===t?void 0:t.includes(e);return(0,i.jsx)(f.t7,{size:"xs",isActive:n,onClick:function(){a(e)},disabled:m,children:y[e]},e)}))}),(0,i.jsx)(s.iz,{my:6}),(0,i.jsxs)(s.xu,{px:4,pb:6,children:[(0,i.jsx)(s.gC,{alignItems:"flex-start",spacing:6,divider:(0,i.jsx)(s.iz,{}),children:p?(0,i.jsx)(Ce,{}):v.length>0?v.map((function(e){return(0,i.jsx)(D.Z,{width:"100%",placeholder:(0,i.jsx)(ke,{}),children:(0,i.jsx)(be.r0,{event:e})},e.id)})):(0,i.jsxs)(u.gv1,{width:"100%",children:[(0,i.jsx)(u.xvT,{bold:!0,mb:4,children:r("No activities found")}),(0,i.jsx)(u.zxk,{onClick:d,children:r("Reset filters")})]})}),j&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.iz,{my:6}),(0,i.jsx)(s.kC,{justifyContent:"center",pt:2,children:(0,i.jsx)(u.zxk,{isLoading:m,onClick:function(){return g()},variant:"outline",colorScheme:"secondary",children:r("Load More")})})]}),b&&(0,i.jsx)(s.kC,{alignItems:"center",justifyContent:"center",pt:8,children:(0,i.jsx)(u.xvT,{color:"text-02",children:r("That's all!")})})]})]})},Te=n(10528),we=n(34291),Ie=n.n(we),Ae=n(50104),Oe=n(58105),Ee=function(e){var t=e.traitType,n=e.value,r=e.floorPrice,l=e.count,a=e.totalSupply,x=e.displayType,h=e.isHighestFloor,f=void 0!==h&&h,p=e.isRarestTrait,m=void 0!==p&&p,j=e.href,y=(0,b.Z)(e,["traitType","value","floorPrice","count","totalSupply","displayType","isHighestFloor","isRarestTrait","href"]),k=(0,c.$G)().t,C=a?(0,Ae.G)(a,l):null;return(0,i.jsx)(o(),{href:j,passHref:!0,children:(0,i.jsx)("a",{children:(0,i.jsxs)(s.rj,(0,v.Z)((0,g.Z)({position:"relative",borderRadius:"button",height:"100%",bg:"ui-01",gridTemplateAreas:"'a a' 'c c' 'd e'",gridTemplateRows:"fit-content(20px) auto auto",gridTemplateColumns:"minmax(0, 1fr) minmax(0, auto)",p:2,columnGap:"2px",cursor:"pointer",sx:{_hover:{bg:"hover-ui"},_active:{bg:"onclick-ui"}},href:j,minWidth:0},y),{children:[(0,i.jsx)(u.xvT,{gridArea:"a",color:"link-01",textStyle:"caption",overflowWrap:"break-word",bold:!0,pr:m&&f?8:m||f?4:0,children:t}),(0,i.jsxs)(s.kC,{position:"absolute",right:2,top:2,children:[m&&(0,i.jsx)(u.J2e,{variant:"tooltip",label:(0,i.jsx)(u.k52,{textStyle:"detail",children:k("Rarest Trait")}),children:(0,i.jsx)("div",{children:(0,i.jsx)(u.szr,{display:"block",boxSize:3,mt:.5,color:"link-01"})})}),f&&(0,i.jsx)(u.J2e,{variant:"tooltip",label:(0,i.jsx)(u.k52,{textStyle:"detail",children:k("Highest Floor")}),children:(0,i.jsx)("div",{children:(0,i.jsx)(u.oWO,{display:"block",boxSize:3,mt:.5,color:"link-01",ml:1})})})]}),(0,i.jsx)(u.xvT,{gridArea:"c",color:"text-02",textStyle:"helper",bold:!0,mb:4,overflowWrap:"anywhere",children:"date"===x?(0,d.Of)(parseInt(n),"LLL d, yyyy"):n}),(0,i.jsxs)(s.kC,{gridArea:"d",alignSelf:"end",overflow:"hidden",whiteSpace:"nowrap",children:[(0,i.jsx)(u.xvT,{textStyle:"caption",bold:!0,color:"text-03",mr:"2px",children:(0,Oe.commify)(l)}),(0,i.jsx)(u.xvT,{textStyle:"caption",color:"text-03",noOfLines:1,whiteSpace:"normal",children:"(".concat(C?(0,d.DW)(C):"-","%)")})]}),(0,i.jsxs)(s.kC,{gridArea:"e",justifySelf:"end",alignSelf:"end",children:[(0,i.jsx)(u.uaJ,{boxSize:4,height:"16px",width:"8px",mr:1}),(0,i.jsx)(u.xvT,{textStyle:"caption",children:r})]})]}))})})},Ne=function(e){var t=(0,ye.Nv)().addAttributeFilter;return(0,i.jsx)(Ee,(0,v.Z)((0,g.Z)({},e),{onClick:function(n){var i=e.traitType,r=e.value,o=e.onClick,l=void 0===o?Ie():o;n.preventDefault(),n.stopPropagation(),t({traitType:i,value:r}),l(n)}}))},Re=n(50308),Pe=function(e,t){try{var n=JSON.stringify({attributes:[{traitType:t.traitType,values:[t.value]}]});return"/collections/".concat(e,"?filters=").concat(encodeURIComponent(n))}catch(i){return"/collections/".concat(e)}},Ze=function(e){var t=e.attributes,n=e.collectionAddress,r=e.onClickAttribute,o=void 0===r?Ie():r,l=e.totalSupply,c=(0,b.Z)(e,["attributes","collectionAddress","onClickAttribute","totalSupply"]),a=t&&t.length>0&&t.reduce((function(e,t){var n,i;return Te.O$.from((null===(n=t.floorOrder)||void 0===n?void 0:n.price)||0).gt(Te.O$.from((null===(i=e.floorOrder)||void 0===i?void 0:i.price)||0))?t:e})),x=a&&(null===t||void 0===t?void 0:t.indexOf(a)),u=t&&t.length>0&&l&&t.reduce((function(e,t){var n=(0,Ae.G)(l,e.count);return(0,Ae.G)(l,t.count)<n?t:e})),h=u&&(null===t||void 0===t?void 0:t.indexOf(u)),f=(0,Re.T)().isCollectionPage;return(0,i.jsx)(i.Fragment,{children:t&&t.length>0&&(0,i.jsx)(s.rj,(0,v.Z)((0,g.Z)({templateColumns:{base:"minmax(0, 1fr)",xs:"repeat(2, minmax(0, 1fr))",xl:"repeat(3, minmax(0, 1fr))"},columnGap:2,rowGap:2},c),{children:t.map((function(e,t){var r={traitType:e.traitType,value:e.value,count:e.count.toString(),displayType:e.displayType,totalSupply:l,floorPrice:e.floorOrder?(0,d.As)(Te.O$.from(e.floorOrder.price),3):"-",isHighestFloor:!(!e.floorOrder||x!==t),isRarestTrait:h===t,href:Pe(n,e),onClick:o};return(0,i.jsx)(s.P4,{children:f?(0,i.jsx)(Ne,(0,g.Z)({},r)):(0,i.jsx)(Ee,(0,g.Z)({},r))},e.traitType+e.value)}))}))})},Fe=n(71113),Le=function(e){var t=e.collection,n=(0,b.Z)(e,["collection"]),r=(0,c.$G)().t,o=!!t.points,l=(0,le.Go)(t.floor).globalFloor;return(0,i.jsxs)(s.xu,(0,v.Z)((0,g.Z)({},n),{children:[(0,i.jsx)(Fe.D,{name:t.name,address:t.address,isVerified:t.isVerified,isListingRewardsEligible:o,textProps:{textStyle:"detail"}}),(0,i.jsxs)(s.kC,{alignItems:"center",children:[(0,i.jsx)(u.xvT,{textStyle:"helper",color:"text-03",children:r("Global Floor")}),(0,i.jsx)(u.uaJ,{boxSize:0,width:"6px",height:"12px",mx:1}),(0,i.jsx)(u.xvT,{textStyle:"helper",color:"text-03",children:l.gt(0)?(0,d.As)(l,4):"\u2014"})]})]}))},_e=function(e){var t=e.nft,n=e.isUserNft,r=(0,b.Z)(e,["nft","isUserNft"]),o=(0,F.$)().t,l=t.collection,c=t.tokenId,a=t.name,d=t.image,x=(0,O.Ss)().isOpen,h=M(),f=h.labels,p=h.orderSortMap,m=h.getOrderSortFromLabel,j={label:p.PRICE_DESC,orderSort:L.Ae.PRICE_DESC},y=(0,A.useState)(j),k=y[0],C=y[1],S=(0,_.h3)({address:l.address,tokenId:c,sort:k.orderSort,pagination:{first:5}},{enabled:x}),T=S.data,w=S.isLoading,E=S.isFetching,N=S.isSuccess,P=S.hasNextPage,z=S.fetchNextPage,W=T&&R()(T.pages);return(0,i.jsxs)(s.xu,(0,v.Z)((0,g.Z)({},r),{maxHeight:96,overflowY:"auto",children:[!N||W&&0!==(null===W||void 0===W?void 0:W.length)?(0,i.jsxs)(s.xu,{px:4,pt:6,children:[(0,i.jsx)(G.h_,{listProps:{zIndex:"sticky",width:"fit-content",minW:"192px"},menuProps:{variant:"lowcontrast"},width:"fit-content",minW:"192px",labels:f,selectedLabel:k.label,handleSelect:function(e){var t=m(e);return C(t?{label:e,orderSort:t}:j)}}),(0,i.jsx)(s.iz,{my:6})]}):null,(0,i.jsxs)(s.gC,{px:4,pb:6,alignItems:"flex-start",spacing:6,divider:(0,i.jsx)(s.iz,{}),children:[N&&(W&&W.length>0?W.map((function(e){return(0,i.jsx)(D.Z,{placeholder:(0,i.jsx)(B.n,{}),style:{width:"100%"},children:(0,i.jsx)(V.Z,{tokenId:c,tokenName:a,tokenImage:d,collectionName:l.name,collectionAddress:l.address,collectionFloor:l.floor,collectionType:l.type,collectionPoints:l.points,isVerified:l.isVerified,order:e,isNftOwnedByUser:n})},e.signer+e.startTime+e.endTime)})):(0,i.jsx)(u.gv1,{width:"100%",children:(0,i.jsx)(u.xvT,{bold:!0,children:o("No offers found")})})),E&&(0,i.jsx)(i.Fragment,{children:(0,I.Z)(Array(5)).map((function(){return(0,i.jsx)(B.n,{},Z()())}))}),P&&(0,i.jsx)(s.kC,{width:"100%",justifyContent:"center",children:(0,i.jsx)(u.zxk,{isLoading:E,disabled:w,onClick:function(){return z()},variant:"outline",colorScheme:"secondary",children:o("Load More")})})]})]}))},ze=n(77608),Me=function(e){var t=e.icon,n=e.label,r=e.value;return(0,i.jsxs)(s.kC,{alignItems:"center",children:[t,(0,i.jsxs)(s.kC,{flexDir:"column",children:[(0,i.jsx)(u.xvT,{color:"text-03",textStyle:"helper",children:n}),r]})]})},De=function(e){var t,n,r=e.erc721OwnerQuery,l=e.isErc1155,c=e.countOwners,a=e.tokenTotalSupply,x=(0,b.Z)(e,["erc721OwnerQuery","isErc1155","countOwners","tokenTotalSupply"]),p=(0,S.mA)().address,m=(0,F.$)().t,j=r.data&&r.data[0],y=(0,ze.W)((null===j||void 0===j?void 0:j.owner.address)||"",{enabled:!l&&!(null===j||void 0===j?void 0:j.owner.name)&&!!(null===j||void 0===j?void 0:j.owner.address)}),k=r.isSuccess||r.isError;return(0,i.jsxs)(i.Fragment,{children:[k&&(0,i.jsxs)(s.kC,(0,v.Z)((0,g.Z)({alignItems:"center"},x),{children:[!l&&j&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Me,{icon:(0,i.jsx)(o(),{href:"/accounts/".concat(j.owner.address),passHref:!0,children:(0,i.jsx)(u.rUS,{children:(0,i.jsx)(h.qE,{address:j.owner.address,src:null===(t=j.owner.avatar)||void 0===t?void 0:t.image.src,size:32,mr:3})})}),label:m("Owner"),value:(0,i.jsx)(h.n5,{href:"/accounts/".concat(j.owner.address),flex:1,address:j.owner.address,name:j.owner.name||y.data||void 0,src:null===(n=j.owner.avatar)||void 0===n?void 0:n.image.src,linkProps:{isExternal:!1,textStyle:"detail"}})}),!(0,T.Er)(j.owner.address,p)&&(0,i.jsx)(f.TH,{"data-id":"nft-owner-details-chat-button",address:j.owner.address,tooltipText:m("Contact owner via Blockscan"),size:"xs",ml:3})]}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.xu,{mr:7,children:(0,i.jsx)(Me,{icon:(0,i.jsx)(u.BFJ,{mr:3,boxSize:6,color:"text-02"}),label:m("Owners"),value:(0,i.jsx)(u.xvT,{color:"text-02",textStyle:"detail",bold:!0,children:(0,Oe.commify)(c.toString())})})}),(0,i.jsx)(Me,{icon:(0,i.jsx)(u.ZDh,{mr:3,boxSize:6,color:"text-02"}),label:m("Editions"),value:(0,i.jsx)(u.xvT,{color:"text-02",textStyle:"detail",bold:!0,children:(0,d.rY)(a)})})]})]})),!k&&(0,i.jsx)(s.kC,(0,v.Z)((0,g.Z)({},x),{children:(0,i.jsx)(U.Od,{height:"36px",width:"92px"})}))]})},Ve=n(7653),Be=function(e){var t=e.tokenId,n=e.collectionAddress,r=e.isRefreshed,o=e.isRefreshing,l=e.onRefreshClick,c=e.onDownloadListingImage,a=e.collectionName,d=(0,F.$)().t,x=(0,Ve.F)({base:!0,md:!1});return(0,i.jsxs)(s.Ug,{alignItems:"center",justifyContent:"flex-end",children:[(0,i.jsx)(u.J2e,{variant:"tooltip",label:(0,i.jsx)(u.k52,{children:d(r?"Recently Refreshed":"Refresh Metadata")}),children:(0,i.jsx)("span",{children:(0,i.jsx)(q.hU,{"data-id":"single-nft-toolbar-refresh-metadata-button","aria-label":d("refresh metadata"),variant:"outline",colorScheme:"gray",size:"sm",isLoading:o,isDisabled:r,onClick:l,children:(0,i.jsx)(u.AaM,{})})})}),(0,i.jsx)(f.Tz,{"data-id":"single-nft-toolbar-share-button",pagePath:"/collections/".concat(n,"/").concat(t),shareText:"".concat(d("Check out the {{collectionName}} NFT collection on @LooksRare",{collectionName:a})," \ud83d\udc40 \ud83d\udc8e"),buttonProps:{variant:"outline",size:"sm",sx:{svg:{boxSize:5}},as:x?q.hU:u.zxk,leftIcon:x?void 0:(0,i.jsx)(u.aAc,{})},onDownloadListingImage:c,children:x?"":d("Share")})]})},Ge=n(49124),We=n(46355),$e=n(66170),Ue=function(e){var t=e.rowTitle,n=e.children,r=e.textProps,o=(0,b.Z)(e,["rowTitle","children","textProps"]);return(0,i.jsxs)(s.rj,(0,v.Z)((0,g.Z)({alignItems:"center",gridTemplateColumns:"max-content 1fr"},o),{children:[(0,i.jsx)(s.P4,{children:(0,i.jsx)(u.xvT,(0,v.Z)((0,g.Z)({color:"text-03",textStyle:"detail"},r),{children:t}))}),(0,i.jsx)(s.P4,{justifySelf:"end",children:n})]}))},qe=function(e){var t,n=e.nft,r=(0,F.$)().t,o=(0,O.Ss)().isOpen,l=(0,We.CN)({collectionAddress:n.collection.address,tokenId:n.tokenId},{enabled:o}),c=!!(null===(t=l.data)||void 0===t?void 0:t.receiver);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ue,{rowTitle:r("Token ID"),mb:4,children:(0,i.jsx)(u.xvT,{color:"text-02",bold:!0,textStyle:"detail",noOfLines:1,maxWidth:"268px",title:n.tokenId,children:n.tokenId})}),(0,i.jsx)(Ue,{rowTitle:r("Blockchain"),mb:4,children:(0,i.jsx)(u.xvT,{color:"text-02",textStyle:"detail",children:"Ethereum"})}),(0,i.jsx)(Ue,{rowTitle:r("Token Standard"),mb:4,children:(0,i.jsx)(u.xvT,{color:"text-02",textStyle:"detail",children:n.collection.type})}),(0,i.jsx)(s.iz,{my:4}),(0,i.jsx)(Ue,{rowTitle:r("Contract"),mb:4,children:(0,i.jsx)(u.dLw,{href:(0,a.E)(n.collection.address,"address"),color:"link-01",fontWeight:600,textStyle:"detail",children:(0,d.Tg)(n.collection.address)})}),(0,i.jsx)(Ue,{rowTitle:r("Creator Rebate"),children:l.isLoading?(0,i.jsx)(U.Od,{width:"32px",height:"20px"}):(0,i.jsx)(Ge.tJ,{creatorFeeAsPercentage:c?$e.yR/100:0,textProps:{bold:!0},popoverProps:{placement:"auto"}})})]})}}}]);
//# sourceMappingURL=1415-19f8119387c3e7ec.js.map