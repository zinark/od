(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7147],{93401:function(e,t,n){var i=n(24303),r=n(67878);e.exports=function(e,t){var n=-1,s=r(e)?Array(e.length):[];return i(e,(function(e,i,r){s[++n]=t(e,i,r)})),s}},16760:function(e,t,n){var i=n(50343),r=n(68286),s=n(93401),o=n(86152);e.exports=function(e,t){return(o(e)?i:s)(e,r(t,3))}},56285:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(70865),r=n(96670),s=n(52322),o=n(45436),l=n(23985),a=n(76699),c=n(17686),d=n(53965),u=n(66170),x=function(e){var t=e.isOpen,n=e.onClose,i=(0,a.$)().t;return(0,s.jsx)(c.u_l,{isOpen:t,onClose:n,showCloseButton:!0,title:i("Verified"),children:(0,s.jsx)(c.fef,{borderTopWidth:"1px",borderTopColor:"border-01",children:(0,s.jsxs)(d.kC,{flexDirection:"column",children:[(0,s.jsx)(c.xvT,{textStyle:"detail",color:"text-02",mb:4,children:i("Collections with the Verified mark have been verified as legitimate and high-volume or otherwise notable.")}),(0,s.jsx)(c.rUS,{textStyle:"detail",href:"".concat(u.XG,"/guides/collection-management/collection-verification#what-does-it-mean-when-a-collection-is-verified"),isExternal:!0,color:"link-01",children:i("Learn More")})]})})})},h=function(e){var t=e.buttonProps,n=e.isVerified,d=(0,a.$)().t,u=(0,o.qY)(),h=u.isOpen,g=u.onOpen,p=u.onClose;return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{isOpen:h,onClose:p}),(0,s.jsx)(c.J2e,{variant:"tooltip",label:(0,s.jsx)(c.k52,{children:d("Verified Collection")}),children:(0,s.jsx)(l.hU,(0,r.Z)((0,i.Z)({"aria-label":"Verified collection",onClick:g,variant:"ghost",colorScheme:"gray",size:"xs"},t),{children:(0,s.jsx)(c.SA,{})}))})]}):null}},37200:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var i=n(2784),r=n(45436),s=n(5632),o=function(){var e=(0,i.useState)(""),t=e[0],n=e[1],o=(0,s.useRouter)();return(0,r.Gw)((function(){var e=function(){n(window.location.hash)},t=function(e){var t,i=null===(t=null===e||void 0===e?void 0:e.split("#")[1])||void 0===t?void 0:t.split("?")[0];n(i?"#".concat(i):"")};return e(),window.addEventListener("hashchange",e),o.events.on("beforeHistoryChange",t),o.events.on("hashChangeComplete",t),function(){window.removeEventListener("hashchange",e),o.events.off("beforeHistoryChange",t),o.events.off("hashChangeComplete",t)}}),[n]),t}},43864:function(e,t,n){"use strict";n.d(t,{C:function(){return Te},Z:function(){return oe}});var i=n(98788),r=n(47842),s=n(70865),o=n(96670),l=n(5163),a=n(52322),c=n(45436),d=n(53965),u=n(2784),x=n(5632),h=n(76699),g=n(69702),p=n(90711),f=n(16760),m=n.n(f),v=n(63955),j=n(66170),C=n(40810),k=n(17686),b=n(79340),S=n(47363),T=n(17722),y=n(93229),w=n(4611),Z=(0,u.createContext)(void 0),L=function(e){var t=e.children,n=(0,u.useState)({}),i=n[0],r=n[1],o=(0,u.useMemo)((function(){return{warnings:i,getWarning:function(e){return i[e]},setWarning:function(e,t){r((function(n){var i=(0,s.Z)({},n);return!0===t?delete i[e]:i[e]=t,i}))}}}),[i]);return(0,a.jsx)(Z.Provider,{value:o,children:t})},E=n(21081),I=n(88803),A=n(58683),P=n(30283),O=n(15704),z=n(85561),D=n(81473),N=n(94580),R=n(1679),_=n(47884);function M(e){return"".concat(e.collection.address,"-").concat(e.tokenId)}var F=n(18854),V=n(26297),U=n(71474),W=function(e){var t=e.children,n=(0,V.Z)(e,["children"]);return(0,a.jsx)(d.xu,(0,o.Z)((0,s.Z)({bg:"ui-01",pt:6,pb:4,px:4,borderRadius:"button",height:"fit-content",position:{base:"relative",xl:"sticky"},top:{base:0,xl:"112px"}},n),{children:t}))},H=function(e){var t=e.status,n=e.boxSize;return"pending"===t?(0,a.jsx)(U.$,{color:"link-01",boxSize:n}):"error"===t?(0,a.jsx)(k.Pz_,{color:"text-error",boxSize:n}):"wait"===t?(0,a.jsx)(k.T39,{color:"text-disabled",boxSize:n}):"skipped"===t?(0,a.jsx)(k.Pz_,{color:"text-disabled",boxSize:n}):(0,a.jsx)(k.Kd7,{color:"link-01",boxSize:n})},B=function(e){var t=e.status,n=e.text,i=e.textProps,r="pending"===t?"link-01":"error"===t?"text-error":"skipped"===t?"text-disabled":"text-03";return(0,a.jsxs)(d.kC,{alignItems:"center",width:"100%",children:[(0,a.jsx)(d.kC,{alignItems:"center",mr:2,children:(0,a.jsx)(H,{status:t,color:r,boxSize:4})}),(0,a.jsx)(d.xu,{minWidth:0,children:(0,a.jsx)(k.xvT,(0,o.Z)((0,s.Z)({noOfLines:1,color:"text-03",textStyle:"detail"},i),{children:n}))})]})},$=function(e,t){return"".concat(e,"-").concat(t)},G=function(e){var t=e.title,n=e.collectionCount,i=e.approvedCollections,r=e.txPendingCollections,l=e.txNeedsConfirmationCollections,c=e.needsApprovalCollections,u=e.txDeclinedCollections,x=e.status,h=(0,V.Z)(e,["title","collectionCount","approvedCollections","txPendingCollections","txNeedsConfirmationCollections","needsApprovalCollections","txDeclinedCollections","status"]),g=(0,O.$G)().t;return(0,a.jsx)(k.h8e,(0,o.Z)((0,s.Z)({title:t,status:x},h),{children:(0,a.jsxs)(d.gC,{spacing:2,alignItems:"flex-start",divider:(0,a.jsx)(d.iz,{}),children:[(0,a.jsx)(k.xvT,{textStyle:"helper",bold:!0,color:"text-02",children:g("{{remaining}} of {{total}} left",{remaining:n-i.length,total:n})}),!!i.length&&(0,a.jsx)(d.gC,{spacing:2,alignItems:"flex-start",width:"100%",children:i.map((function(e){return(0,a.jsx)(B,{status:"done",text:e.name},e.address)}))}),!!r.length&&(0,a.jsxs)(d.gC,{alignItems:"flex-start",spacing:2,width:"100%",children:[(0,a.jsx)(k.xvT,{textStyle:"helper",bold:!0,color:"text-02",children:g("Pending...")}),r.map((function(e){return(0,a.jsx)(B,{status:"pending",text:e.name},e.address)}))]}),!!l.length&&(0,a.jsxs)(d.gC,{alignItems:"flex-start",spacing:2,width:"100%",children:[(0,a.jsx)(k.xvT,{textStyle:"helper",bold:!0,color:"text-02",children:g("Waiting for you to sign")}),l.map((function(e){return(0,a.jsx)(B,{status:"pending",text:e.name,textProps:{bold:!0,color:"text-01"}},e.address)}))]}),!!u.length&&(0,a.jsxs)(d.gC,{alignItems:"flex-start",spacing:2,width:"100%",children:[(0,a.jsx)(k.xvT,{textStyle:"helper",bold:!0,color:"text-error",children:g("Transaction Declined")}),u.map((function(e){return(0,a.jsx)(B,{status:"error",text:e.name,textProps:{bold:!0,color:"text-01"}},e.address)}))]}),!!c.length&&(0,a.jsx)(d.gC,{alignItems:"flex-start",spacing:2,width:"100%",children:c.map((function(e){return(0,a.jsx)(B,{status:"wait",text:e.name},e.address)}))})]})}))},q=function(e){var t=e.title,n=e.selectedItemsCount,i=e.status,r=e.needsListingTokens,l=e.needsSigningTokens,c=e.declinedTokens,u=e.listedTokens,x=e.skippedTokens,h=(0,V.Z)(e,["title","selectedItemsCount","status","needsListingTokens","needsSigningTokens","declinedTokens","listedTokens","skippedTokens"]),g=(0,O.$G)().t;return(0,a.jsx)(k.h8e,(0,o.Z)((0,s.Z)({title:t,status:i},h),{children:(0,a.jsxs)(d.gC,{spacing:2,alignItems:"flex-start",divider:(0,a.jsx)(d.iz,{}),children:[(0,a.jsx)(k.xvT,{textStyle:"helper",bold:!0,color:"text-02",children:g("{{remaining}} of {{total}} left",{remaining:n-u.length-x.length,total:n})}),!(!u.length&&!x.length)&&(0,a.jsxs)(d.gC,{spacing:2,alignItems:"flex-start",width:"100%",children:[u.map((function(e){return(0,a.jsx)(B,{status:"done",text:e.name},M(e))})),x.map((function(e){return(0,a.jsx)(B,{status:"skipped",text:e.name},M(e))}))]}),!!l.length&&(0,a.jsxs)(d.gC,{alignItems:"flex-start",spacing:2,width:"100%",children:[(0,a.jsx)(k.xvT,{textStyle:"helper",bold:!0,color:"text-02",children:g("Pending")}),l.map((function(e){return(0,a.jsx)(B,{status:"pending",text:e.name,textProps:{bold:!0,color:"text-01"}},M(e))}))]}),!!c.length&&(0,a.jsxs)(d.gC,{alignItems:"flex-start",spacing:2,width:"100%",children:[(0,a.jsx)(k.xvT,{textStyle:"helper",bold:!0,color:"text-error",children:g("Transaction Declined")}),c.map((function(e){return(0,a.jsx)(B,{status:"error",text:e.name,textProps:{bold:!0,color:"text-01"}},M(e))}))]}),!!r.length&&(0,a.jsx)(d.gC,{alignItems:"flex-start",spacing:2,width:"100%",children:r.map((function(e){return(0,a.jsx)(B,{status:"wait",text:e.name},M(e))}))})]})}))},Y=function(e){var t=e.approvedCollections,n=e.txPendingCollections,i=e.txNeedsConfirmationCollections,r=e.needsApprovalCollections,s=e.txDeclinedCollections,o=e.endTime,l=e.needsListingTokens,c=e.needsSigningTokens,u=e.declinedTokens,x=e.listedTokens,g=e.skippedTokens,p=e.onResumeAfterApprovalError,f=e.onResumeAfterListingError,m=e.onSkipToken,v=(0,h.$)().t,j=(0,E.h)(),C=j.getUniqueCollections,b=j.selectedItems,S=C(),T=t.length===S.length,y=s.length>0,Z=u.length>0,L=y||Z,I={base:"calc(100vh - ".concat(F.jC.base," - 14rem - 1px)"),md:"calc(100vh - ".concat(F.jC.md," - 21rem - 1px)")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.gC,{spacing:4,pb:6,width:"100%",sx:{"> *":{width:"100%"}},children:[(0,a.jsx)(k.xvT,{color:"text-02",textStyle:"heading-04",bold:!0,children:v("Standard Listing")}),o&&(0,a.jsxs)(d.kC,{justifyContent:"space-between",mt:2,children:[(0,a.jsx)(k.xvT,{color:"text-02",textStyle:"detail",children:v("Validity")}),(0,a.jsx)(k.xvT,{color:"text-02",textStyle:"detail",textAlign:"right",children:(0,w.Of)(o)})]}),(0,a.jsx)(k.xvT,{color:"text-03",textStyle:"helper",children:v("Any listings you complete now will remain active even if you leave during this process")}),(0,a.jsx)(d.iz,{}),(0,a.jsxs)(d.gC,{alignItems:"flex-start",spacing:4,maxHeight:I,overflowY:"auto",children:[(0,a.jsx)(G,{title:v("Approve Collections"),collectionCount:S.length,approvedCollections:t,txPendingCollections:n,txNeedsConfirmationCollections:i,needsApprovalCollections:r,txDeclinedCollections:s,status:T?"past":"current",collapse:T,width:"100%"}),(0,a.jsx)(q,{title:v("Complete Listings"),selectedItemsCount:b.length,needsListingTokens:l,needsSigningTokens:c,declinedTokens:u,listedTokens:x,skippedTokens:g,status:T?"current":"future",collapse:!T,width:"100%"})]})]}),(0,a.jsx)(k.zxk,{isLoading:!L,loadingText:v("Now Listing..."),size:"sm",disabled:!L,width:"100%",onClick:function(){return y?p():Z?f():void 0},children:v("Submit Transaction Again")}),!!u.length&&(0,a.jsx)(k.zxk,{colorScheme:"secondary",size:"sm",width:"100%",onClick:m,mt:2,children:v("Skip This One")})]})},K=n(10528),X=n(6697),J=n(51509),Q=n(23985),ee=n(46355),te=n(49124),ne=n(3076),ie=n(54073),re=n.n(ie),se=function(){var e=(0,u.useContext)(Z);if(void 0===e)throw new Error("MultiselectLayout context is undefined.");return e};var oe,le=function(e){var t=e.inputProps,n=e.onTextChange,i=(0,V.Z)(e,["inputProps","onTextChange"]);return(0,a.jsxs)(d.kC,(0,o.Z)((0,s.Z)({alignItems:"stretch",outline:"1px solid",outlineColor:"border-01",borderRadius:"mini"},i),{children:[(0,a.jsx)(k.Y2U,(0,s.Z)({size:"sm",height:"auto",onTextChange:n,borderRightRadius:"0px"},t)),(0,a.jsx)(d.xu,{px:3,py:2,children:(0,a.jsx)(k.kdU,{boxSize:5})})]}))},ae=n(47542),ce=function(e){var t=e.name,n=e.imageSrc,i=e.collectionName,r=e.isListingRewardsEligible,l=e.isVerified,c=(0,V.Z)(e,["name","imageSrc","collectionName","isListingRewardsEligible","isVerified"]);return(0,a.jsxs)(d.kC,(0,o.Z)((0,s.Z)({width:"100%",overflow:"hidden"},c),{children:[(0,a.jsx)(d.xu,{flexShrink:0,position:"relative",width:"40px",height:"40px",mr:4,sx:{img:{borderRadius:"mini"}},children:(0,a.jsx)(ae.E,{src:n,alt:"".concat(t," image"),layout:"fill",objectFit:"contain",sizes:"48px"})}),(0,a.jsxs)(d.xu,{flexGrow:1,minWidth:0,children:[(0,a.jsx)(k.xvT,{textStyle:"detail",noOfLines:1,children:t}),(0,a.jsxs)(d.kC,{direction:"row",alignItems:"center",width:"100%",gap:1,children:[(0,a.jsx)(d.xu,{minWidth:0,children:(0,a.jsx)(k.xvT,{textStyle:"helper",color:"text-03",noOfLines:1,children:i})}),l&&(0,a.jsx)(d.kC,{alignItems:"center",flexShrink:0,children:(0,a.jsx)(k.SA,{boxSize:4,ml:1})}),r&&(0,a.jsx)(k._82,{color:"purple.400",boxSize:4})]})]})]}))},de=function(e){var t,n=e.nft,r=e.inputValue,s=e.onChangeInputValue,o=e.isEditable,c=e.status,x=e.error,h=e.formInputKey,g=e.warningValidation,f=(0,O.$G)().t,m=(0,E.h)().removeFromCart,C=(0,ee.qP)(j.c2.standard),b=(0,ee.CN)({collectionAddress:n.collection.address,tokenId:n.tokenId}),S=!!(null===(t=b.data)||void 0===t?void 0:t.receiver),T=function(e){var t=e.name,n=e.validate,r=e.onChangeDebounceDelay,s=void 0===r?300:r,o=(0,v.Gc)().watch,a=se(),c=a.setWarning,d=a.warnings,x=o(t),h=(0,u.useCallback)((0,i.Z)((function(){var e;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,i.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return n?[4,n(x)]:[2];case 1:return!0!==(e=t.sent())?[2,e]:[2]}}))}))()];case 1:return e=r.sent(),c(t,e),[2]}}))})),[t,c,n,x]),g=(0,u.useCallback)((0,i.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,re()(h,s)()];case 1:return[2,e.sent()]}}))})),[h,s]),p=(0,y.Z)(x);return(0,u.useEffect)((function(){x!==p&&g()}),[x,g,p,c,t]),{warningMessage:d[t]}}({name:h,validate:g}).warningMessage,Z=(0,X.Go)(n.collection.floor),L=Z.floorPrice,I=Z.floorPriceOs,A=Z.globalFloor;return(0,a.jsxs)(d.rj,{gridTemplate:{base:"' meta meta  meta  meta  deleteBtn'\n               ' _    ask    ask   ask   ask'\n               ' _    floor  floor fees  fees'\n               / 40px 1fr    40px  1fr   40px",md:"' meta  floor  fees ask                deleteBtn'\n             / 3fr   1fr    1fr  minmax(120px, 2fr) 40px"},gap:4,py:6,width:"100%",borderBottom:"1px solid",borderBottomColor:"border-01",alignItems:"center",children:[(0,a.jsx)(ce,{gridArea:"meta",maxWidth:"250px",name:n.name,imageSrc:n.image.src,collectionName:n.collection.name,isListingRewardsEligible:!!n.collection.points,isVerified:n.collection.isVerified}),(0,a.jsxs)(d.gC,{spacing:1,alignItems:"flex-start",gridArea:"floor",children:[(0,a.jsx)(k.xvT,{textStyle:"helper",color:"text-03",children:f("Floor")}),(0,a.jsx)(ne.n,{looksFloorWei:L,osFloorWei:I,headerText:f(I?"Lowest cross-marketplace floor price":"Floor price"),children:(0,a.jsxs)(d.kC,{alignItems:"center",children:[(0,a.jsx)(k.kdU,{boxSize:4}),(0,a.jsx)(k.xvT,{textStyle:"detail",color:"text-02",mr:1,children:(0,w.As)(A,4)}),(0,a.jsx)(k.byK,{boxSize:5,color:"text-03"})]})})]}),(0,a.jsxs)(d.gC,{spacing:1,alignItems:"flex-start",gridArea:"fees",children:[(0,a.jsx)(k.xvT,{textStyle:"helper",color:"text-03",children:f("Fees")}),b.isLoading?(0,a.jsx)(J.Od,{display:"inline-block",width:"32px",height:"16px"}):(0,a.jsx)(te.ap,{creatorFeeBps:S?K.O$.from(j.yR):K.O$.from(p._Y),protocolFee:C.data})]}),o?(0,a.jsxs)(d.gC,{spacing:2,alignItems:"flex-start",width:"100%",gridArea:"ask",children:[(0,a.jsx)(le,{onTextChange:s,inputProps:{value:r},width:"100%"}),x&&(0,a.jsx)(k.xvT,{textStyle:"helper",color:"text-error",children:x.message}),!x&&T&&(0,a.jsx)(k.xvT,{textStyle:"helper",color:"text-warning",children:T})]}):(0,a.jsxs)(d.kC,{alignItems:"center",gridArea:"ask",children:[(0,a.jsx)(k.kdU,{boxSize:4}),(0,a.jsx)(k.xvT,{textStyle:"detail",color:"text-01",bold:!0,children:r})]}),o?(0,a.jsx)(Q.hU,{gridArea:"deleteBtn",size:"sm",variant:"outline",colorScheme:"secondary",onClick:function(){return m(n.collection.address,n.tokenId)},"aria-label":"Remove from cart",children:(0,a.jsx)(k.pJl,{})}):(0,a.jsx)(H,{gridArea:"deleteBtn",status:c})]})},ue=n(58105),xe=n(63677),he=function(){var e=(0,i.Z)((function(e){var t,n,i,r;return(0,l.__generator)(this,(function(s){return t=e.value,n=e.minListingPrice,i=e.t,[2,!(r=(0,xe.h)(t,{min:n,required:!0,errorMessages:{BELOW_MIN:i("Price must be at least {{minPrice}} ETH",{minPrice:(0,ue.formatEther)(n)})}}))||r.message]}))}));return function(t){return e.apply(this,arguments)}}(),ge={warnings:{lowerThanFloor:function(e){var t=e.value,n=e.globalFloor,i=e.t,r=(0,X.Wi)(n,t&&(0,w.t1)(t)),s=r.floorDiffPercentString;return!r.hasLowInfoThresholdReached||i("{{floorDiff}}% lower than floor price",{floorDiff:null===s||void 0===s?void 0:s.replace("-","")})}},errors:{invalidPrice:he}},pe={needsListing:"wait",needsSigning:"pending",declined:"error",listed:"done",skipped:"error"},fe=K.O$.from(j.To),me=function(e){var t=e.listingStage,n=e.tokenStatusMap,i=(0,V.Z)(e,["listingStage","tokenStatusMap"]),r=(0,O.$G)().t,l=(0,E.h)().selectedItems,c=(0,u.useState)(""),x=c[0],h=c[1],g=(0,v.Gc)(),p=g.setValue,f=g.getValues;return(0,a.jsxs)(d.xu,(0,o.Z)((0,s.Z)({},i),{children:[t===oe.SCHEDULE&&(0,a.jsxs)(d.kC,{justifyContent:"space-between",alignItems:{base:"flex-start",md:"center"},flexDirection:{base:"column",md:"row"},gap:2,children:[(0,a.jsx)(k.xvT,{textStyle:"heading-04",color:"text-02",bold:!0,mb:{base:4,md:0},whiteSpace:"nowrap",children:r("Set Prices")}),(0,a.jsxs)(d.kC,{p:4,bg:"ui-01",borderRadius:"button",alignItems:"center",children:[(0,a.jsxs)(k.xvT,{textStyle:"detail",color:"text-02",mr:4,children:[r("Set Price for All"),":"]}),(0,a.jsx)(le,{"data-test-id":"bulk-listing-input",onTextChange:function(e){var t=(0,z.Xt)(e);h(t),function(e){var t={};Object.keys(f("tokens")).forEach((function(n){t[n]=e})),p("tokens",t,{shouldValidate:!0})}(t)},inputProps:{value:x,height:"40px"}})]})]}),(0,a.jsx)(d.gC,{spacing:0,children:l.map((function(e){var i=$(e.collection.address,e.tokenId),s="tokens.".concat(i),o=pe[n[i]],l=(0,X.Go)(e.collection.floor).globalFloor,c={invalidPrice:function(e){return ge.errors.invalidPrice({value:e,minListingPrice:fe,t:r})}},d=function(e){return ge.warnings.lowerThanFloor({value:e,globalFloor:l,t:r})};return(0,a.jsx)(v.Qr,{name:s,shouldUnregister:!0,rules:{validate:c,required:!0},render:function(n){var i=n.field,r=i.onChange,l=i.value,c=n.fieldState.error;return(0,a.jsx)(de,{formInputKey:s,isEditable:t===oe.SCHEDULE,nft:e,onChangeInputValue:function(e){r((0,z.Xt)(e))},warningValidation:d,error:c,inputValue:l,status:o})}},s)}))})]}))},ve=n(35361),je=n(65180),Ce=function(e){var t=e.setEndTimeMs,n=e.onStartListing,i=e.isConditionalListing,r=e.totalPriceWei,s=(0,h.$)().t,o=(0,u.useState)(!1),l=o[0],c=o[1],x=(0,E.h)(),g=x.getUniqueCollections,f=x.selectedItems,m=g().length,C=(0,v.Gc)().formState,b=se().warnings,S=Object.values(b).includes("lowerThanFloor"),T=f.length>0&&C.isValid&&(!i||l),y=C.isValid?s(S?"List Anyway":"Start Listing"):s("Set Price for All");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.gC,{spacing:4,pb:6,width:"100%",sx:{"> *":{width:"100%"}},children:[(0,a.jsx)(k.xvT,{color:"text-02",textStyle:"heading-04",bold:!0,children:s("Listing Summary")}),!C.isValid&&(0,a.jsx)(k.xvT,{color:"text-03",textStyle:"helper",children:s("Input valid prices for all the items you want to sell")}),(0,a.jsx)(d.iz,{}),(0,a.jsx)(k.xvT,{textStyle:"detail",color:"text-02",children:s("Listing {{numListed}} from {{numCollections}}",{numListed:"".concat(f.length," ").concat(f.length>1?"items":"item"),numCollections:"".concat(m," ").concat(m>1?"collections":"collection")})}),(0,a.jsxs)(d.kC,{justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(k.xvT,{textStyle:"detail",color:"text-02",children:s("Validity")}),(0,a.jsx)(ve.M,{"data-test-id":"schedule-view-duration-picker",onDateUpdate:t,width:"185px",minWidth:"185px"})]}),(0,a.jsx)(d.iz,{my:4}),(0,a.jsx)(je.q,{priceInEth:(0,w.wE)(r||p._Y).toString(),rebateBpsAsBn:K.O$.from(j.yR),protocolFee:K.O$.from(150),currency:"ETH"}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.cC,{i18nKey:"ocoListingDisclaimer",children:(0,a.jsxs)(k.xvT,{textStyle:"helper",color:"text-02",bold:!0,children:["Only applies to sales via LooksRare:"," ",(0,a.jsx)(k.xvT,{textStyle:"helper",color:"text-02",as:"span",children:"if you sell one of the items on another marketplace, the remaining listing will still be active on LooksRare."})]})}),(0,a.jsx)(d.kC,{children:(0,a.jsx)(k.XZJ,{isChecked:l,onChange:function(){return c((function(e){return!e}))},children:(0,a.jsx)(k.xvT,{textStyle:"detail",children:s("I understand")})})})]})]}),S&&(0,a.jsxs)(d.kC,{mb:4,children:[(0,a.jsx)(k.aNP,{color:"support-warning",mr:4}),(0,a.jsx)(k.xvT,{color:"text-02",textStyle:"detail",children:s("The price you've input for one of more listings is significantly lower than the price of any other NFT from this collection on LooksRare. List anyway?")})]}),(0,a.jsx)(k.zxk,{disabled:!T,"data-id":"schedule-view-start-listing",colorScheme:S?"secondary":"primary",width:"100%",onClick:n,size:"sm",children:y})]})},ke=n(13705),be=n(36068),Se=function(e){var t=e.onClickBackToItems,n=(0,h.$)().t;return(0,a.jsxs)(d.gC,{spacing:2,alignItems:"flex-start",children:[(0,a.jsx)(k.xvT,{color:"text-02",textStyle:"heading-04",bold:!0,children:n("Listing Complete")}),(0,a.jsx)(d.iz,{}),(0,a.jsx)(be.C,{}),(0,a.jsx)(d.xu,{py:4,children:(0,a.jsx)(ke.Hv,{color:"link-01"})}),(0,a.jsx)(Q.zx,{variant:"secondary",width:"100%",onClick:t,size:"sm",children:n("Back to Your Items")})]})};!function(e){e[e.SCHEDULE=0]="SCHEDULE",e[e.TRANSACTION=1]="TRANSACTION",e[e.COMPLETE=2]="COMPLETE"}(oe||(oe={}));var Te=function(e){var t=e.isConditionalListing,n=void 0!==t&&t,f=(0,g.mA)().address,Z=(0,h.$)().t,F=(0,x.useRouter)(),V=(0,g.mx)().data;(0,u.useEffect)((function(){scrollTo({top:0,behavior:"smooth"})}),[]);var U=(0,T.p)(),H=(0,c.qY)(),B=(0,u.useState)(oe.SCHEDULE),G=B[0],q=B[1],K=(0,E.h)(),X=K.clearCart,J=K.selectedItems,Q=K.getUniqueCollections,ee=(0,u.useMemo)((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.reduce((function(e,n){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},$(n.collection.address,n.tokenId),t))}),{})}(J,"")}),[J]),te=(0,v.cI)({defaultValues:{tokens:ee,duration:"1",priceForAll:""},mode:"onChange",reValidateMode:"onChange"}),ne=(0,S.sy)(),ie=(0,S.sr)(),re=(0,b.l)().getDefaultDurationOption,se=(0,u.useState)(new Date(re().value).getTime()),le=se[0],ae=se[1],ce=Q(),de=function(e){var t=(0,g.mA)().address,n=(0,u.useState)(e.reduce((function(e,t){return e[t.address]="needsApproval",e}),{})),a=n[0],c=n[1],d=(0,P.PC)(),x=(0,P.Ci)(),h=function(){var n=(0,i.Z)((function(){var n,i,a,u,g,p,f,m=arguments;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return n=m.length>0&&void 0!==m[0]?m[0]:0,e[n]?(i=e[n],a=i.type,u=i.address,t?(g=j.Yu[a],[4,d(g.abi,u,t,g.transferManagerAddress)]):[3,7]):[2];case 1:return l.sent()?(c((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},i.address,"approved"))})),[2,h(n+1)]):[3,2];case 2:c((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},i.address,"txNeedsConfirmation"))})),l.label=3;case 3:return l.trys.push([3,6,,7]),[4,x(g.abi,u,g.transferManagerAddress)];case 4:return p=l.sent(),c((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},i.address,"txPending"))})),h(n+1),[4,p.wait()];case 5:if(!(f=l.sent()).status)throw c((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},i.address,"txDeclined"))})),new Error("".concat(f.transactionHash," failed"));return c((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},i.address,"approved"))})),[3,7];case 6:return l.sent(),c((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},i.address,"txDeclined"))})),[2,Promise.reject()];case 7:return[2]}}))}));return function(){return n.apply(this,arguments)}}(),p=e.reduce((function(e,t){return e[a[t.address]].push(t),e}),{needsApproval:[],txNeedsConfirmation:[],txPending:[],approved:[],txDeclined:[]});return{handleApproveCollections:h,sortedCollections:p}}(ce),ue=de.sortedCollections,xe=de.handleApproveCollections,he=ue.approved,ge=ue.txPending,pe=ue.txNeedsConfirmation,fe=ue.needsApproval,ve=ue.txDeclined,je=te.watch("tokens"),ke=m()(je,(function(e){return{priceInEth:e,endTimeMs:le}})),be=(0,u.useMemo)((function(){if(ke.length>0)return ke.map((function(e){return e.priceInEth?(0,w.t1)(e.priceInEth):p._Y})).reduce((function(e,t){return n?t.gt(e)?t:e:t.add(e)}))}),[n,ke]),Te=function(e,t){var n=(0,g.mA)().address,a=(0,O.$G)().t,c=(0,S.FY)(),d=(0,S.rF)(),x=(0,N.em)(j.c2.standard),h=(0,R.j)(),f=(0,u.useState)(e.reduce((function(e,t){return e[M(t)]="needsListing",e}),{})),m=f[0],v=f[1],C=(0,u.useCallback)((0,i.Z)((function(){var i,u,g,f,m,k,b,S,T,y,Z,L,E,I,A,P,O,N=arguments;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return i=N.length>0&&void 0!==N[0]?N[0]:0,u=N.length>1?N[1]:void 0,e[i]?(g=e[i],f=M(g),m=g.collection,k=m.address,b=m.type,S=g.tokenId,T=j.c2.standard,y="ERC1155"===b,Z="ERC721"===b,[4,x()]):[2];case 1:return L=l.sent(),E=t[i],I=E.priceInEth,A=E.endTimeMs,P=(0,w.t1)(I),n?y?[4,(0,D.Av)(I,k,S,n)]:[3,3]:[3,8];case 2:return l.sent()?(v((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},f,"declined"))})),[2,Promise.reject({message:a("A duplicate order was found")})]):[3,4];case 3:if(Z&&g.ask&&(0,z.Er)(g.ask.signer,n))return v((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},f,"declined"))})),[2,Promise.reject({message:a("A duplicate order was found")})];l.label=4;case 4:v((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},f,"needsSigning"))})),l.label=5;case 5:return l.trys.push([5,7,,8]),[4,h(j.TL,!0,k,T,p.fh,P,L,j.UB.WETH,{tokenId:S,endTime:A,forceNonce:u,tokenStandard:g.collection.type})];case 6:return l.sent(),v((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},f,"listed"))})),c(k,S),d(k,S),[2,C(i+1,u)];case 7:return O=l.sent(),v((function(e){return(0,o.Z)((0,s.Z)({},e),(0,r.Z)({},f,"declined"))})),[2,Promise.reject({title:a("Transaction Declined!"),message:(0,_.e$)(O)})];case 8:return[2]}}))})),[n,h,x,d,c,t,e,a]),k=e.reduce((function(e,t){var n=M(t);return e[m[n]].push(t),e}),{needsListing:[],needsSigning:[],listed:[],declined:[],skipped:[]});return{handleListAllInSequence:C,sortedTokens:k,tokenStatusMap:m,skipToken:function(e){v((function(t){return(0,o.Z)((0,s.Z)({},t),(0,r.Z)({},e,"skipped"))}))}}}(J,ke),ye=Te.sortedTokens,we=Te.handleListAllInSequence,Ze=Te.tokenStatusMap,Le=Te.skipToken,Ee=ye.needsListing,Ie=ye.needsSigning,Ae=ye.declined,Pe=ye.listed,Oe=ye.skipped,ze=(0,u.useRef)(null),De=function(){var e=(0,i.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:q(oe.TRANSACTION),ze.current&&ze.current.scrollIntoView({behavior:"smooth",block:"center"}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,xe()];case 2:return e.sent(),[3,4];case 3:return e.sent(),U({title:Z("Transaction Declined!"),description:Z("You didn't sign the transaction in your wallet."),status:"error"}),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ne=(0,u.useState)(void 0),Re=Ne[0],_e=Ne[1],Me=(0,u.useCallback)((0,i.Z)((function(){var e,t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:if(!V)throw Error("No signer found");return Re?[2,Re]:[4,V.getAddress()];case 1:return e=n.sent(),[4,(0,C.Ck)(e)];case 2:return t=n.sent(),_e(t),[2,t]}}))})),[V,Re]),Fe=(0,u.useCallback)((0,i.Z)((function(){var e,t,i,r;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:e=Ee.length+Ae.length,t=J.length-e,s.label=1;case 1:return s.trys.push([1,6,,7]),n?[4,Me()]:[3,3];case 2:return i=s.sent(),[3,4];case 3:i=void 0,s.label=4;case 4:return[4,we(t,i)];case 5:return s.sent(),q(oe.COMPLETE),ne(),f&&ie(f),[3,7];case 6:return r=s.sent(),U({title:(null===r||void 0===r?void 0:r.title)||Z("Error!"),description:(null===r||void 0===r?void 0:r.message)||void 0,status:"error"}),[3,7];case 7:return[2]}}))})),[f,Ee.length,Ae.length,J.length,n,Me,we,ne,ie,U,Z]),Ve=he.length,Ue=(0,y.Z)(Ve)||0,We=G===oe.TRANSACTION&&Ve===ce.length&&Ve>Ue;(0,u.useEffect)((function(){We&&Fe()}),[We,Fe]);var He=Oe.length,Be=He>((0,y.Z)(He)||0);(0,u.useEffect)((function(){Be&&Fe()}),[Fe,Be]);var $e,Ge=function(){G===oe.COMPLETE?(X(),F.back()):H.isOpen?F.back():H.onOpen()},qe=($e={},(0,r.Z)($e,oe.SCHEDULE,Z(n?"Conditional Listing":"Bulk Listing")),(0,r.Z)($e,oe.TRANSACTION,Z("Listing in Progress...")),(0,r.Z)($e,oe.COMPLETE,Z(n?"Conditional Listing":"Bulk Listing")),$e);return(0,a.jsxs)(I.W,{py:8,children:[(0,a.jsxs)(d.rj,{width:"100%",gridTemplateAreas:{base:G===oe.SCHEDULE?'"header" "table" "summary"':'"header" "summary" "table"',xl:'"header summary" "table summary"'},rowGap:8,columnGap:{base:0,xl:8},gridTemplateColumns:{xl:"auto 360px"},children:[(0,a.jsxs)(d.xu,{ref:ze,gridArea:"header",children:[(0,a.jsx)(k.rUS,{onClick:Ge,children:(0,a.jsxs)(d.kC,{alignItems:"center",mb:4,children:[(0,a.jsx)(k.Xy7,{boxSize:5,mr:1,color:"link-01"}),(0,a.jsx)(k.xvT,{textStyle:"detail",bold:!0,color:"link-01",children:Z("Back")})]})}),(0,a.jsx)(k.xvT,{textStyle:"display-03",bold:!0,children:qe[G]}),n&&(0,a.jsxs)("span",{children:[(0,a.jsx)(k.xvT,{textStyle:"detail",color:"text-03",mt:4,display:"inline",children:Z("Sell one, keep the other! When one of the items sells on LooksRare, the other listing is instantly canceled.")})," ",(0,a.jsx)(k.rUS,{textStyle:"detail",href:"".concat(j.XG,"/guides/selling-nfts/conditional-listing"),display:"inline",isExternal:!0,color:"link-01",children:Z("Learn More")})]})]}),(0,a.jsx)(v.RV,(0,o.Z)((0,s.Z)({},te),{children:(0,a.jsxs)(L,{children:[(0,a.jsx)(me,{gridArea:"table",listingStage:G,tokenStatusMap:Ze}),(0,a.jsxs)(W,{gridArea:"summary",width:{base:"100%",xl:"360px"},maxWidth:"360px",margin:{base:"auto",xl:"inherit"},maxHeight:G===oe.SCHEDULE?A.MF:"auto",overflowY:G===oe.SCHEDULE?"inherit":"auto",children:[G===oe.SCHEDULE&&(0,a.jsx)(Ce,{setEndTimeMs:ae,onStartListing:De,isConditionalListing:n,totalPriceWei:be}),G===oe.TRANSACTION&&(0,a.jsx)(Y,{endTime:le,approvedCollections:he,txPendingCollections:ge,txNeedsConfirmationCollections:pe,needsApprovalCollections:fe,txDeclinedCollections:ve,needsListingTokens:Ee,needsSigningTokens:Ie,declinedTokens:Ae,listedTokens:Pe,skippedTokens:Oe,onResumeAfterApprovalError:De,onResumeAfterListingError:Fe,onSkipToken:function(){var e=Ae[0],t=e.collection,n=e.tokenId;Le($(t.address,n))}}),G===oe.COMPLETE&&(0,a.jsx)(Se,{onClickBackToItems:Ge})]})]})}))]}),(0,a.jsx)(k.u_l,{isOpen:H.isOpen,title:Z("Stop Listing?"),onClose:H.onClose,closeOnOverlayClick:!1,children:(0,a.jsx)(k.fef,{children:(0,a.jsxs)(d.gC,{spacing:2,children:[(0,a.jsx)(k.xvT,{textStyle:"detail",color:"text-02",mb:4,children:Z("Any listings you already completed will remain active even if you leave during this process.")}),(0,a.jsx)(k.zxk,{onClick:H.onClose,width:"100%",children:Z("Keep Listing")}),(0,a.jsx)(k.zxk,{variant:"outline",colorScheme:"secondary",onClick:Ge,width:"100%",children:Z("Leave")})]})})})]})}},43825:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var i=n(52322),r=n(2784),s=n(47247),o=n(53965),l=n(47542),a=function(e){var t=e.bannerImgSrc,n=e.name,a=e.logoImgSrc,c=e.isLargeLayout,d=void 0!==c&&c,u=(0,s.ff)("linear-gradient(90deg, rgba(255, 255, 255, 0.8) 0.15%, rgba(255, 255, 255, 0) 100%)","linear-gradient(90deg, rgba(18, 22, 25, 0.8) 0.15%, rgba(18, 22, 25, 0) 100%)"),x=(0,r.useMemo)((function(){return d?{"& > span::after":{content:'" "',position:"absolute",left:0,top:0,width:"100%",height:"100%",background:u}}:{}}),[d,u]);return t?(0,i.jsx)(o.xu,{sx:x,children:(0,i.jsx)(l.E,{className:d?"collection-banner-dim-dark":"",src:t,alt:n,layout:"fill",objectFit:"cover",sizes:"100vw",quality:"auto:low",priority:!0})}):a?(0,i.jsx)(o.xu,{sx:x,children:(0,i.jsx)(l.E,{className:d?"collection-banner-blur-large":"collection-banner-blur",src:a,alt:n,layout:"fill",objectFit:"cover",sizes:"128px",priority:!0})}):null}}}]);
//# sourceMappingURL=7147-4a76f27db8c38984.js.map