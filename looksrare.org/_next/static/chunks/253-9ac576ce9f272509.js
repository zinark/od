"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{96762:function(e,t,r){r.d(t,{A6:function(){return b},Fg:function(){return y},Hi:function(){return A},I$:function(){return O},Qc:function(){return m},Qo:function(){return x},h8:function(){return k},se:function(){return v}});var n=r(98788),a=r(66383),i=r(5163),u=r(2784),s=r(10528),o=r(89157),c=r(69702),l=r(66170),d=r(89585),f=r(73854),h=s.O$.from("350000"),g=s.O$.from("500000"),p=function(){var e=(0,n.Z)((function(e){var t,r,n,u,c,d,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=s.O$.from(12),r=[{contractAddress:l.UB.AGGREGATOR_UNISWAP_V3,functionName:"lastHarvestBlock"},{contractAddress:l.UB.AGGREGATOR_UNISWAP_V3,functionName:"harvestBufferBlocks"}],[4,(0,o.Ap)(e,l.UB.MULTICALL2,o.hv,r)];case 1:return n=a.Z.apply(void 0,[i.sent(),2]),u=n[0],c=n[1],[4,e.getBlockNumber()];case 2:return d=i.sent(),f=u.add(c).sub(s.O$.from(d)),[2,f.lte(t)]}}))}));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){return e?t.gt(g)?t:g:t.gt(h)?t:h},x=function(){var e=(0,c.mx)().data,t=(0,c.yL)(),r=(0,f.Rt)(e);return(0,u.useCallback)(function(){var e=(0,n.Z)((function(e){var n,a,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,p(t)];case 1:return n=i.sent(),[4,(0,d.QH)(r,"deposit",[e])];case 2:return a=i.sent(),u=S(n,a),[2,r.deposit(e,{gasLimit:u})]}}))}));return function(t){return e.apply(this,arguments)}}(),[t,r])},m=function(){var e=(0,c.mx)().data,t=(0,c.yL)(),r=(0,f.Rt)(e);return(0,u.useCallback)(function(){var e=(0,n.Z)((function(e){var n,a,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,p(t)];case 1:return n=i.sent(),[4,(0,d.QH)(r,"withdraw",[e])];case 2:return a=i.sent(),u=S(n,a),[2,r.withdraw(e,{gasLimit:u})]}}))}));return function(t){return e.apply(this,arguments)}}(),[t,r])},v=function(){var e=(0,c.mx)().data,t=(0,c.yL)(),r=(0,f.Rt)(e);return(0,u.useCallback)((0,n.Z)((function(){var e,n,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,p(t)];case 1:return e=i.sent(),[4,(0,d.QH)(r,"withdrawAll")];case 2:return n=i.sent(),a=S(e,n),[2,r.withdrawAll({gasLimit:a})]}}))})),[t,r])},y=function(){var e=(0,c.yL)(),t=(0,f.Rt)(e);return(0,u.useCallback)(function(){var e=(0,n.Z)((function(e){var r;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.userInfo(e)];case 1:return r=n.sent(),[2,{shares:s.O$.from(r)}]}}))}));return function(t){return e.apply(this,arguments)}}(),[t])},O=function(){var e=(0,c.yL)(),t=(0,f.Rt)(e);return(0,u.useCallback)((0,n.Z)((function(){var e;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.thresholdAmount()];case 1:return e=r.sent(),[2,s.O$.from(e)]}}))})),[t])},k=function(){var e=(0,c.yL)(),t=(0,f.Rt)(e);return(0,u.useCallback)((0,n.Z)((function(){var e;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.calculateSharePriceInLOOKS()];case 1:return e=r.sent(),[2,s.O$.from(e)]}}))})),[t])},A=function(){var e=(0,c.yL)(),t=(0,f.Rt)(e);return(0,u.useCallback)(function(){var e=(0,n.Z)((function(e){var r;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.calculateSharesValueInLOOKS(e)];case 1:return r=n.sent(),[2,s.O$.from(r)]}}))}));return function(t){return e.apply(this,arguments)}}(),[t])},b=function(){var e=(0,c.yL)(),t=(0,f.Rt)(e);return(0,u.useCallback)((0,n.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.paused()];case 1:return[2,e.sent()]}}))})),[t])}},63501:function(e,t,r){r.d(t,{I$:function(){return d},Il:function(){return s},J0:function(){return c},Xr:function(){return f},mw:function(){return l},qO:function(){return o}});var n=r(70865),a=r(82066),i=r(66170),u=r(96762),s="aggregator-uniswap-v3",o=function(e){var t=(0,u.h8)();return(0,a.useQuery)([s,"share-price-in-looks"],(function(){return t()}),(0,n.Z)({refetchInterval:i.O$},e))},c=function(e,t){var r=(0,u.Fg)();return(0,a.useQuery)([s,"user-info",e],(function(){return r(e)}),(0,n.Z)({refetchInterval:i.O$},t))},l=function(e,t){var r=(0,u.Hi)();return(0,a.useQuery)([s,"user-shares-in-looks",e],(function(){return r(e)}),(0,n.Z)({refetchInterval:i.O$},t))},d=function(e){var t=(0,u.I$)();return(0,a.useQuery)([s,"threshold"],(function(){return t()}),(0,n.Z)({},e))},f=function(e){var t=(0,u.A6)();return(0,a.useQuery)([s,"paused"],(function(){return t()}),(0,n.Z)({},e))}},96212:function(e,t,r){r.d(t,{V:function(){return d}});var n=r(98788),a=r(70865),i=r(66383),u=r(5163),s=r(82066),o=r(69702),c=r(89157),l=r(66170),d=function(e){var t=(0,o.yL)();return(0,s.useQuery)(["token-distributor-values"],(0,n.Z)((function(){var e,r,n,a;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return e=[{contractAddress:l.UB.TOKEN_DISTRIBUTOR,functionName:"rewardPerBlockForStaking"},{contractAddress:l.UB.TOKEN_DISTRIBUTOR,functionName:"totalAmountStaked"}],[4,(0,c.Ap)(t,l.UB.MULTICALL2,c.V_,e)];case 1:return r=i.Z.apply(void 0,[u.sent(),2]),n=r[0],a=r[1],[2,{rewardPerBlockForStaking:n,totalAmountStaked:a}]}}))})),(0,a.Z)({},e))}},34699:function(e,t,r){r.d(t,{p:function(){return d}});var n=r(26297),a=r(49222),i=r(66170),u=r(85326),s=r(63501),o=r(64264),c=r(20070),l=r(58486),d=function(){var e=(0,l.TF)(),t=e.looksPriceInWeth,r=e.isSuccess,d=e.isLoading,f=(0,o.EZ)(),h=f.data,g=(0,n.Z)(f,["data"]),p=(0,s.I$)(),S=p.data,x=(0,n.Z)(p,["data"]),m=(0,c.U)(),v=m.feeSharingTotalLOOKSWei,y=m.aggregatorTotalLOOKSWei,O=(0,n.Z)(m,["feeSharingTotalLOOKSWei","aggregatorTotalLOOKSWei"]),k=t&&h&&v&&(0,u.j6)(t,h,v),A=v&&y&&a.xs.from(y).divUnsafe(a.xs.from(v.gt(0)?v:1)),b=A&&h&&a.xs.from(h).mulUnsafe(a.xs.from(i.dH)).mulUnsafe(A),w=S&&b&&b.divUnsafe(a.xs.from(S)).round().toUnsafeFloat()||1;return{apy:k&&w&&(0,u.g5)(k,w),apr:k,dailyCompounds:w,isSuccess:r&&g.isSuccess&&O.isSuccess&&x.isSuccess,isLoading:d||g.isLoading||O.isLoading||x.isLoading}}},20070:function(e,t,r){r.d(t,{$:function(){return g},U:function(){return p}});var n=r(98788),a=r(70865),i=r(96670),u=r(66383),s=r(5163),o=r(82066),c=r(69702),l=r(89157),d=r(66170),f=r(4611),h=function(){var e=(0,n.Z)((function(e){var t,r,n,a,i,o,c,f,h;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return t=[{contractAddress:d.UB.FEE_SHARING_SYSTEM,functionName:"totalShares",params:[]},{contractAddress:d.UB.FEE_SHARING_SYSTEM,functionName:"calculateSharePriceInLOOKS",params:[]}],r=[{contractAddress:d.UB.AGGREGATOR_UNISWAP_V3,functionName:"totalShares",params:[]},{contractAddress:d.UB.AGGREGATOR_UNISWAP_V3,functionName:"calculateSharePriceInLOOKS",params:[]}],[4,Promise.all([(0,l.Ap)(e,d.UB.MULTICALL2,l.hv,r),(0,l.Ap)(e,d.UB.MULTICALL2,l.cM,t)])];case 1:return n=u.Z.apply(void 0,[s.sent(),2]),a=(0,u.Z)(n[0],2),i=a[0],o=a[1],c=(0,u.Z)(n[1],2),f=c[0],h=c[1],[2,{feeSharingTotalShares:f,aggregatorTotalShares:i,feeSharingSharePriceLOOKS:h,aggregatorSharePriceLOOKS:o}]}}))}));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=(0,c.yL)();return(0,o.useQuery)(["looks-in-fee-sharing-pools-data"],(function(){return h(t)}),(0,i.Z)((0,a.Z)({},e),{refetchInterval:d.O$,enabled:(null===e||void 0===e?void 0:e.enabled)&&d.TL!==l.HL.HARDHAT}))},p=function(){var e=g(),t=e.data||{},r=t.feeSharingTotalShares,n=t.aggregatorTotalShares,i=t.aggregatorSharePriceLOOKS,u=t.feeSharingSharePriceLOOKS,s=r&&u&&u.mul(r),o=s&&s.div((0,f.t1)("1")),c=n&&i&&i.mul(n),l=c&&c.div((0,f.t1)("1"));return(0,a.Z)({aggregatorTotalLOOKSWei:l,feeSharingTotalLOOKSWei:o},e)}},35646:function(e,t,r){r.d(t,{J:function(){return u}});var n=r(90711),a=r(85326),i=r(96212),u=function(){var e,t,r=(0,i.V)(),u=(null===(e=r.data)||void 0===e?void 0:e.rewardPerBlockForStaking)&&(null===(t=r.data)||void 0===t?void 0:t.totalAmountStaked)&&(0,a.j6)(n.Ce,r.data.rewardPerBlockForStaking,r.data.totalAmountStaked);return{apr:u,sevenDayApy:u&&(0,a.g5)(u,24,7),oneDayApy:u&&(0,a.g5)(u,24,1),annualApy:u&&(0,a.g5)(u,24),isSuccess:r.isSuccess,isLoading:r.isLoading}}},85326:function(e,t,r){r.d(t,{TD:function(){return c},g5:function(){return o},j6:function(){return s}});var n=r(90711),a=r(10528),i=r(49222),u=365*r(66170).dH,s=function(e,t,r){var s=n.Ce.mul(t.mul(u)),o=a.O$.from(e).mul(r);if(!o.isZero())return i.xs.from(s).divUnsafe(i.xs.from(o)).mulUnsafe(i.xs.from(100)).toUnsafeFloat()},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,n=r/365,a=e/100,i=365*t,u=Math.pow(1+a/i,i*n)-1;return 100*u},c=function(e,t){return 100*((1+e/100)*(1+t/100)-1)}},92065:function(e,t,r){r.d(t,{hp:function(){return c},xI:function(){return o}});var n=r(52322),a=r(53965),i=r(51509),u=r(76699),s=r(17686),o=function(e){var t=e.looksApr,r=e.wethApr,o=e.children,c=(0,u.$)().t;return(0,n.jsx)(s.J2e,{label:(0,n.jsxs)(a.kC,{flexDirection:"column",minWidth:"280px",children:[(0,n.jsx)(s.k52,{textStyle:"detail",mb:4,children:c("This calculation includes both LOOKS and WETH earned.")}),(0,n.jsx)(a.iz,{bg:"border-01"}),(0,n.jsxs)(a.kC,{justifyContent:"space-between",my:4,children:[(0,n.jsx)(s.k52,{textStyle:"detail",children:c("Current {{token}} APR",{token:"LOOKS"})}),t?(0,n.jsxs)(s.k52,{textStyle:"detail",bold:!0,children:[t,"%"]}):(0,n.jsx)(i.Od,{height:"16px",width:"60px"})]}),(0,n.jsx)(a.iz,{bg:"border-01"}),(0,n.jsxs)(a.kC,{justifyContent:"space-between",my:4,children:[(0,n.jsx)(s.k52,{textStyle:"detail",children:c("Current {{token}} APR",{token:"WETH"})}),r?(0,n.jsxs)(s.k52,{textStyle:"detail",bold:!0,children:[r,"%"]}):(0,n.jsx)(i.Od,{height:"16px",width:"60px"})]}),(0,n.jsx)(s.k52,{textStyle:"helper",mb:4,children:c("The rates shown on this page are only provided for your reference: The actual rates will fluctuate according to many different factors, including token prices, trading volume, liquidity, amount committed, and more.")}),(0,n.jsx)(s.k52,{textStyle:"helper",children:c("Trading fees collected by the protocol are distributed as rewards to users committing LOOKS. Reward rates are adjusted roughly every 24 hours, based on the past 24 hours\u2019 trading activity.")})]}),children:o})},c=function(e){var t=e.looksApr,r=e.wethApr,o=e.wethApy,c=e.dailyCompounds,l=e.children,d=(0,u.$)().t;return(0,n.jsx)(s.J2e,{label:(0,n.jsxs)(a.xu,{children:[(0,n.jsxs)(a.gC,{alignItems:"flex-start",spacing:2,children:[(0,n.jsxs)(a.kC,{justifyContent:"space-between",width:"100%",children:[(0,n.jsx)(s.k52,{textStyle:"helper",children:d("LOOKS APR")}),t?(0,n.jsxs)(s.k52,{textStyle:"helper",bold:!0,children:[t,"%"]}):(0,n.jsx)(i.Od,{height:"16px",width:"60px"})]}),(0,n.jsxs)(a.kC,{justifyContent:"space-between",width:"100%",children:[(0,n.jsx)(s.k52,{textStyle:"helper",children:d("WETH (Fee Sharing) APR")}),r?(0,n.jsxs)(s.k52,{textStyle:"helper",bold:!0,children:[r,"%"]}):(0,n.jsx)(i.Od,{height:"16px",width:"60px"})]}),(0,n.jsxs)(a.kC,{justifyContent:"space-between",width:"100%",children:[(0,n.jsx)(s.k52,{textStyle:"helper",children:d("WETH (Fee Sharing) APY")}),o?(0,n.jsxs)(s.k52,{textStyle:"helper",bold:!0,children:[o,"%"]}):(0,n.jsx)(i.Od,{height:"16px",width:"60px"})]}),(0,n.jsxs)(a.kC,{justifyContent:"space-between",width:"100%",children:[(0,n.jsx)(s.k52,{textStyle:"helper",children:d("Daily estimated compounds")}),c?(0,n.jsx)(s.k52,{textStyle:"helper",bold:!0,children:c}):(0,n.jsx)(i.Od,{height:"16px",width:"60px"})]})]}),(0,n.jsxs)(a.gC,{alignItems:"flex-start",mt:4,spacing:4,children:[(0,n.jsx)(a.iz,{bg:"border-01"}),(0,n.jsx)(s.k52,{textStyle:"helper",bold:!0,children:d("APY = (1 + WETH APY) * (1 + LOOKS APR) - 1")}),(0,n.jsx)(s.k52,{textStyle:"caption",children:d("Rates shown are estimates, and fluctuate according to many different factors, including token prices, trading volume, liquidity, amount committed, and more.")}),(0,n.jsx)(s.k52,{textStyle:"caption",children:d("Trading fees collected by the protocol are distributed as rewards to users committing LOOKS. Reward rates are adjusted roughly every 24 hours, based on the past 24 hours\u2019 trading activity.")})]})]}),children:l})}}}]);
//# sourceMappingURL=253-9ac576ce9f272509.js.map